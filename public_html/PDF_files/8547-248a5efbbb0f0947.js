(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8547],{8976:function(e,t,n){"use strict";n.d(t,{Jz:function(){return o},Vc:function(){return r}});let o="edit_file",r="edit_file_name"},6002:function(e,t,n){"use strict";n.d(t,{H:function(){return l}});var o=n(5893),r=n(5675),a=n.n(r);n(7294);var i={src:"/_next/static/media/logo-new-design.26b4f696.svg",height:32,width:175};let l=()=>(0,o.jsx)(a(),{src:i,alt:"PDFMaster logo",className:"w-[132px] mobile:w-[175px] h-fit"})},8547:function(e,t,n){"use strict";n.d(t,{c:function(){return ea}});var o,r,a,i,l,c,s,d=n(5893),u=n(7294),m=n(8976),p=n(7538),f=n(3703),b=n(167),h=n(2123),g=n(3790),v=n(9343),x=n(7783),y=n(1916),w=n(3819);let k=async(e,t)=>{let n=w.e.getItem(e),o=w.e.getItem(t);if(console.log("fileUrl",n),console.log("fileName",o),!n||!o)return null;try{let r=await fetch(n).then(e=>e.blob());if(console.log("fileBlob",r),null===r)return null;let a=new File([r],o,{type:"application/pdf"});return{blob:r,file:a}}catch(i){throw Error()}};var _=n(6926);let C=()=>{let e;let t=(0,g.t)(),{setIsLoading:n}=(0,p.U2)(),{showPopup:o,hidePopup:r}=(0,f.BF)(),{isRemoteConfigLoading:a}=(0,b.V_)(),{user:i}=(0,h.aF)(),[l,c]=u.useState(null),[s,d]=u.useState(null),[C,E]=u.useState(!1),[S,I]=u.useState(void 0),[P,z]=u.useState(!0),[j]=u.useState(null),N=e=>"split-pdf"===t.query.feature||e.includes("filled")||e.includes("edited")?e:t.query.form?"filled_".concat(e):"edited_".concat(e),D=()=>{if(x.c.sendEvent({event:"main_page_tap"}),!(null==i?void 0:i.subscription)){t.push(v.C.MAIN);return}window.pdfUi.getPDFViewer().then(e=>e.getCurrentPDFDoc().getFile()).then(e=>{let t=JSON.parse(w.e.getItem("uploaded_file")||"{}"),n=s||t,o=n.id,r=N(n.filename),a=new File([e],r,{lastModified:new Date().getTime(),type:"application/pdf"});y.b.editor.editSave(o,a)}).finally(()=>{t.push(v.C.MAIN)})},F=()=>{x.c.sendEvent({event:"dashboard_tap"}),window.pdfUi.getPDFViewer().then(e=>e.getCurrentPDFDoc().getFile()).then(e=>{let n=JSON.parse(w.e.getItem("uploaded_file")||"{}"),o=s||n,r=o.id,a=N(o.filename),i=new File([e],a,{lastModified:new Date().getTime(),type:"application/pdf"});E(!0),y.b.editor.editSave(r,i).then(()=>{window.removeEventListener("beforeunload",B),t.events.off("routeChangeStart",q),E(!1),t.push(v.C.DASHBOARD)})})},A=()=>{window.pdfUi.getPDFViewer().then(e=>e.getCurrentPDFDoc().getFile()).then(e=>{let n=JSON.parse(w.e.getItem("uploaded_file")||"{}"),r=s||n,a=r.id,i=N(r.filename),l=new File([e],i,{lastModified:new Date().getTime(),type:"application/pdf"});E(!0),y.b.editor.editSave(a,l).then(e=>{E(!1),window.removeEventListener("beforeunload",B),t.events.off("routeChangeStart",q),x.c.sendEvent({event:"download_PDF_tap"}),o("convert-from-editor-b",{fileId:e.id,file:l,filename:i})})})},T=u.useCallback(()=>{setTimeout(()=>{if(e){w.e.removeItem("reloadedPage"),t.push(v.C.MAIN);return}localStorage.setItem("reloadedPage","true"),window.location.reload()},1500)},[e]),L=e=>{x.c.sendEvent({event:"editor_file_loading_status",data:{loaded:e}}),e||T()},U=async e=>{try{let t=await fetch("./assets/forms/".concat(e,".pdf")),n=await t.blob();c(n)}catch(o){console.error("Error fetching PDF:",o),c(null)}};u.useEffect(()=>{x.c.sendEvent({event:"saving_file_from_editor_view"}),e=localStorage.getItem("reloadedPage")},[P]),u.useEffect(()=>{let e=t.query.file,n=!1;if(t.isReady){if(e){if(y.b.files.getFiles().then(t=>{let o=t.files.find(t=>t.id===e);d(o||null),(null==o?void 0:o.filename.startsWith("edited_"))&&(n=!0)}),n)return;y.b.files.downloadFile(e).then(e=>fetch(e.url).then(e=>(w.e.removeItem("reloadedPage"),I(e.url),e.arrayBuffer())).then(e=>c(e)).catch(()=>setTimeout(()=>{n||T()},500))).catch(()=>setTimeout(()=>{n||T()},500));return}if(t.query.form){U(t.query.form);return}k(m.Jz,m.Vc).then(e=>{if(null!==e){c(e.blob);return}let t=JSON.parse(w.e.getItem("uploaded_file")||"{}");d(t)}).catch(()=>{let e=JSON.parse(w.e.getItem("uploaded_file")||"{}");d(e),y.b.files.downloadFile(e.id).then(e=>fetch(e.url).then(e=>(w.e.removeItem("reloadedPage"),I(e.url),e.arrayBuffer())).then(e=>c(e)).catch(()=>setTimeout(()=>{n||T()},500)))})}},[t.query.file,t.isReady]),u.useEffect(()=>{if(n(!1),x.c.sendEvent({event:"editor_screen_view"}),!t.query.form)return(0,_.l)(),()=>r()},[]);let B=u.useCallback(e=>{e.preventDefault(),e.returnValue=""},[]),q=u.useCallback(()=>{if(window.confirm("Are you sure you wish to leave page? Changes you made might not be saved"))return!0;throw"Abort route change by user's confirmation."},[]);return u.useEffect(()=>(window.addEventListener("beforeunload",B),t.events.on("routeChangeStart",q),()=>{window.removeEventListener("beforeunload",B),t.events.off("routeChangeStart",q)}),[B,q]),u.useEffect(()=>()=>{window.location.reload()},[]),{onDashboardClick:F,clickOnLogo:D,isAuthorized:(null==i?void 0:i.email)!==null,onConvertClick:A,fileArrayBuffer:l,fileUrl:s&&!l?S:void 0,isFileSaving:C,isLoading:P,setIsLoaderLoading:z,featureName:t.query.feature,testVariant:j,onLoadingFileStatus:L,isRemoteConfigLoading:a,isSplitPdf:"split-pdf"===t.query.feature}};var E=n(3751),S=n(888),I=n(5754),P=n(8541);let z=e=>'<webpdf @aria:circular-focus>\n    <toolbar name="toolbar" class="fv__ui-toolbar-scrollable" @aria:role="navigation" @aria:label="aria:labels.toolbar.nav-title">\n        <div class="fv__ui-toolbar-tab-bodies" name="toolbar-tab-bodies">\n            <paddle exclude-devices="tablet" name="fv--home-tab-paddle" @portfolio.unsupport  @aria:toolbar>\n                <group-list name="home-toolbar-group-list">\n                    <group name="home-tab-group-hand" shrink-size="500">\n\n                      <gtab name="edit-tab" group="toolbar-tab" body="fv--edit-tab-paddle" text="toolbar.tabs.edit.title" style="display:none!important"></gtab>\n                      <gtab group="toolbar-tab" body="fv--joinsplit-tab-paddle" name="joinsplit-tab" text="toolbar.tabs.join&split.title" style="display:none!important"></gtab>\n                      <paddle name="fv--protect-tab-paddle" visible="true" ></paddle>\n                      <div class="fv__ui-portfolio-container" visible="true"></div>\n\n                      <hand-ribbon-button text="'.concat(e("editor_tools.move"),'"></hand-ribbon-button>\n                      <ribbon-button @controller="states:SelectTextImageController" text="').concat(e("editor_tools.select_text"),'"\n                                      name="select-text-image" icon-class="fx-icon-ribbon_home_selecttextandimage-32">\n                      </ribbon-button>\n\n                      <page-editor:add-text-button @async></page-editor:add-text-button>\n                      <page-editor:edit-text @async></page-editor:edit-text>\n                      <universe:eraser-btn></universe:eraser-btn>\n                      <create-pencil-ribbon-button></create-pencil-ribbon-button>\n                      <page-editor:edit-object-ribbon-dropdown @async></page-editor:edit-object-ribbon-dropdown>\n                      <add-image-ribbon-button></add-image-ribbon-button>\n                      <ink-sign-ribbon-dropdown name="fv--ink-sign-dropdown" text="Sign"></ink-sign-ribbon-dropdown>\n                      <ribbon-button name="own-cross-stamp" icon-class="own-cross-stamp-icon" text=').concat(e("editor_tools.cross"),'></ribbon-button>\n                      <ribbon-button name="own-check-stamp" icon-class="own-check-stamp-icon" text=').concat(e("editor_tools.check"),'></ribbon-button>\n                      <universe:redact-btn></universe:redact-btn>\n                      <universe:highlight-btn></universe:highlight-btn>\n                      <create-textbox-ribbon-button></create-textbox-ribbon-button>\n                      <create-note-ribbon-button></create-note-ribbon-button>\n\n                      <page-editor:add-shapes-ribbon-dropdown @async></page-editor:add-shapes-ribbon-dropdown>\n                      <universe:box-btn></universe:box-btn>\n                      <universe:circle-btn></universe:circle-btn>\n                      <universe:line-btn></universe:line-btn>\n\n                      <stamp-ribbon-dropdown visible="false"></stamp-ribbon-dropdown>\n\n                      <div class="more-tools">\n                        <div class="more-tools__button">\n                          <img src="/assets/img/editor-icons/more-tools.svg" alt="More tools">\n                          <div>').concat(e("editor_tools.more_tools"),'</div>\n                        </div>\n                        <div class="more-tools__list">\n                          <page-editor:edit-text @async></page-editor:edit-text>\n                          <page-editor:add-text-button @async></page-editor:add-text-button>\n                          <universe:eraser-btn></universe:eraser-btn>\n                          <create-pencil-ribbon-button></create-pencil-ribbon-button>\n                          <page-editor:edit-object-ribbon-dropdown @async></page-editor:edit-object-ribbon-dropdown>\n                          <add-image-ribbon-button></add-image-ribbon-button>\n                          <ink-sign-ribbon-dropdown name="fv--ink-sign-dropdown" text="Sign"></ink-sign-ribbon-dropdown>\n                          <ribbon-button name="own-cross-stamp" icon-class="own-cross-stamp-icon" text=').concat(e("editor_tools.cross"),'></ribbon-button>\n                          <ribbon-button name="own-check-stamp" icon-class="own-check-stamp-icon" text=').concat(e("editor_tools.check"),'></ribbon-button>\n                          <universe:redact-btn></universe:redact-btn>\n                          <universe:highlight-btn></universe:highlight-btn>\n                          <create-textbox-ribbon-button class="custom-textbox"></create-textbox-ribbon-button>\n                          <create-note-ribbon-button class="custom-note"></create-note-ribbon-button>\n\n                          <page-editor:add-shapes-ribbon-dropdown @async></page-editor:add-shapes-ribbon-dropdown>\n                          <universe:line-btn></universe:line-btn>\n                          <universe:box-btn></universe:box-btn>\n                          <universe:circle-btn></universe:circle-btn>\n                          \n                        </div>\n                      </div>\n                    </group>\n                </group-list>\n\n                <group-list name="home-tab-group-other">\n                      <group name="home-tab-group-io" shrink-size="500" shrink-title="toolbar.more.document.title">\n                          <ribbon-button name="own-undo-btn" icon-class="own-undo-btn-icon" text=').concat(e("editor_tools.undo"),'></ribbon-button>\n                          <ribbon-button name="own-redo-btn" icon-class="own-redo-btn-icon" text=').concat(e("editor_tools.redo"),'></ribbon-button>\n                          <password-protect:password-protect-ribbon-dropdown text="').concat(e("editor_tools.password_protect"),'"></password-protect:password-protect-ribbon-dropdown>\n                          <find-replace:find-replace-button visible="true" text="').concat(e("editor_tools.search"),'"></find-replace:find-replace-button>\n                          <zoom-ribbon-dropdown text="').concat(e("editor_tools.zoom"),'"></zoom-ribbon-dropdown>\n                      </group>\n                  </group-list>\n            </paddle>\n            <comparison:tab-body></comparison:tab-body>\n        </div>\n\n    </toolbar>\n    <div class="fv__ui-body">\n        <sidebar name="sidebar" @controller="sidebar:SidebarController" @portfolio-layout="cover" @sidebar:limit-size.viewer="300">\n            <bookmark-sidebar-panel></bookmark-sidebar-panel>\n            <thumbnail-sidebar-panel @require-modules="thumbnail"></thumbnail-sidebar-panel>\n            <commentlist-sidebar-panel></commentlist-sidebar-panel>\n            <layer-sidebar-panel @hide-on-sr></layer-sidebar-panel>\n            <attachment-sidebar-panel></attachment-sidebar-panel>\n            <field-sidebar-panel @require-modules="form-designer" @display-on-device="desktop" @collab-unsupported></field-sidebar-panel>\n        </sidebar>\n        <portfolio-container>\n            <portfolio-sidebar @portfolio-layout="portfolio,details" @lazy-content="portfolio-layout-shown">\n                <portfolio-sidebar-header>\n                    <portfolio-path></portfolio-path>\n                    <portfolio-toolbar>\n                        <portfolio-extract-selected-item-button></portfolio-extract-selected-item-button>\n                        <portfolio-show-node-properties-button></portfolio-show-node-properties-button>\n                    </portfolio-toolbar>\n                </portfolio-sidebar-header>\n                <portfolio-node-container>\n                    <div class="fv__ui-portfolio-node-tree" @controller="PortfolioNodeTreeController as tree">\n                        <portfolio-details-header @portfolio-layout="details" @sync.columns="tree.columns"></portfolio-details-header>\n                        <portfolio-node-list>\n                            <portfolio-node\n                                @foreach.cached = "fileNode in tree.fileNodes track by handle"\n                                @sync.display = "tree.display"\n                                @sync.data = "fileNode"\n                                @sync.columns="tree.columns"\n                                @contextmenu="fv--portfolio-file-item-contextmenu"\n                            ></portfolio-node>\n                        </portfolio-node-list>\n                    </div>\n                </portfolio-node-container>\n            </portfolio-sidebar>\n            <div name="fv--portfolio-previewer-container" class="fv__ui-portfolio-previewer-container">\n                <!-- previewers -->\n                <distance:ruler-container name="pdf-viewer-container-with-ruler" @portfolio-cover-sheet>\n                    <slot>\n                        <viewer\n                            @zoom-on-pinch\n                            @zoom-on-doubletap\n                            @zoom-on-wheel\n                            @touch-to-scroll\n                            @alt.main=":::css(`.fv__pdf -\n      viewer -\n      container`)"\n                        ></viewer>\n                    </slot>\n                </distance:ruler-container>\n                <portfolio-previewer-group @portfolio-layout="portfolio,details" @lazy-content="portfolio-layout-shown">\n                    <portfolio-unsupported-previewer></portfolio-unsupported-previewer>\n                    <portfolio-pdf-previewer></portfolio-pdf-previewer>\n                    <portfolio-video-previewer></portfolio-video-previewer>\n                    <portfolio-audio-previewer></portfolio-audio-previewer>\n                    <portfolio-image-previewer></portfolio-image-previewer>\n                    <portfolio-plain-text-previewer></portfolio-plain-text-previewer>\n                </portfolio-previewer-group>\n                <portfolio-loading-layer></portfolio-loading-layer>\n            </div>\n        </portfolio-container>\n        <sidebar-right min-width="300" max-width="360" name="sidebar-right" @lazy-content="shown">\n          <sidebar-tabs name="sidebar-right-tabs">\n            <sidebar-tab-panel name="edit-properties-panel" tab-title="editProperties.tab.format">\n              <edit-properties:edit-properties name="edit-properties"></edit-properties:edit-properties>\n            </sidebar-tab-panel>\n          </sidebar-tabs>\n        </sidebar-right>\n    </div>\n    <template name="template-container">\n        <create-stamp-dialog @lazy></create-stamp-dialog>\n        <print:print-dialog @lazy></print:print-dialog>\n        <page-template:page-template-dialog @lazy></page-template:page-template-dialog>\n        <loupe-tool-dialog @lazy></loupe-tool-dialog>\n        <create-ink-sign-dialog @lazy></create-ink-sign-dialog>\n        <fpmodule:file-property-dialog @lazy></fpmodule:file-property-dialog>\n        <redaction:redaction-page-dialog @hide-on-sr @lazy></redaction:redaction-page-dialog>\n        <!-- contextmenus -->\n        <page-contextmenu></page-contextmenu>\n        <default-annot-contextmenu @lazy></default-annot-contextmenu>\n        <markup-contextmenu @lazy></markup-contextmenu>\n        <markup-contextmenu @lazy name="fv--line-contextmenu"></markup-contextmenu>\n        <markup-contextmenu @lazy name="fv--linearrow-contextmenu"></markup-contextmenu>\n        <markup-contextmenu @lazy name="fv--linedimension-contextmenu"></markup-contextmenu>\n        <markup-contextmenu @lazy name="fv--polylinedimention-contextmenu"></markup-contextmenu>\n        <markup-contextmenu @lazy name="fv--polygondimension-contextmenu"></markup-contextmenu>\n        <markup-contextmenu @lazy name="fv--circle-contextmenu"></markup-contextmenu>\n        <markup-contextmenu @lazy name="fv--square-contextmenu"></markup-contextmenu>\n        <markup-contextmenu @lazy name="fv--polyline-contextmenu"></markup-contextmenu>\n        <markup-contextmenu @lazy name="fv--polygon-contextmenu"></markup-contextmenu>\n        <markup-contextmenu @lazy name="fv--polygoncloud-contextmenu"></markup-contextmenu>\n        <markup-contextmenu @lazy name="fv--ink-contextmenu"></markup-contextmenu>\n        <markup-contextmenu @lazy name="fv--stamp-contextmenu"></markup-contextmenu>\n        <markup-contextmenu @lazy name="fv--text-contextmenu"></markup-contextmenu>\n        <caret-contextmenu name="fv--areahighlight-contextmenu" @lazy></caret-contextmenu>\n        <caret-contextmenu name="fv--replace-contextmenu" @lazy></caret-contextmenu>\n        <measurement-contextmenu @lazy></measurement-contextmenu>\n        <caret-contextmenu name="fv--caret-contextmenu"></caret-contextmenu>\n        <textmarkup-contextmenu @lazy name="fv--highlight-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu @lazy name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu @lazy name="fv--underline-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu @lazy name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\n        <freetext-contextmenu @lazy name="fv--typewriter-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu @lazy name="fv--callout-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu @lazy name="fv--textbox-contextmenu"></freetext-contextmenu>\n        <action-annot-contextmenu @lazy name="fv--image-contextmenu"></action-annot-contextmenu>\n        <action-annot-contextmenu @lazy name="fv--link-contextmenu"></action-annot-contextmenu>\n        <comment-card-contextmenu @lazy ></comment-card-contextmenu>\n        <fileattachment-contextmenu @lazy></fileattachment-contextmenu>\n        <media-contextmenu @lazy ></media-contextmenu>\n        <sound-contextmenu @lazy ></sound-contextmenu>\n        <redact-contextmenu @lazy ></redact-contextmenu>\n        <edit-graphics:image-contextmenu @lazy></edit-graphics:image-contextmenu>\n        <edit-pageobjects:path-contextmenu @lazy></edit-pageobjects:path-contextmenu>\n        <field-signature-contextmenu @lazy name="fv--field-signature-contextmenu"></field-signature-contextmenu>\n        <text-sel:text-selection-tooltip @lazy></text-sel:text-selection-tooltip>\n        <annottext name="fv--annottext-tooltip" @lazy></annottext>\n        <!-- Field panel contentmenu -->\n        <field-contextmenu @lazy></field-contextmenu>\n        <comment-list:filter-dialog name="fv--commentlist-filter-comment-dialog"></comment-list:filter-dialog>\n        <selected-text-contextmenu @lazy></selected-text-contextmenu>\n        <selected-image-contextmenu @lazy></selected-image-contextmenu>\n        <selected-rectangle-contextmenu @lazy></selected-rectangle-contextmenu>\n        <search:basic-search-options name="fv--search-basic-options"></search:basic-search-options>\n        <search:choose-search-type name="fv--search-choose-search-type"></search:choose-search-type>\n        <portfolio-node-properties-dialog @lazy></portfolio-node-properties-dialog>\n        <portfolio-node-contextmenu name="fv--portfolio-file-item-contextmenu" @lazy>\n            <portfolio-extract-node-contextmenu-item name="fv--portfolio-extract-node-contextmenu-item"></portfolio-extract-node-contextmenu-item>\n            <portfolio-show-selected-node-information-contextmenu-item name="fv--portfolio-show-selected-node-information-contextmenu-item"></portfolio-show-selected-node-information-contextmenu-item>\n        </portfolio-node-contextmenu>\n        <bookmark-contextmenu @lazy></bookmark-contextmenu>\n        <signature:signed-property-dialog name="signed-property-dialog" @lazy></signature:signed-property-dialog>\n        <thumbnail:thumbnail-contextmenu name="fv--thumbnail-contextmenu" @lazy></thumbnail:thumbnail-contextmenu>\n        <edit-graphics:graphic-object-properties-dialog name="fv--graphics-object-properties-dialog" @lazy></edit-graphics:graphic-object-properties-dialog>\n\n        <comparison:select-pdf-file-dialog name="fv--comparison-select-pdf-file-dialog" @lazy></comparison:select-pdf-file-dialog>\n        <comparison:options-dialog name="fv--comparison-options-dialog" @lazy></comparison:options-dialog>\n        <comparison:legend-layer @lazy></comparison:legend-layer>\n        <comparison:progress-layer></comparison:progress-layer>\n\n    </template>\n  </webpdf>'),j=e=>{let{stateHandler:t,toolName:n,module:o,pdfUi:r}=e;return class extends UIExtension.controllers.StatefulController{static getName(){return"".concat(n,"Controller")}stateIn(){this.component.element.classList.add("selected");let e=document.querySelector("div.fv__pdf-page-handler-container");e&&e.classList.add("fv__cursor-crosshair")}stateOut(){let e=document.querySelector("div.fv__pdf-page-handler-container");e&&e.classList.remove("fv__cursor-crosshair");let t=this.component.element.classList;r.getStateHandlerManager().then(function(e){e.getCurrentStates().getStateName()!=="".concat(o.name,"-").concat(n)&&t.remove("selected")})}handle(){x.c.sendEvent({event:"".concat(o.name,"-").concat(n,"-tool")}),r.getStateHandlerManager().then(function(e){e.switchTo("".concat(o.name,"-").concat(n))})}constructor(e){super(e,t)}}},N=e=>{if("clientX"in e)return e.clientX;switch(e.type){case"touchstart":case"touchmove":return e.touches[0].clientX;case"touchend":case"touchcancel":return e.changedTouches[0].clientX}},D=e=>{if("clientY"in e)return e.clientY;switch(e.type){case"touchstart":case"touchmove":return e.touches[0].clientY;case"touchend":case"touchcancel":return e.changedTouches[0].clientY}},F=(e,t)=>{let n=e.getBoundingClientRect(),o=t.srcEvent,r=N(o),a=D(o);return[r-n.left-t.deltaX,a-n.top-t.deltaY]},A=(e,t)=>{let n,o=e[0],r=e[1],a=t[0],i=t[1];return a<o&&(n=o,o=a,a=n),i<r&&(n=r,r=i,i=n),{left:o,top:r,right:a,bottom:i}},T=e=>{let{toolName:t,module:n}=e;return class extends UIExtension.PDFViewCtrl.stateHandler.IStateHandler{static getStateName(){return"".concat(n.name,"-").concat(t)}destroyPageHandler(){this.hammer&&this.hammer.destroy()}pageHandler(e){let o;let r=UIExtension.vendors.Hammer,a=UIExtension.vendors.jQuery,i=e.getHandlerDOM(),l=this.hammer=new r.Manager(i,{recognizers:[[r.Pan,{direction:r.DIRECTION_ALL}]]});a(i).append(this.$handler);let c=this;l.on("panstart",e=>{this.$handler.show(),o=F(i,e),this.$handler.css({left:o[0],top:o[1]})}),l.on("panmove",e=>{let t=o[0],n=o[1],r=o[0]+e.deltaX,a=o[1]+e.deltaY;this.$handler.css({width:Math.sqrt((r-t)**2+(a-n)**2),transform:"rotate(".concat(Math.atan2(a-n,r-t),"rad)")})}),l.on("panend",r=>{this.$handler.hide();let a=[o[0]+r.deltaX,o[1]+r.deltaY],i=A(o,a);e.getPDFPage().then(r=>{let l=r.reverseDeviceRect(i,e.getScale()),s=r.reverseDevicePoint(o,e.getScale()),d=r.reverseDevicePoint(a,e.getScale()),u={type:"line",startStyle:0,endStyle:0,startPoint:{x:s[0],y:s[1]},endPoint:{x:d[0],y:d[1]},rect:l,title:"".concat(n.name,"-").concat(t,"-block")};r.addAnnot(u).then(function(o){let r=o.filter(e=>e.info.title==="".concat(n.name,"-").concat(t,"-block")).sort((e,t)=>t.info.creationTimestamp-e.info.creationTimestamp)[0],a=e.annotsRender.getAnnotRender(r.getId()).component;console.log({component:a}),c.pdfViewer.eventEmitter.emit(PDFViewCtrl.ViewerEvents.addAnnotSuccess,r),c.pdfViewer.activateElement(a)})})})}constructor(e){super(e),this.pdfViewer=e,this.$handler=UIExtension.vendors.jQuery('<div class="'.concat(n.name,"-").concat(t,'-preview"><div>'))}}},L=e=>{let{module:t,toolName:n,toolIconClass:o,buttonText:r,pdfUi:a}=e,i=T({toolName:n,module:t}),l=j({stateHandler:i,toolName:n,module:t,pdfUi:a});t.registerController(l),t.registerPreConfiguredComponent("".concat(n,"-btn"),{template:'<ribbon-button name="'.concat(n,'-btn" @controller="').concat(t.name,":").concat(n,'Controller" icon-class="').concat(o,'" text="').concat(r,'"></ribbon-button>')})},U=e=>{let{stateHandler:t,toolName:n,module:o,pdfUi:r}=e;return class extends UIExtension.controllers.StatefulController{static getName(){return"".concat(n,"Controller")}stateIn(){this.component.element.classList.add("selected");let e=document.querySelector("div.fv__pdf-page-handler-container");e&&e.classList.add("fv__cursor-crosshair")}stateOut(){let e=document.querySelector("div.fv__pdf-page-handler-container");e&&e.classList.remove("fv__cursor-crosshair");let t=this.component.element.classList;r.getStateHandlerManager().then(function(e){e.getCurrentStates().getStateName()!=="".concat(o.name,"-").concat(n)&&t.remove("selected")})}handle(){x.c.sendEvent({event:"".concat(o.name,"-").concat(n,"-tool")}),r.getStateHandlerManager().then(function(e){e.switchTo("".concat(o.name,"-").concat(n))})}constructor(e){super(e,t)}}},B=e=>{let{toolName:t,module:n}=e;return class extends UIExtension.PDFViewCtrl.stateHandler.IStateHandler{static getStateName(){return"".concat(n.name,"-").concat(t)}destroyPageHandler(){this.hammer&&this.hammer.destroy()}pageHandler(e){let o;let r=UIExtension.vendors.Hammer,a=UIExtension.vendors.jQuery,i=e.getHandlerDOM(),l=this.hammer=new r.Manager(i,{recognizers:[[r.Pan,{direction:r.DIRECTION_ALL}]]});a(i).append(this.$handler),l.on("panstart",e=>{this.$handler.show(),o=F(i,e),this.$handler.css({left:o[0],top:o[1]})}),l.on("panmove",e=>{let t=[o[0]+e.deltaX,o[1]+e.deltaY],n=A(o,t);this.$handler.css({left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top})}),l.on("panend",r=>{let a=this,i=[o[0]+r.deltaX,o[1]+r.deltaY],l=A(o,i);e.getPDFPage().then(o=>{let r=o.reverseDeviceRect(l,e.getScale()),i={type:PDFViewCtrl.PDF.constant.Graphics_ObjectType.Path,rect:r,title:"".concat(n.name,"-").concat(t,"-block"),points:[["m",...o.reverseDevicePoint([l.left,l.top],e.getScale())],["l",...o.reverseDevicePoint([l.right,l.top],e.getScale())],["l",...o.reverseDevicePoint([l.right,l.bottom],e.getScale())],["l",...o.reverseDevicePoint([l.left,l.bottom],e.getScale())],["h",...o.reverseDevicePoint([l.left,l.top],e.getScale())]]};o.addGraphicsObject(i).then(function(){o.getGraphicsObjectsCount().then(function(e){o.getGraphicsObjectByIndex(e-1).then(function(e){e.setFillColor(16777215).then(()=>{e.setBorderColor(16777215).then(()=>{setTimeout(()=>{var e;a.$handler.hide();let t=document.getElementsByName("edit-object-ribbon-dropdown")[0];null==t||t.click(),null===(e=document.getElementsByName("Path")[0])||void 0===e||e.click();let n=t.getElementsByTagName("ul")[0];n.style.display="none",setTimeout(()=>{n.style.display=""},5e3)},300)})})})})})})})}constructor(e){super(e),this.pdfViewer=e,this.$handler=UIExtension.vendors.jQuery('<div class="'.concat(n.name,"-").concat(t,'-preview"><div>'))}}},q=e=>{let{module:t,toolName:n,toolIconClass:o,buttonText:r,pdfUi:a}=e,i=B({toolName:n,module:t}),l=U({stateHandler:i,toolName:n,module:t,pdfUi:a});t.registerController(l),t.registerPreConfiguredComponent("".concat(n,"-btn"),{template:'<ribbon-button name="'.concat(n,'-btn" @controller="').concat(t.name,":").concat(n,'Controller" icon-class="').concat(o,'" text="').concat(r,'"></ribbon-button>')})},H=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(0===n)return;let o=e();o||setTimeout(()=>{H(e,t,n--)},t)};var O=n(7780);let V=e=>{let{stateHandler:t,toolName:n,module:o,pdfUi:r}=e;return class extends UIExtension.controllers.StatefulController{static getName(){return"".concat(n,"Controller")}stateIn(){this.component.element.classList.add("selected");let e=document.querySelector("div.fv__pdf-page-handler-container");e&&e.classList.add("fv__cursor-crosshair")}stateOut(){let e=document.querySelector("div.fv__pdf-page-handler-container");e&&e.classList.remove("fv__cursor-crosshair");let t=this.component.element.classList;r.getStateHandlerManager().then(function(e){e.getCurrentStates().getStateName()!=="".concat(o.name,"-").concat(n)&&t.remove("selected")})}handle(){x.c.sendEvent({event:"".concat(o.name,"-").concat(n,"-tool")}),r.getStateHandlerManager().then(function(e){e.switchTo("".concat(o.name,"-").concat(n))})}constructor(e){super(e,t)}}};(o=i||(i={}))[o.Solid=0]="Solid",o[o.Dashed=1]="Dashed",o[o.UnderLine=2]="UnderLine",o[o.Beveled=3]="Beveled",o[o.Inset=4]="Inset",o[o.Cloudy=5]="Cloudy";let M=e=>{let{appearance:t,toolName:n,module:o}=e;return class extends UIExtension.PDFViewCtrl.stateHandler.IStateHandler{static getStateName(){return"".concat(o.name,"-").concat(n)}destroyPageHandler(){this.hammer&&this.hammer.destroy()}getAppearance(){let e={type:"square",border:{color:1,width:1,style:i.Solid},fillColor:1,opacity:1};return t?Object.assign(e,t):e}pageHandler(e){let t;let r=UIExtension.vendors.Hammer,a=UIExtension.vendors.jQuery,i=e.getHandlerDOM(),l=this.hammer=new r.Manager(i,{recognizers:[[r.Pan,{direction:r.DIRECTION_ALL}]]});a(i).append(this.$handler);let c=this;l.on("panstart",e=>{this.$handler.show(),t=F(i,e),this.$handler.css({left:t[0],top:t[1]})}),l.on("panmove",e=>{let n=[t[0]+e.deltaX,t[1]+e.deltaY],o=A(t,n);this.$handler.css({left:o.left,top:o.top,width:o.right-o.left,height:o.bottom-o.top})}),l.on("panend",r=>{this.$handler.hide();let a=[t[0]+r.deltaX,t[1]+r.deltaY],i=A(t,a);i.right-i.left<5||i.bottom-i.top<5||e.getPDFPage().then(t=>{let r=t.reverseDeviceRect(i,e.getScale()),a=this.getAppearance(),l={type:a.type,rect:r,borderInfo:{width:a.border.width,style:a.border.style},opacity:a.opacity,color:a.border.color,fillColor:a.fillColor,title:"".concat(o.name,"-").concat(n,"-block")};t.addAnnot(l).then(function(t){let r=t.filter(e=>e.info.title==="".concat(o.name,"-").concat(n,"-block")).sort((e,t)=>t.info.creationTimestamp-e.info.creationTimestamp)[0],a=e.annotsRender.getAnnotRender(r.getId()).component;c.pdfViewer.eventEmitter.emit(PDFViewCtrl.ViewerEvents.addAnnotSuccess,r),c.pdfViewer.activateElement(a)})})})}constructor(e){super(e),this.pdfViewer=e,this.$handler=UIExtension.vendors.jQuery('<div class="'.concat(o.name,"-").concat(n,'-preview"><div>'))}}},R=e=>{let{module:t,toolName:n,toolIconClass:o,buttonText:r,pdfUi:a}=e;try{let i=M({toolName:n,appearance:e.appearance,module:t}),l=V({stateHandler:i,toolName:n,module:t,pdfUi:a});t.registerController(l),t.registerPreConfiguredComponent("".concat(n,"-btn"),{template:'<ribbon-button name="'.concat(n,'-btn" @controller="').concat(t.name,":").concat(n,'Controller" icon-class="').concat(o,'" text="').concat(r,'"></ribbon-button>')}),window.hj&&window.hj("event","Init ".concat(n," success")),x.c.sendEvent({event:"init_tool",data:{status:!0,name:n}})}catch(c){console.log(c),window.hj&&window.hj("event","Init ".concat(n," error: ").concat(JSON.stringify(c))),x.c.sendEvent({event:"init_tool",data:{status:!1,name:n,error:JSON.stringify(c)}})}},$=()=>!0;(l||(l={})).Sidebar="sidebar",(r=c||(c={})).HomeTab="home-tab",r.EditTab="edit-tab",r.CommentTab="comment-tab",r.ViewTab="view-tab",r.FormTab="form-tab",r.ProtectTab="protect-tab",(a=s||(s={})).HandTool="hand-tool",a.SelectDropdown="selection-dropdown",a.SnapshotButton="snapshot-button",a.OpenFileButton="open-file-button-list",a.DownloadButton="download-file-button",a.PrintButton="print-button",a.ZoomOut="zoom-out",a.ZoomIn="zoom-in",a.EditableZoomDropdown="editable-zoom-dropdown",a.ChangeColorDropdown="change-color-dropdown",a.HomeTabGroupNav="home-tab-group-nav",a.HomeTabGroupPage="home-tab-group-page";let K=e=>{let t,{pdfFileUrl:n,pdfFileArrayBuffer:o,canDownload:r=$,components:a=[],hideLoader:i,onDownload:l,onLoadingFileStatus:c,onLogoClick:s}=e,[m,p]=(0,u.useState)(!1),f=(0,g.t)(),b=f.query.feature,h=f.query.form,y=(0,u.useRef)(null),{t:k,i18n:_}=(0,O.$G)(),C=(0,u.useRef)(null),E=u.useCallback(()=>{setTimeout(()=>{if(t){w.e.removeItem("reloadedPage"),f.push(v.C.MAIN);return}localStorage.setItem("reloadedPage","true"),window.location.reload()},1500)},[t]);if(u.useEffect(()=>{t=localStorage.getItem("reloadedPage")},[]),n&&o)throw Error("Please provide pdfFileUrl or pdfFileArrayBuffer, not both");let S=u.useRef(!1),I="maxTouchPoints"in navigator&&navigator.maxTouchPoints>0&&document.body.clientWidth<600,j={};I||(j.getLayoutTemplate=()=>z(k)),u.useEffect(()=>{let e=setInterval(()=>{if(void 0!==window.UIExtension){p(!0),clearInterval(e);return}},50);return()=>{clearInterval(e)}},[]);let N=()=>{let e=Array.from(document.querySelectorAll("[component-name][tooltip-title][aria-label]")),t=e.filter(e=>!!e.getAttribute("component-name")).map(e=>{let t=e.getAttribute("component-name");if(!t)return;let n=t.toLowerCase().replaceAll(" ","-");return{key:n,el:e}}),n=e=>{x.c.sendEvent({event:"".concat(e,"-tool")})};t.map(e=>{null==e||e.el.addEventListener("click",()=>{n(null==e?void 0:e.key)})}),["select-text-image","edit-text","edit-object-ribbon-dropdown","find-replace","Line","Rectangle","RoundRect","Ellipse","Polyline","Polygon","Polybezier","Curve","Freedom"].map(e=>{let t=Array.from(document.querySelectorAll('[component-name="'.concat(e,'"]')));t.length&&t.map(t=>{t.addEventListener("click",()=>{n(e)})})})},D=()=>{var e,t;let n=window.innerWidth,o=(null===(e=document.querySelector('[name="home-tab-group-other"]'))||void 0===e?void 0:e.clientWidth)||0,r=(null===(t=document.querySelector(".more-tools"))||void 0===t?void 0:t.clientWidth)||0,a=.6*n-178,i=n-o-178-r-30-75-182,l=i>a?a:i,c=document.querySelectorAll('[name="home-tab-group-hand"] > .fv__ui-grp-btn-list > .fx-ribbon-item:not(.fv__ui-hide)')||[],s=0;Array.from(c).reduce((e,t,n)=>0!==s?0:e+t.clientWidth>l?(s=n,0):e+t.clientWidth,0);let d=c.length-s,u=c.length-d;for(let m=0;m<c.length;m++)c[m].style.display="block";if(u>0)for(let p=u;p<c.length;p++)c[p].style.display="none";let f=document.querySelector(".more-tools");f&&(f.style.display=s>0?"block":"none");let b=document.querySelectorAll(".more-tools__list > div")||[];for(let h=0;h<b.length;h++)b[h].style.display="none";if(u>0)for(let g=u-2;g<b.length;g++)b[g].style.display="flex"};return u.useEffect(()=>(window.addEventListener("resize",D),()=>{window.removeEventListener("resize",D)}),[]),u.useEffect(()=>{if(S.current||!m)return;let e=a.filter(e=>{let[t,n]=e;return!1===n}).map(e=>{let[t]=e;return{target:t,action:"remove"}});y.current=new UIExtension.PDFUI({i18n:{absolutePath:"/lib/locales",lng:"".concat(_.language,"-").concat(_.language.toUpperCase())},viewerOptions:{libPath:"/lib",fontPath:"/external/brotli",jr:{readyWorker:window.preloadJrWorker({workerPath:"/lib/",enginePath:"/lib/jr-engine/gsdk",fontPath:"/external/brotli",licenseSN:P.v.foxit.licenseSN,licenseKey:P.v.foxit.licenseKey})},tileSize:1200,defaultAnnotConfig:function(e){return["ink","square","circle","polygon","line","polyline"].includes(e)?{color:1}:{}}},addons:["/lib/uix-addons/digital-stamp","/lib/uix-addons/find-replace","/lib/uix-addons/multi-media","/lib/uix-addons/redaction","/lib/uix-addons/undo-redo","/lib/uix-addons/doc-attachment","/lib/uix-addons/page-editor","/lib/uix-addons/aria","/lib/uix-addons/edit-graphics","/lib/uix-addons/page-template","/lib/uix-addons/search","/lib/uix-addons/full-screen","/lib/uix-addons/password-protect","/lib/uix-addons/text-object","/lib/uix-addons/custom-dynamic-stamp","/lib/uix-addons/manage-comments","/lib/uix-addons/path-objects","/lib/uix-addons/recognition-form","/lib/uix-addons/thumbnail"],renderTo:"#pdf-ui",appearance:UIExtension.appearances.AdaptiveAppearance.extend({...j,getDefaultFragments:()=>[...e,{target:"own-check-stamp",config:{callback:function(e){x.c.sendEvent({event:"check-stamp"}),y.current&&y.current.getComponentByName("Check").then(t=>{t.clickEventHandler(e)})}}},{target:"own-cross-stamp",config:{callback:function(e){x.c.sendEvent({event:"cross-stamp"}),y.current&&y.current.getComponentByName("Cross").then(t=>{t.clickEventHandler(e)})}}},{target:"own-arrow",config:{callback:function(e){y.current&&y.current.getComponentByName("Arrow").then(t=>{t.clickEventHandler(e)})}}},{target:"download-file-button",config:{callback:{async around(){l()}}}},{target:"open-file-button-list",action:"remove"},{target:"own-undo-btn",config:{callback:function(){x.c.sendEvent({event:"undo-tool"});let e=new KeyboardEvent("keydown",{key:"z",ctrlKey:!0,metaKey:!0,bubbles:!0,cancelable:!0,code:"KeyZ",composed:!0,keyCode:90,which:90});document.dispatchEvent(e),y.current.callAddonAPI("UndoRedoAddon","undo")}}},{target:"own-redo-btn",config:{callback:function(){x.c.sendEvent({event:"redo-tool"});let e=new KeyboardEvent("keydown",{key:"y",ctrlKey:!0,metaKey:!0,bubbles:!0,cancelable:!0,code:"KeyY",composed:!0,keyCode:89,which:89});document.dispatchEvent(e),y.current.callAddonAPI("UndoRedoAddon","redo")}}}],afterMounted(e){console.log("AFTER MOUNTED",e),i(!1);let t=document.getElementsByName("edit-tab-group-font");if(t[0]&&(t[0].style.display="none"),t[1]&&(t[1].style.display="flex",t[1].style.backgroundColor="#f4f4f4"),"en"!==_.language){let n=document.getElementsByClassName("fx-ribbon-item-text");for(let o=0;o<n.length-1;o++)n[o].style.flexWrap="wrap",n[o].style.maxWidth="70px",n[o].style.justifyContent="center"}return setTimeout(()=>{var t,n;if(N(),PDFViewCtrl.DeviceInfo.isDesktop){let o=()=>{let t=e.getComponentByName("sidebar"),n=t.getComponentByName("sidebar-thumbnail-panel");return n.doActive(),n.isActive};if(H(o),!f.query.form){let r=()=>{let e=document.getElementsByName("fv--plugin-PageEditor-add-text")[0];return null==e||e.click(),!!e};H(r)}let a=document.querySelector('[name="pencil-tool"]'),i=document.querySelector('[name="create-text"]'),c=document.querySelector('[name="freetext-textbox"]');null==i||i.classList.add("custom-note"),null==c||c.classList.add("custom-textbox"),null==a||a.classList.add("custom-pencil");let d=document.getElementById("editorDoneButton");null==d||d.addEventListener("click",l);let u=document.getElementById("editorLogoElement");null==u||u.addEventListener("click",s)}if("sign"===b){null===(t=document.getElementsByName("create-signature-btn")[0])||void 0===t||t.click();return}if("protect"===b){null===(n=document.getElementsByName("password-protect-btn")[0])||void 0===n||n.click();return}if(h){let m=()=>{let e=document.querySelectorAll('[fieldname*="Signature"]'),t=Array.from(e);t.forEach(e=>{null==e||e.addEventListener("click",e=>{var t;e.preventDefault(),null===(t=document.getElementsByName("create-signature-btn")[0])||void 0===t||t.click(),document.getElementsByName("signature-properties-dialog")[0].style.display="none"})})},p=new MutationObserver(m),g=document.querySelector(".fv__ui-webpdf");g&&(p.observe(g,{childList:!0,subtree:!0}),C.current=p)}},1750),()=>{C.current&&C.current.disconnect()}}})}),y.current.eventEmitter.on("annotation-add",e=>{if(!e||e.length<=0)return;let t=e[0].info;"stamp"===t.type&&["Cross","Check"].includes(t.iconName)&&y.current.getComponentByName(t.iconName).then(e=>{e.clickEventHandler(new MouseEvent("click"))})}),y.current.addViewerEventListener(UIExtension.PDFViewCtrl.Events.renderFileSuccess,function(){D(),c(!0)}),y.current.addViewerEventListener(UIExtension.PDFViewCtrl.Events.renderFileFailed,function(){c(!1)}),window.pdfUi||(window.pdfUi=y.current);let t="universe";if(!UIExtension.modular.modules.has(t)){let r=UIExtension.PDFUI.module(t,[]);q({pdfUi:y.current,module:r,toolName:"eraser",toolIconClass:"fv__icon-toolbar-eraser",buttonText:k("editor_tools.eraser"),appearance:{type:"square",border:{color:1},fillColor:0}}),R({pdfUi:y.current,module:r,toolName:"highlight",toolIconClass:"fv__icon-toolbar-area-highlight",buttonText:k("editor_tools.highlight"),appearance:{type:"highlight",border:{color:16774656},fillColor:16774656}}),R({pdfUi:y.current,module:r,toolName:"redact",toolIconClass:"fv__icon-toolbar-redaction",buttonText:k("editor_tools.redact"),appearance:{type:"square",border:{color:1},fillColor:1}}),R({pdfUi:y.current,module:r,toolName:"circle",toolIconClass:"universe-circle-icon",buttonText:k("editor_tools.circle"),appearance:{type:"circle",border:{color:1},fillColor:0}}),R({pdfUi:y.current,module:r,toolName:"box",toolIconClass:"universe-box-icon",buttonText:k("editor_tools.square"),appearance:{type:"square",border:{color:1},fillColor:0}}),L({pdfUi:y.current,module:r,toolName:"line",toolIconClass:"universe-line-icon",buttonText:k("editor_tools.line")})}if(y.current.getPDFViewer().then(e=>{try{e.addAnnotationIcon({annotType:"stamp",fileType:"png",url:"/assets/img/icons/cross.png",width:8,height:8,category:"Customs",name:"Cross"}),e.addAnnotationIcon({annotType:"stamp",fileType:"png",url:"/assets/img/icons/check.png",width:8,height:8,category:"Customs",name:"Check"}),window.hj&&window.hj("event","Init cross/check success"),x.c.sendEvent({event:"init_stamps",data:{status:!0}})}catch(t){window.hj&&window.hj("event","Init cross/check error: ".concat(JSON.stringify(t))),x.c.sendEvent({event:"init_stamps",data:{status:!1,error:JSON.stringify(t)}})}["own-cross-stamp","own-check-stamp","box-btn","circle-btn"].map(e=>{let t=document.querySelector('div[name="'.concat(e,'"]')),n=null!==t&&"visible"===window.getComputedStyle(t).visibility&&"none"!==window.getComputedStyle(t).display;window.hj&&window.hj("event","Tool ".concat(e," visibility: ").concat(n)),x.c.sendEvent({event:"element_visibility",data:{name:e,isVisible:n}})}),e.getCustomOptionsUpdater().updateGetAnnotComponentConfig(function(e,t){let n=e.getModel(),o={};return"highlight"===n.getType()&&n.isArea()&&t.forEach(function(e){switch(e){case"moveable":case"resizable":case"enableDiagonally":o[e]=!0}}),o})}),n){fetch(n).then(e=>e.arrayBuffer()).then(e=>y.current.openPDFByFile(e)).catch(()=>{E()}),S.current=!0;return}o&&y.current.openPDFByFile(o),console.log({pdfFileUrl:n,pdfFileArrayBuffer:o}),S.current=!0},[r,a,i,o,n,b,m,j,l]),(0,d.jsx)("div",{id:"pdf-ui",className:"w-screen h-screen editor-variant-b"})};var W=n(2833),J=n(1248),Y=n.n(J),X=n(9008),G=n.n(X),Q=n(5675),Z=n.n(Q),ee=n(6002),et={src:"/_next/static/media/check.c11c4c57.svg",height:20,width:21},en=n(409),eo=n.n(en);let er=e=>{let{interactor:t}=e,{t:n}=(0,O.$G)(),{link:o}=(0,W.W)("/editor"),r=u.useCallback(async()=>!0,[]),a=(0,u.useCallback)(()=>{if(null!==t.fileArrayBuffer||t.fileUrl)return(0,d.jsx)(K,{pdfFileArrayBuffer:t.fileArrayBuffer,pdfFileUrl:t.fileUrl,canDownload:r,hideLoader:t.setIsLoaderLoading,onDownload:t.onConvertClick,onLoadingFileStatus:t.onLoadingFileStatus,onLogoClick:t.clickOnLogo})},[t.fileArrayBuffer,t.fileUrl,t.testVariant]),i=u.useRef(null);return u.useEffect(()=>{if(i.current)return setTimeout(()=>{i.current&&Y().loadAnimation({container:i.current,renderer:"svg",autoplay:!0,loop:!0,path:"/assets/loading-animation.json"})},500),()=>{Y().destroy()}},[i]),u.useEffect(()=>{["editor-logo","download-button"].map(e=>{let t=document.querySelector(".".concat(e)),n=null!==t&&"visible"===window.getComputedStyle(t).visibility&&"none"!==window.getComputedStyle(t).display;window.hj&&window.hj("event","Element ".concat(e," visibility: ").concat(n)),x.c.sendEvent({event:"element_visibility",data:{name:e,isVisible:n}})})},[]),(0,d.jsxs)("div",{className:eo().editorPage,children:[(0,d.jsxs)(G(),{children:[(0,d.jsx)("title",{children:"Edit, Transform, Annotate PDF"}),(0,d.jsx)("meta",{name:"description",content:"A PDF editor that lets you edit text, annotate, compress, organize, split, and merge your PDFs."}),(0,d.jsx)("link",{rel:"canonical",href:o}),(0,d.jsx)("link",{rel:"alternate",href:"https://pdfmaster.app/editor",hrefLang:"en"}),(0,d.jsx)("link",{rel:"alternate",href:"https://pdfmaster.app/it/editor",hrefLang:"it"}),(0,d.jsx)("link",{rel:"alternate",href:"https://pdfmaster.app/fr/editor",hrefLang:"fr"}),(0,d.jsx)("link",{rel:"alternate",href:"https://pdfmaster.app/editor",hrefLang:"x-default"}),(0,d.jsx)("meta",{property:"og:url",content:o}),(0,d.jsx)("meta",{property:"og:title",content:"Edit, Transform, Annotate PDF"}),(0,d.jsx)("meta",{property:"og:description",content:"A PDF editor that lets you edit text, annotate, compress, organize, split, and merge your PDFs."}),(0,d.jsx)("link",{rel:"stylesheet",type:"text/css",href:"/lib/UIExtension.css"}),(0,d.jsx)("script",{src:"/lib/UIExtension.full.js"})]}),(0,d.jsxs)("div",{className:"w-full relative bg-[#f4f4f4]",children:[t.isFileSaving?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"w-full h-full fixed top-0 left-0 z-[10006] bg-[rgba(0,0,0,0.6)] flex justify-center items-center px-4",children:(0,d.jsxs)("div",{className:"max-w-[557px] w-full h-[300px] tablet:h-[340px] p-6 flex flex-col justify-center items-center bg-white rounded-[10px] tablet:text-[22px] text-[18px] leading-[24px] text-[#373737]",children:[(0,d.jsx)(S.p,{currentState:"loading",className:"tablet:!w-[160px] tablet:!h-[160px] !w-[100px] !h-[100px]"}),(0,d.jsx)("p",{className:"font-[700] tablet:my-4 my-2 text-center",children:n("editor_page.saving")}),(0,d.jsx)("p",{className:"text-[#878787] text-[16px]",children:n("editor_page.please_wait")})]})})}):null,!t.isRemoteConfigLoading&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"cursor-pointer max-w-[170px] tablet:fixed z-50 tablet:h-[76px] py-4 tablet:py-0 left-0 bg-[#f4f4f4] flex items-center pl-4 pr-2",children:(0,d.jsx)(I.Z,{onClick:t.clickOnLogo,href:v.C.MAIN,className:"editor-logo",children:(0,d.jsx)(ee.H,{})})}),(0,d.jsx)("div",{className:"flex tablet:fixed right-3 top-[14px] z-10 download-button",children:(0,d.jsxs)(E.K,{onClick:t.onConvertClick,disabled:t.isFileSaving,className:"hidden tablet:flex tablet:justify-center tablet:items-center tablet:!min-w-[160px] font-[700] bg-[#D2294B] hover:bg-[#f4476ae8]",children:[(0,d.jsx)(Z(),{src:et,alt:"check icon",className:"mr-1"}),t.isSplitPdf?(0,d.jsx)(d.Fragment,{children:n("editor_page.split")}):(0,d.jsx)(d.Fragment,{children:n("editor_page.download_b")})]})})]}),t.isLoading&&(0,d.jsx)("div",{className:"tablet:absolute tablet:top-[50vh] tablet:left-[50vw] tablet:-translate-x-1/2 tablet:-translate-y-1/2 tablet:h-[200px] flex items-center justify-center h-[90vh] overflow-hidden",children:(0,d.jsx)("div",{ref:i,className:"h-[200px]"})}),a(),(0,d.jsx)("div",{className:"sticky bottom-0 bg-white px-4 py-4 tablet:pt-0 tablet:pb-0 flex justify-center z-[1000] download-button",children:(0,d.jsx)(E.K,{onClick:t.onConvertClick,disabled:t.isFileSaving,className:"h-[52px] w-full max-w-[488px] tablet:hidden bg-[#D2294B] font-[700] tablet:text-[19px] hover:bg-[#f4476ae8]",children:t.isSplitPdf?(0,d.jsx)(d.Fragment,{children:n("editor_page.split")}):(0,d.jsx)(d.Fragment,{children:n("editor_page.download_b")})})})]})]})},ea=()=>{let e=C();return(0,d.jsx)(er,{interactor:e})}},2833:function(e,t,n){"use strict";n.d(t,{W:function(){return r}});var o=n(3790);function r(e){let t=(0,o.t)();return"en"===t.locale||e.includes("form")?{link:"https://pdfmaster.app".concat(e)}:{link:"https://pdfmaster.app/".concat(t.locale).concat(e)}}},6926:function(e,t,n){"use strict";n.d(t,{O:function(){return i},l:function(){return a}});var o=n(3819);let r="prevPath",a=()=>{let e=window.location.pathname,t=e.replace("/","");if("/"===window.location.pathname){o.e.setItem(r,"main_page");return}if(e.includes("-to-")){o.e.setItem(r,t.replace(/-/g,"_"));return}if(["account","editor","merge-pdf","split-pdf","compress-pdf","sign-pdf","password-protect-pdf","pdf-converter","form-w9","form-i9","form-ds11","purchase-success"].includes(t)){o.e.setItem(r,t);return}},i=()=>o.e.getItem(r)},409:function(e){e.exports={editorPage:"editor-page_editorPage__bos6K"}}}]);