!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],e):"object"==typeof exports?exports.CustomDynamicStamp=e(require("UIExtension")):t.CustomDynamicStamp=e(t.UIExtension)}(self,(function(t){return function(){var e={1910:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<layer class="fv__ui-custom-dynamic-stamp-dialog" append-to="body" backdrop @var.self="$component" @controller="custom-dynamic-stamp:CreateCustomDynamicStampDialogController as cdsc" @isolate>\n<layer-header @draggable="{type: \'parent\'}" title="custom-dynamic-stamp:dialog.header"></layer-header>\n<layer-view class="fv__ui-custom-dynamic-stamp-dialog-body">\n<div class="fv__ui-custom-dynamic-stamp-preview d_f jc_c ai_c">\n<div class="fv__ui-custom-dynamic-stamp-preview-wrap d_f jc_c ai_c">\n<img class="fv__ui-custom-dynamic-stamp-preview-template" id="backgroundImage"/>\n<custom-dynamic-stamp:custom-dynamic-stamp-text name="dynamic-text"></custom-dynamic-stamp:custom-dynamic-stamp-text>\n</div>\n</div>\n<fieldset class="fv__ui-custom-dynamic-stamp-dialog-fieldset">\n<div class="fv__ui-custom-dynamic-stamp-dialog-fieldset-field d_f ai_c">\n<input name="templateType" type="radio" value="backgroundColor" @aria:labelledby="::nextSiblings()::first()" @on.native.change="self.selectType(\'backgroundColor\')"/>\n<label class="d_f ai_c f_1">\n<span class="w_128" data-i18n="custom-dynamic-stamp:dialog.backgroundColor"></span>\n<div class="color-picker" role="button" tabindex="0" name="backgroundColor" @aria:labelledby="::previousSiblings()" @on.native.click="self.selectColor($event)" @on.native.keydown="self.keydownColor($event)">\n<div>\n<div class="label">?</div>\n<div class="mask"></div>\n</div>\n</div>\n</label>\n</div>\n<div class="fv__ui-custom-dynamic-stamp-dialog-fieldset-field d_f ai_c">\n<input name="templateType" type="radio" value="template" @aria:labelledby="::nextSiblings()::first()" @on.native.change="self.selectType(\'template\')"/>\n<label class="d_f ai_c f_1">\n<label class="w_128" data-i18n="custom-dynamic-stamp:dialog.template"></label>\n<dropdown editable name="stamp-templates" class="f_1">\n<dropdown-button @foreach="item in cdsc.templateList" @sync.text="item.name" @on.click="cdsc.selectTemplate(item)"></dropdown-button>\n</dropdown>\n<div class="fv__ui-custom-dynamic-stamp-browseWrap">\n<input type="file" id="stamp-local-path" accept="image/jpg,image/jpeg,image/bmp,image/png" class="p_a" @on.native.change="self.inputFile($event)"/>\n<div class="fv__ui-dialog-ok-button fv__ui-button" id="browse" >custom-dynamic-stamp:dialog.browse</div>\n</div>\n</label>\n</div>\n<div class="fv__ui-custom-dynamic-stamp-dialog-fieldset-field d_f ai_c">\n<label class=" d_ib ml_30 w_128" data-i18n="custom-dynamic-stamp:dialog.category"></label>\n<dropdown editable name="stamp-category" class="f_1">\n<dropdown-button @foreach="name in cdsc.categoryList" @sync.text="name" @on.click="cdsc.selectCategory(name)"></dropdown-button>\n</dropdown>\n</div>\n<div class="fv__ui-custom-dynamic-stamp-dialog-fieldset-field d_f ai_c">\n<label class=" d_ib ml_30 w_128" data-i18n="custom-dynamic-stamp:dialog.name"></label>\n<input name="name" class="f_1 fv__ui-custom-dynamic-stamp-name" type="text" @model="cdsc.data.name"/>\n</div>\n<div class="fv__ui-custom-dynamic-stamp-dialog-fieldset-field d_f ai_c">\n<label class=" d_ib ml_30 w_128" data-i18n="custom-dynamic-stamp:dialog.font"></label>\n<dropdown editable name="stamp-fontFamilies" id="fv__ui-fontFamilies" class="f_1">\n<dropdown-button @foreach="item in cdsc.fontFamilies" @sync.text="item.name" @on.click="cdsc.selectFontFamily(item)"></dropdown-button>\n</dropdown>\n</div>\n<div class="fv__ui-custom-dynamic-stamp-dialog-fieldset-field d_f ai_c">\n<label class=" d_ib ml_30 w_128" data-i18n="custom-dynamic-stamp:dialog.stampText"></label>\n<dropdown editable name="stamp-text-type" class="f_1">\n<dropdown-button @foreach="item in cdsc.textType" @sync.text="item.type" @on.click="cdsc.selectTextType(item)"></dropdown-button>\n</dropdown>\n</div>\n<div class="fv__ui-custom-dynamic-stamp-dialog-fieldset-field fv__ui-field-transforms d_f ai_c jc_sb">\n<div class="fv__ui-custom-dynamic-stamp-dialog-field-item d_f ai_c">\n<label class=" d_ib ml_30 w_128" data-i18n="custom-dynamic-stamp:dialog.fontSize"></label>\n<dropdown editable name="fontSizeSelect" selected="0" selectable="false">\n<dropdown-button @foreach="size in cdsc.fontSizes" @sync.text="size" @on.click="cdsc.selectFontSize(size)"></dropdown-button>\n</dropdown>\n</dropdown>\n</div>\n<div class="fv__ui-custom-dynamic-stamp-dialog-field-item fv__ui-color-pick d_f ai_c">\n<label class=" d_ib" data-i18n="custom-dynamic-stamp:dialog.color"></label>\n<div class="color-picker" role="button" tabindex="0" name="color" @aria:labelledby="::previousSiblings()"  @on.native.click="self.selectColor($event)" @on.native.keydown="self.keydownColor($event)">\n<div>\n<div class="label">?</div>\n<div class="mask"></div>\n</div>\n</div>\n</div>\n</div>\n\n</fieldset>\n</layer-view>\n<layer-toolbar class="fv__ui-custom-dynamic-stamp-dialog-footer d_f ai_c jc_fe">\n<xbutton class="fv__ui-dialog-ok-button" @on.native.click="cdsc.ok()">common-dialogs.ok</xbutton>\n<xbutton class="fv__ui-dialog-cancel-button" @on.click="self.cancel()">common-dialogs.cancel</xbutton>\n</layer-toolbar>\n</layer>','<layer class="fv__ui-custom-dynamic-stamp-dialog" append-to="body" backdrop @var.self="$component" @controller="custom-dynamic-stamp:CreateCustomDynamicStampDialogController as cdsc" @isolate>\n<layer-header @draggable="{type: \'parent\'}" title="custom-dynamic-stamp:dialog.header"></layer-header>\n<layer-view class="fv__ui-custom-dynamic-stamp-dialog-body">\n<div class="fv__ui-custom-dynamic-stamp-preview d_f jc_c ai_c">\n<div class="fv__ui-custom-dynamic-stamp-preview-wrap d_f jc_c ai_c">\n<img class="fv__ui-custom-dynamic-stamp-preview-template" id="backgroundImage"/>\n<custom-dynamic-stamp:custom-dynamic-stamp-text name="dynamic-text"></custom-dynamic-stamp:custom-dynamic-stamp-text>\n</div>\n</div>\n<fieldset class="fv__ui-custom-dynamic-stamp-dialog-fieldset">\n<div class="fv__ui-custom-dynamic-stamp-dialog-fieldset-field d_f ai_c">\n<input name="templateType" type="radio" value="backgroundColor" @aria:labelledby="::nextSiblings()::first()" @on.native.change="self.selectType(\'backgroundColor\')"/>\n<label class="d_f ai_c f_1">\n<span class="w_128" data-i18n="custom-dynamic-stamp:dialog.backgroundColor"></span>\n<div class="color-picker" role="button" tabindex="0" name="backgroundColor" @aria:labelledby="::previousSiblings()" @on.native.click="self.selectColor($event)" @on.native.keydown="self.keydownColor($event)">\n<div>\n<div class="label">?</div>\n<div class="mask"></div>\n</div>\n</div>\n</label>\n</div>\n<div class="fv__ui-custom-dynamic-stamp-dialog-fieldset-field d_f ai_c">\n<input name="templateType" type="radio" value="template" @aria:labelledby="::nextSiblings()::first()" @on.native.change="self.selectType(\'template\')"/>\n<label class="d_f ai_c f_1">\n<label class="w_128" data-i18n="custom-dynamic-stamp:dialog.template"></label>\n<dropdown editable name="stamp-templates" class="f_1">\n<dropdown-button @foreach="item in cdsc.templateList" @sync.text="item.name" @on.click="cdsc.selectTemplate(item)"></dropdown-button>\n</dropdown>\n<div class="fv__ui-custom-dynamic-stamp-browseWrap">\n<input type="file" id="stamp-local-path" accept="image/jpg,image/jpeg,image/bmp,image/png" class="p_a" @on.native.change="self.inputFile($event)"/>\n<div class="fv__ui-dialog-ok-button fv__ui-button" id="browse" >custom-dynamic-stamp:dialog.browse</div>\n</div>\n</label>\n</div>\n<div class="fv__ui-custom-dynamic-stamp-dialog-fieldset-field d_f ai_c">\n<label class=" d_ib ml_30 w_128" data-i18n="custom-dynamic-stamp:dialog.category"></label>\n<dropdown editable name="stamp-category" class="f_1">\n<dropdown-button @foreach="name in cdsc.categoryList" @sync.text="name" @on.click="cdsc.selectCategory(name)"></dropdown-button>\n</dropdown>\n</div>\n<div class="fv__ui-custom-dynamic-stamp-dialog-fieldset-field d_f ai_c">\n<label class=" d_ib ml_30 w_128" data-i18n="custom-dynamic-stamp:dialog.name"></label>\n<input name="name" class="f_1 fv__ui-custom-dynamic-stamp-name" type="text" @model="cdsc.data.name"/>\n</div>\n<div class="fv__ui-custom-dynamic-stamp-dialog-fieldset-field d_f ai_c">\n<label class=" d_ib ml_30 w_128" data-i18n="custom-dynamic-stamp:dialog.font"></label>\n<dropdown editable name="stamp-fontFamilies" id="fv__ui-fontFamilies" class="f_1">\n<dropdown-button @foreach="item in cdsc.fontFamilies" @sync.text="item.name" @on.click="cdsc.selectFontFamily(item)"></dropdown-button>\n</dropdown>\n</div>\n<div class="fv__ui-custom-dynamic-stamp-dialog-fieldset-field d_f ai_c">\n<label class=" d_ib ml_30 w_128" data-i18n="custom-dynamic-stamp:dialog.stampText"></label>\n<dropdown editable name="stamp-text-type" class="f_1">\n<dropdown-button @foreach="item in cdsc.textType" @sync.text="item.type" @on.click="cdsc.selectTextType(item)"></dropdown-button>\n</dropdown>\n</div>\n<div class="fv__ui-custom-dynamic-stamp-dialog-fieldset-field fv__ui-field-transforms d_f ai_c jc_sb">\n<div class="fv__ui-custom-dynamic-stamp-dialog-field-item d_f ai_c">\n<label class=" d_ib ml_30 w_128" data-i18n="custom-dynamic-stamp:dialog.fontSize"></label>\n<dropdown editable name="fontSizeSelect" selected="0" selectable="false">\n<dropdown-button @foreach="size in cdsc.fontSizes" @sync.text="size" @on.click="cdsc.selectFontSize(size)"></dropdown-button>\n</dropdown>\n</dropdown>\n</div>\n<div class="fv__ui-custom-dynamic-stamp-dialog-field-item fv__ui-color-pick d_f ai_c">\n<label class=" d_ib" data-i18n="custom-dynamic-stamp:dialog.color"></label>\n<div class="color-picker" role="button" tabindex="0" name="color" @aria:labelledby="::previousSiblings()"  @on.native.click="self.selectColor($event)" @on.native.keydown="self.keydownColor($event)">\n<div>\n<div class="label">?</div>\n<div class="mask"></div>\n</div>\n</div>\n</div>\n</div>\n\n</fieldset>\n</layer-view>\n<layer-toolbar class="fv__ui-custom-dynamic-stamp-dialog-footer d_f ai_c jc_fe">\n<xbutton class="fv__ui-dialog-ok-button" @on.native.click="cdsc.ok()">common-dialogs.ok</xbutton>\n<xbutton class="fv__ui-dialog-cancel-button" @on.click="self.cancel()">common-dialogs.cancel</xbutton>\n</layer-toolbar>\n</layer>'}},6080:function(t){t.exports=null},5585:function(t,e,n){"use strict";
/*! art-template@runtime | https://github.com/aui/art-template */var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},o=Object.create(r),i=/["&'<>]/;function a(t){return"string"!=typeof t&&(t=null==t?"":"function"==typeof t?a(t.call(t)):JSON.stringify(t)),t}o.$escape=function(t){return function(t){var e=""+t,n=i.exec(e);if(!n)return t;var r="",o=void 0,a=void 0,s=void 0;for(o=n.index,a=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}a!==o&&(r+=e.substring(a,o)),a=o+1,r+=s}return a!==o?r+e.substring(a,o):r}(a(t))},o.$each=function(t,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++)e(t[n],n);else for(var o in t)e(t[o],o)},t.exports=o},5779:function(t,e,n){"use strict";t.exports=n(5585)},4616:function(e){"use strict";e.exports=t},509:function(t,e,n){"use strict";var r=n(9985),o=n(3691),i=TypeError;t.exports=function(t){if(r(t))return t;throw new i(o(t)+" is not a function")}},2655:function(t,e,n){"use strict";var r=n(9429),o=n(3691),i=TypeError;t.exports=function(t){if(r(t))return t;throw new i(o(t)+" is not a constructor")}},3550:function(t,e,n){"use strict";var r=n(9985),o=String,i=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw new i("Can't set "+o(t)+" as a prototype")}},7370:function(t,e,n){"use strict";var r=n(4201),o=n(5391),i=n(2560).f,a=r("unscopables"),s=Array.prototype;void 0===s[a]&&i(s,a,{configurable:!0,value:o(null)}),t.exports=function(t){s[a][t]=!0}},1514:function(t,e,n){"use strict";var r=n(730).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},767:function(t,e,n){"use strict";var r=n(3622),o=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw new o("Incorrect invocation")}},5027:function(t,e,n){"use strict";var r=n(8999),o=String,i=TypeError;t.exports=function(t){if(r(t))return t;throw new i(o(t)+" is not an object")}},4328:function(t,e,n){"use strict";var r=n(5290),o=n(7578),i=n(6310),a=function(t){return function(e,n,a){var s,c=r(e),u=i(c),l=o(a,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},6004:function(t,e,n){"use strict";var r=n(8844);t.exports=r([].slice)},6431:function(t,e,n){"use strict";var r=n(4201)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){try{if(!e&&!o)return!1}catch(t){return!1}var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},6648:function(t,e,n){"use strict";var r=n(8844),o=r({}.toString),i=r("".slice);t.exports=function(t){return i(o(t),8,-1)}},926:function(t,e,n){"use strict";var r=n(3043),o=n(9985),i=n(6648),a=n(4201)("toStringTag"),s=Object,c="Arguments"===i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=s(t),a))?n:c?i(e):"Object"===(r=i(e))&&o(e.callee)?"Arguments":r}},8758:function(t,e,n){"use strict";var r=n(6812),o=n(9152),i=n(2474),a=n(2560);t.exports=function(t,e,n){for(var s=o(e),c=a.f,u=i.f,l=0;l<s.length;l++){var p=s[l];r(t,p)||n&&r(n,p)||c(t,p,u(e,p))}}},1748:function(t,e,n){"use strict";var r=n(3689);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},7807:function(t){"use strict";t.exports=function(t,e){return{value:t,done:e}}},5773:function(t,e,n){"use strict";var r=n(7697),o=n(2560),i=n(5684);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},5684:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},2148:function(t,e,n){"use strict";var r=n(8702),o=n(2560);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),o.f(t,e,n)}},1880:function(t,e,n){"use strict";var r=n(9985),o=n(2560),i=n(8702),a=n(5014);t.exports=function(t,e,n,s){s||(s={});var c=s.enumerable,u=void 0!==s.name?s.name:e;if(r(n)&&i(n,u,s),s.global)c?t[e]=n:a(e,n);else{try{s.unsafe?t[e]&&(c=!0):delete t[e]}catch(t){}c?t[e]=n:o.f(t,e,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},5014:function(t,e,n){"use strict";var r=n(9037),o=Object.defineProperty;t.exports=function(t,e){try{o(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},7697:function(t,e,n){"use strict";var r=n(3689);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2659:function(t){"use strict";var e="object"==typeof document&&document.all,n=void 0===e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},6420:function(t,e,n){"use strict";var r=n(9037),o=n(8999),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},6338:function(t){"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3265:function(t,e,n){"use strict";var r=n(6420)("span").classList,o=r&&r.constructor&&r.constructor.prototype;t.exports=o===Object.prototype?void 0:o},2532:function(t,e,n){"use strict";var r=n(8563),o=n(806);t.exports=!r&&!o&&"object"==typeof window&&"object"==typeof document},8563:function(t){"use strict";t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},3221:function(t,e,n){"use strict";var r=n(71);t.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},4764:function(t,e,n){"use strict";var r=n(71);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},806:function(t,e,n){"use strict";var r=n(9037),o=n(6648);t.exports="process"===o(r.process)},7486:function(t,e,n){"use strict";var r=n(71);t.exports=/web0s(?!.*chrome)/i.test(r)},71:function(t){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:function(t,e,n){"use strict";var r,o,i=n(9037),a=n(71),s=i.process,c=i.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),t.exports=o},2739:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:function(t,e,n){"use strict";var r=n(9037),o=n(2474).f,i=n(5773),a=n(1880),s=n(5014),c=n(8758),u=n(5266);t.exports=function(t,e){var n,l,p,f,d,m=t.target,h=t.global,v=t.stat;if(n=h?r:v?r[m]||s(m,{}):(r[m]||{}).prototype)for(l in e){if(f=e[l],p=t.dontCallGetSet?(d=o(n,l))&&d.value:n[l],!u(h?l:m+(v?".":"#")+l,t.forced)&&void 0!==p){if(typeof f==typeof p)continue;c(f,p)}(t.sham||p&&p.sham)&&i(f,"sham",!0),a(n,l,f,t)}}},3689:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},8678:function(t,e,n){"use strict";n(4043);var r=n(6576),o=n(1880),i=n(6308),a=n(3689),s=n(4201),c=n(5773),u=s("species"),l=RegExp.prototype;t.exports=function(t,e,n,p){var f=s(t),d=!a((function(){var e={};return e[f]=function(){return 7},7!==""[t](e)})),m=d&&!a((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!d||!m||n){var h=r(/./[f]),v=e(f,""[t],(function(t,e,n,o,a){var s=r(t),c=e.exec;return c===i||c===l.exec?d&&!a?{done:!0,value:h(e,n,o)}:{done:!0,value:s(n,e,o)}:{done:!1}}));o(String.prototype,t,v[0]),o(l,f,v[1])}p&&c(l[f],"sham",!0)}},1735:function(t,e,n){"use strict";var r=n(7215),o=Function.prototype,i=o.apply,a=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},4071:function(t,e,n){"use strict";var r=n(6576),o=n(509),i=n(7215),a=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?a(t,e):function(){return t.apply(e,arguments)}}},7215:function(t,e,n){"use strict";var r=n(3689);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},2615:function(t,e,n){"use strict";var r=n(7215),o=Function.prototype.call;t.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},1236:function(t,e,n){"use strict";var r=n(7697),o=n(6812),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),c=s&&"something"===function(){}.name,u=s&&(!r||r&&a(i,"name").configurable);t.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},2743:function(t,e,n){"use strict";var r=n(8844),o=n(509);t.exports=function(t,e,n){try{return r(o(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},6576:function(t,e,n){"use strict";var r=n(6648),o=n(8844);t.exports=function(t){if("Function"===r(t))return o(t)}},8844:function(t,e,n){"use strict";var r=n(7215),o=Function.prototype,i=o.call,a=r&&o.bind.bind(i,i);t.exports=r?a:function(t){return function(){return i.apply(t,arguments)}}},6058:function(t,e,n){"use strict";var r=n(9037),o=n(9985);t.exports=function(t,e){return arguments.length<2?(n=r[t],o(n)?n:void 0):r[t]&&r[t][e];var n}},1664:function(t,e,n){"use strict";var r=n(926),o=n(4849),i=n(981),a=n(9478),s=n(4201)("iterator");t.exports=function(t){if(!i(t))return o(t,s)||o(t,"@@iterator")||a[r(t)]}},5185:function(t,e,n){"use strict";var r=n(2615),o=n(509),i=n(5027),a=n(3691),s=n(1664),c=TypeError;t.exports=function(t,e){var n=arguments.length<2?s(t):e;if(o(n))return i(r(n,t));throw new c(a(t)+" is not iterable")}},4849:function(t,e,n){"use strict";var r=n(509),o=n(981);t.exports=function(t,e){var n=t[e];return o(n)?void 0:r(n)}},7017:function(t,e,n){"use strict";var r=n(8844),o=n(690),i=Math.floor,a=r("".charAt),s=r("".replace),c=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,p,f){var d=n+t.length,m=r.length,h=l;return void 0!==p&&(p=o(p),h=u),s(f,h,(function(o,s){var u;switch(a(s,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,n);case"'":return c(e,d);case"<":u=p[c(s,1,-1)];break;default:var l=+s;if(0===l)return o;if(l>m){var f=i(l/10);return 0===f?o:f<=m?void 0===r[f-1]?a(s,1):r[f-1]+a(s,1):o}u=r[l-1]}return void 0===u?"":u}))}},9037:function(t,e,n){"use strict";var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},6812:function(t,e,n){"use strict";var r=n(8844),o=n(690),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},7248:function(t){"use strict";t.exports={}},920:function(t){"use strict";t.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}},2688:function(t,e,n){"use strict";var r=n(6058);t.exports=r("document","documentElement")},8506:function(t,e,n){"use strict";var r=n(7697),o=n(3689),i=n(6420);t.exports=!r&&!o((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},4413:function(t,e,n){"use strict";var r=n(8844),o=n(3689),i=n(6648),a=Object,s=r("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"===i(t)?s(t,""):a(t)}:a},6738:function(t,e,n){"use strict";var r=n(8844),o=n(9985),i=n(4091),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},618:function(t,e,n){"use strict";var r,o,i,a=n(9834),s=n(9037),c=n(8999),u=n(5773),l=n(6812),p=n(4091),f=n(2713),d=n(7248),m="Object already initialized",h=s.TypeError,v=s.WeakMap;if(a||p.state){var y=p.state||(p.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,r=function(t,e){if(y.has(t))throw new h(m);return e.facade=t,y.set(t,e),e},o=function(t){return y.get(t)||{}},i=function(t){return y.has(t)}}else{var g=f("state");d[g]=!0,r=function(t,e){if(l(t,g))throw new h(m);return e.facade=t,u(t,g,e),e},o=function(t){return l(t,g)?t[g]:{}},i=function(t){return l(t,g)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw new h("Incompatible receiver, "+t+" required");return n}}}},3292:function(t,e,n){"use strict";var r=n(4201),o=n(9478),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},9985:function(t,e,n){"use strict";var r=n(2659),o=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===o}:function(t){return"function"==typeof t}},9429:function(t,e,n){"use strict";var r=n(8844),o=n(3689),i=n(9985),a=n(926),s=n(6058),c=n(6738),u=function(){},l=[],p=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,d=r(f.exec),m=!f.test(u),h=function(t){if(!i(t))return!1;try{return p(u,l,t),!0}catch(t){return!1}},v=function(t){if(!i(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!d(f,c(t))}catch(t){return!0}};v.sham=!0,t.exports=!p||o((function(){var t;return h(h.call)||!h(Object)||!h((function(){t=!0}))||t}))?v:h},5266:function(t,e,n){"use strict";var r=n(3689),o=n(9985),i=/#|\.prototype\./,a=function(t,e){var n=c[s(t)];return n===l||n!==u&&(o(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},981:function(t){"use strict";t.exports=function(t){return null==t}},8999:function(t,e,n){"use strict";var r=n(9985),o=n(2659),i=o.all;t.exports=o.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===i}:function(t){return"object"==typeof t?null!==t:r(t)}},3931:function(t){"use strict";t.exports=!1},734:function(t,e,n){"use strict";var r=n(6058),o=n(9985),i=n(3622),a=n(9525),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return o(e)&&i(e.prototype,s(t))}},8734:function(t,e,n){"use strict";var r=n(4071),o=n(2615),i=n(5027),a=n(3691),s=n(3292),c=n(6310),u=n(3622),l=n(5185),p=n(1664),f=n(2125),d=TypeError,m=function(t,e){this.stopped=t,this.result=e},h=m.prototype;t.exports=function(t,e,n){var v,y,g,b,x,w,_,S=n&&n.that,T=!(!n||!n.AS_ENTRIES),C=!(!n||!n.IS_RECORD),I=!(!n||!n.IS_ITERATOR),O=!(!n||!n.INTERRUPTED),E=r(e,S),k=function(t){return v&&f(v,"normal",t),new m(!0,t)},P=function(t){return T?(i(t),O?E(t[0],t[1],k):E(t[0],t[1])):O?E(t,k):E(t)};if(C)v=t.iterator;else if(I)v=t;else{if(!(y=p(t)))throw new d(a(t)+" is not iterable");if(s(y)){for(g=0,b=c(t);b>g;g++)if((x=P(t[g]))&&u(h,x))return x;return new m(!1)}v=l(t,y)}for(w=C?t.next:v.next;!(_=o(w,v)).done;){try{x=P(_.value)}catch(t){f(v,"throw",t)}if("object"==typeof x&&x&&u(h,x))return x}return new m(!1)}},2125:function(t,e,n){"use strict";var r=n(2615),o=n(5027),i=n(4849);t.exports=function(t,e,n){var a,s;o(t);try{if(!(a=i(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw n;if(s)throw a;return o(a),n}},974:function(t,e,n){"use strict";var r=n(2013).IteratorPrototype,o=n(5391),i=n(5684),a=n(5997),s=n(9478),c=function(){return this};t.exports=function(t,e,n,u){var l=e+" Iterator";return t.prototype=o(r,{next:i(+!u,n)}),a(t,l,!1,!0),s[l]=c,t}},1934:function(t,e,n){"use strict";var r=n(9989),o=n(2615),i=n(3931),a=n(1236),s=n(9985),c=n(974),u=n(1868),l=n(9385),p=n(5997),f=n(5773),d=n(1880),m=n(4201),h=n(9478),v=n(2013),y=a.PROPER,g=a.CONFIGURABLE,b=v.IteratorPrototype,x=v.BUGGY_SAFARI_ITERATORS,w=m("iterator"),_="keys",S="values",T="entries",C=function(){return this};t.exports=function(t,e,n,a,m,v,I){c(n,e,a);var O,E,k,P=function(t){if(t===m&&$)return $;if(!x&&t&&t in j)return j[t];switch(t){case _:case S:case T:return function(){return new n(this,t)}}return function(){return new n(this)}},D=e+" Iterator",A=!1,j=t.prototype,L=j[w]||j["@@iterator"]||m&&j[m],$=!x&&L||P(m),U="Array"===e&&j.entries||L;if(U&&(O=u(U.call(new t)))!==Object.prototype&&O.next&&(i||u(O)===b||(l?l(O,b):s(O[w])||d(O,w,C)),p(O,D,!0,!0),i&&(h[D]=C)),y&&m===S&&L&&L.name!==S&&(!i&&g?f(j,"name",S):(A=!0,$=function(){return o(L,this)})),m)if(E={values:P(S),keys:v?$:P(_),entries:P(T)},I)for(k in E)(x||A||!(k in j))&&d(j,k,E[k]);else r({target:e,proto:!0,forced:x||A},E);return i&&!I||j[w]===$||d(j,w,$,{name:m}),h[e]=$,E}},2013:function(t,e,n){"use strict";var r,o,i,a=n(3689),s=n(9985),c=n(8999),u=n(5391),l=n(1868),p=n(1880),f=n(4201),d=n(3931),m=f("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(r=o):h=!0),!c(r)||a((function(){var t={};return r[m].call(t)!==t}))?r={}:d&&(r=u(r)),s(r[m])||p(r,m,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},9478:function(t){"use strict";t.exports={}},6310:function(t,e,n){"use strict";var r=n(3126);t.exports=function(t){return r(t.length)}},8702:function(t,e,n){"use strict";var r=n(8844),o=n(3689),i=n(9985),a=n(6812),s=n(7697),c=n(1236).CONFIGURABLE,u=n(6738),l=n(618),p=l.enforce,f=l.get,d=String,m=Object.defineProperty,h=r("".slice),v=r("".replace),y=r([].join),g=s&&!o((function(){return 8!==m((function(){}),"length",{value:8}).length})),b=String(String).split("String"),x=t.exports=function(t,e,n){"Symbol("===h(d(e),0,7)&&(e="["+v(d(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!a(t,"name")||c&&t.name!==e)&&(s?m(t,"name",{value:e,configurable:!0}):t.name=e),g&&n&&a(n,"arity")&&t.length!==n.arity&&m(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&m(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=p(t);return a(r,"source")||(r.source=y(b,"string"==typeof e?e:"")),t};Function.prototype.toString=x((function(){return i(this)&&f(this).source||u(this)}),"toString")},8828:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},231:function(t,e,n){"use strict";var r,o,i,a,s,c=n(9037),u=n(4071),l=n(2474).f,p=n(9886).set,f=n(4410),d=n(4764),m=n(3221),h=n(7486),v=n(806),y=c.MutationObserver||c.WebKitMutationObserver,g=c.document,b=c.process,x=c.Promise,w=l(c,"queueMicrotask"),_=w&&w.value;if(!_){var S=new f,T=function(){var t,e;for(v&&(t=b.domain)&&t.exit();e=S.get();)try{e()}catch(t){throw S.head&&r(),t}t&&t.enter()};d||v||h||!y||!g?!m&&x&&x.resolve?((a=x.resolve(void 0)).constructor=x,s=u(a.then,a),r=function(){s(T)}):v?r=function(){b.nextTick(T)}:(p=u(p,c),r=function(){p(T)}):(o=!0,i=g.createTextNode(""),new y(T).observe(i,{characterData:!0}),r=function(){i.data=o=!o}),_=function(t){S.head||r(),S.add(t)}}t.exports=_},8742:function(t,e,n){"use strict";var r=n(509),o=TypeError,i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw new o("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},5391:function(t,e,n){"use strict";var r,o=n(5027),i=n(8920),a=n(2739),s=n(7248),c=n(2688),u=n(6420),l=n(2713),p="prototype",f="script",d=l("IE_PROTO"),m=function(){},h=function(t){return"<"+f+">"+t+"</"+f+">"},v=function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;y="undefined"!=typeof document?document.domain&&r?v(r):(e=u("iframe"),n="java"+f+":",e.style.display="none",c.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F):v(r);for(var o=a.length;o--;)delete y[p][a[o]];return y()};s[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(m[p]=o(t),n=new m,m[p]=null,n[d]=t):n=y(),void 0===e?n:i.f(n,e)}},8920:function(t,e,n){"use strict";var r=n(7697),o=n(5648),i=n(2560),a=n(5027),s=n(5290),c=n(300);e.f=r&&!o?Object.defineProperties:function(t,e){a(t);for(var n,r=s(e),o=c(e),u=o.length,l=0;u>l;)i.f(t,n=o[l++],r[n]);return t}},2560:function(t,e,n){"use strict";var r=n(7697),o=n(8506),i=n(5648),a=n(5027),s=n(8360),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,p="enumerable",f="configurable",d="writable";e.f=r?i?function(t,e,n){if(a(t),e=s(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&d in n&&!n[d]){var r=l(t,e);r&&r[d]&&(t[e]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:p in n?n[p]:r[p],writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(a(t),e=s(e),a(n),o)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},2474:function(t,e,n){"use strict";var r=n(7697),o=n(2615),i=n(9556),a=n(5684),s=n(5290),c=n(8360),u=n(6812),l=n(8506),p=Object.getOwnPropertyDescriptor;e.f=r?p:function(t,e){if(t=s(t),e=c(e),l)try{return p(t,e)}catch(t){}if(u(t,e))return a(!o(i.f,t,e),t[e])}},2741:function(t,e,n){"use strict";var r=n(4948),o=n(2739).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},7518:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},1868:function(t,e,n){"use strict";var r=n(6812),o=n(9985),i=n(690),a=n(2713),s=n(1748),c=a("IE_PROTO"),u=Object,l=u.prototype;t.exports=s?u.getPrototypeOf:function(t){var e=i(t);if(r(e,c))return e[c];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof u?l:null}},3622:function(t,e,n){"use strict";var r=n(8844);t.exports=r({}.isPrototypeOf)},4948:function(t,e,n){"use strict";var r=n(8844),o=n(6812),i=n(5290),a=n(4328).indexOf,s=n(7248),c=r([].push);t.exports=function(t,e){var n,r=i(t),u=0,l=[];for(n in r)!o(s,n)&&o(r,n)&&c(l,n);for(;e.length>u;)o(r,n=e[u++])&&(~a(l,n)||c(l,n));return l}},300:function(t,e,n){"use strict";var r=n(4948),o=n(2739);t.exports=Object.keys||function(t){return r(t,o)}},9556:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},9385:function(t,e,n){"use strict";var r=n(2743),o=n(5027),i=n(3550);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return o(n),i(r),e?t(n,r):n.__proto__=r,n}}():void 0)},5899:function(t,e,n){"use strict";var r=n(2615),o=n(9985),i=n(8999),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&o(n=t.toString)&&!i(s=r(n,t)))return s;if(o(n=t.valueOf)&&!i(s=r(n,t)))return s;if("string"!==e&&o(n=t.toString)&&!i(s=r(n,t)))return s;throw new a("Can't convert object to primitive value")}},9152:function(t,e,n){"use strict";var r=n(6058),o=n(8844),i=n(2741),a=n(7518),s=n(5027),c=o([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=a.f;return n?c(e,n(t)):e}},9302:function(t){"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},7073:function(t,e,n){"use strict";var r=n(9037),o=n(7919),i=n(9985),a=n(5266),s=n(6738),c=n(4201),u=n(2532),l=n(8563),p=n(3931),f=n(3615),d=o&&o.prototype,m=c("species"),h=!1,v=i(r.PromiseRejectionEvent),y=a("Promise",(function(){var t=s(o),e=t!==String(o);if(!e&&66===f)return!0;if(p&&(!d.catch||!d.finally))return!0;if(!f||f<51||!/native code/.test(t)){var n=new o((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[m]=r,!(h=n.then((function(){}))instanceof r))return!0}return!e&&(u||l)&&!v}));t.exports={CONSTRUCTOR:y,REJECTION_EVENT:v,SUBCLASSING:h}},7919:function(t,e,n){"use strict";var r=n(9037);t.exports=r.Promise},2945:function(t,e,n){"use strict";var r=n(5027),o=n(8999),i=n(8742);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},562:function(t,e,n){"use strict";var r=n(7919),o=n(6431),i=n(7073).CONSTRUCTOR;t.exports=i||!o((function(t){r.all(t).then(void 0,(function(){}))}))},4410:function(t){"use strict";var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},6100:function(t,e,n){"use strict";var r=n(2615),o=n(5027),i=n(9985),a=n(6648),s=n(6308),c=TypeError;t.exports=function(t,e){var n=t.exec;if(i(n)){var u=r(n,t,e);return null!==u&&o(u),u}if("RegExp"===a(t))return r(s,t,e);throw new c("RegExp#exec called on incompatible receiver")}},6308:function(t,e,n){"use strict";var r,o,i=n(2615),a=n(8844),s=n(4327),c=n(9633),u=n(7901),l=n(3430),p=n(5391),f=n(618).get,d=n(2100),m=n(6422),h=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,y=v,g=a("".charAt),b=a("".indexOf),x=a("".replace),w=a("".slice),_=(o=/b*/g,i(v,r=/a/,"a"),i(v,o,"a"),0!==r.lastIndex||0!==o.lastIndex),S=u.BROKEN_CARET,T=void 0!==/()??/.exec("")[1];(_||T||S||d||m)&&(y=function(t){var e,n,r,o,a,u,l,d=this,m=f(d),C=s(t),I=m.raw;if(I)return I.lastIndex=d.lastIndex,e=i(y,I,C),d.lastIndex=I.lastIndex,e;var O=m.groups,E=S&&d.sticky,k=i(c,d),P=d.source,D=0,A=C;if(E&&(k=x(k,"y",""),-1===b(k,"g")&&(k+="g"),A=w(C,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==g(C,d.lastIndex-1))&&(P="(?: "+P+")",A=" "+A,D++),n=new RegExp("^(?:"+P+")",k)),T&&(n=new RegExp("^"+P+"$(?!\\s)",k)),_&&(r=d.lastIndex),o=i(v,E?n:d,A),E?o?(o.input=w(o.input,D),o[0]=w(o[0],D),o.index=d.lastIndex,d.lastIndex+=o[0].length):d.lastIndex=0:_&&o&&(d.lastIndex=d.global?o.index+o[0].length:r),T&&o&&o.length>1&&i(h,o[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&O)for(o.groups=u=p(null),a=0;a<O.length;a++)u[(l=O[a])[0]]=o[l[1]];return o}),t.exports=y},9633:function(t,e,n){"use strict";var r=n(5027);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},7901:function(t,e,n){"use strict";var r=n(3689),o=n(9037).RegExp,i=r((function(){var t=o("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),a=i||r((function(){return!o("a","y").sticky})),s=i||r((function(){var t=o("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:i}},2100:function(t,e,n){"use strict";var r=n(3689),o=n(9037).RegExp;t.exports=r((function(){var t=o(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},6422:function(t,e,n){"use strict";var r=n(3689),o=n(9037).RegExp;t.exports=r((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4684:function(t,e,n){"use strict";var r=n(981),o=TypeError;t.exports=function(t){if(r(t))throw new o("Can't call method on "+t);return t}},4241:function(t,e,n){"use strict";var r=n(6058),o=n(2148),i=n(4201),a=n(7697),s=i("species");t.exports=function(t){var e=r(t);a&&e&&!e[s]&&o(e,s,{configurable:!0,get:function(){return this}})}},5997:function(t,e,n){"use strict";var r=n(2560).f,o=n(6812),i=n(4201)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!o(t,i)&&r(t,i,{configurable:!0,value:e})}},2713:function(t,e,n){"use strict";var r=n(3430),o=n(4630),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},4091:function(t,e,n){"use strict";var r=n(9037),o=n(5014),i="__core-js_shared__",a=r[i]||o(i,{});t.exports=a},3430:function(t,e,n){"use strict";var r=n(3931),o=n(4091);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.2",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"})},6373:function(t,e,n){"use strict";var r=n(5027),o=n(2655),i=n(981),a=n(4201)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||i(n=r(s)[a])?e:o(n)}},730:function(t,e,n){"use strict";var r=n(8844),o=n(8700),i=n(4327),a=n(4684),s=r("".charAt),c=r("".charCodeAt),u=r("".slice),l=function(t){return function(e,n){var r,l,p=i(a(e)),f=o(n),d=p.length;return f<0||f>=d?t?"":void 0:(r=c(p,f))<55296||r>56319||f+1===d||(l=c(p,f+1))<56320||l>57343?t?s(p,f):r:t?u(p,f,f+2):l-56320+(r-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},146:function(t,e,n){"use strict";var r=n(3615),o=n(3689),i=n(9037).String;t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol("symbol detection");return!i(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},9886:function(t,e,n){"use strict";var r,o,i,a,s=n(9037),c=n(1735),u=n(4071),l=n(9985),p=n(6812),f=n(3689),d=n(2688),m=n(6004),h=n(6420),v=n(1500),y=n(4764),g=n(806),b=s.setImmediate,x=s.clearImmediate,w=s.process,_=s.Dispatch,S=s.Function,T=s.MessageChannel,C=s.String,I=0,O={},E="onreadystatechange";f((function(){r=s.location}));var k=function(t){if(p(O,t)){var e=O[t];delete O[t],e()}},P=function(t){return function(){k(t)}},D=function(t){k(t.data)},A=function(t){s.postMessage(C(t),r.protocol+"//"+r.host)};b&&x||(b=function(t){v(arguments.length,1);var e=l(t)?t:S(t),n=m(arguments,1);return O[++I]=function(){c(e,void 0,n)},o(I),I},x=function(t){delete O[t]},g?o=function(t){w.nextTick(P(t))}:_&&_.now?o=function(t){_.now(P(t))}:T&&!y?(a=(i=new T).port2,i.port1.onmessage=D,o=u(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!f(A)?(o=A,s.addEventListener("message",D,!1)):o=E in h("script")?function(t){d.appendChild(h("script"))[E]=function(){d.removeChild(this),k(t)}}:function(t){setTimeout(P(t),0)}),t.exports={set:b,clear:x}},7578:function(t,e,n){"use strict";var r=n(8700),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},5290:function(t,e,n){"use strict";var r=n(4413),o=n(4684);t.exports=function(t){return r(o(t))}},8700:function(t,e,n){"use strict";var r=n(8828);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},3126:function(t,e,n){"use strict";var r=n(8700),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},690:function(t,e,n){"use strict";var r=n(4684),o=Object;t.exports=function(t){return o(r(t))}},8732:function(t,e,n){"use strict";var r=n(2615),o=n(8999),i=n(734),a=n(4849),s=n(5899),c=n(4201),u=TypeError,l=c("toPrimitive");t.exports=function(t,e){if(!o(t)||i(t))return t;var n,c=a(t,l);if(c){if(void 0===e&&(e="default"),n=r(c,t,e),!o(n)||i(n))return n;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},8360:function(t,e,n){"use strict";var r=n(8732),o=n(734);t.exports=function(t){var e=r(t,"string");return o(e)?e:e+""}},3043:function(t,e,n){"use strict";var r={};r[n(4201)("toStringTag")]="z",t.exports="[object z]"===String(r)},4327:function(t,e,n){"use strict";var r=n(926),o=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return o(t)}},3691:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},4630:function(t,e,n){"use strict";var r=n(8844),o=0,i=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},9525:function(t,e,n){"use strict";var r=n(146);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:function(t,e,n){"use strict";var r=n(7697),o=n(3689);t.exports=r&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1500:function(t){"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},9834:function(t,e,n){"use strict";var r=n(9037),o=n(9985),i=r.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},4201:function(t,e,n){"use strict";var r=n(9037),o=n(3430),i=n(6812),a=n(4630),s=n(146),c=n(9525),u=r.Symbol,l=o("wks"),p=c?u.for||u:u&&u.withoutSetter||a;t.exports=function(t){return i(l,t)||(l[t]=s&&i(u,t)?u[t]:p("Symbol."+t)),l[t]}},752:function(t,e,n){"use strict";var r=n(5290),o=n(7370),i=n(9478),a=n(618),s=n(2560).f,c=n(1934),u=n(7807),l=n(3931),p=n(7697),f="Array Iterator",d=a.set,m=a.getterFor(f);t.exports=c(Array,"Array",(function(t,e){d(this,{type:f,target:r(t),index:0,kind:e})}),(function(){var t=m(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,u(void 0,!0);switch(t.kind){case"keys":return u(n,!1);case"values":return u(e[n],!1)}return u([n,e[n]],!1)}),"values");var h=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!l&&p&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(t){}},1692:function(t,e,n){"use strict";var r=n(9989),o=n(2615),i=n(509),a=n(8742),s=n(9302),c=n(8734);r({target:"Promise",stat:!0,forced:n(562)},{all:function(t){var e=this,n=a.f(e),r=n.resolve,u=n.reject,l=s((function(){var n=i(e.resolve),a=[],s=0,l=1;c(t,(function(t){var i=s++,c=!1;l++,o(n,e,t).then((function(t){c||(c=!0,a[i]=t,--l||r(a))}),u)})),--l||r(a)}));return l.error&&u(l.value),n.promise}})},5089:function(t,e,n){"use strict";var r=n(9989),o=n(3931),i=n(7073).CONSTRUCTOR,a=n(7919),s=n(6058),c=n(9985),u=n(1880),l=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(t){return this.then(void 0,t)}}),!o&&c(a)){var p=s("Promise").prototype.catch;l.catch!==p&&u(l,"catch",p,{unsafe:!0})}},6697:function(t,e,n){"use strict";var r,o,i,a=n(9989),s=n(3931),c=n(806),u=n(9037),l=n(2615),p=n(1880),f=n(9385),d=n(5997),m=n(4241),h=n(509),v=n(9985),y=n(8999),g=n(767),b=n(6373),x=n(9886).set,w=n(231),_=n(920),S=n(9302),T=n(4410),C=n(618),I=n(7919),O=n(7073),E=n(8742),k="Promise",P=O.CONSTRUCTOR,D=O.REJECTION_EVENT,A=O.SUBCLASSING,j=C.getterFor(k),L=C.set,$=I&&I.prototype,U=I,F=$,R=u.TypeError,M=u.document,N=u.process,z=E.f,B=z,V=!!(M&&M.createEvent&&u.dispatchEvent),G="unhandledrejection",H=function(t){var e;return!(!y(t)||!v(e=t.then))&&e},W=function(t,e){var n,r,o,i=e.value,a=1===e.state,s=a?t.ok:t.fail,c=t.resolve,u=t.reject,p=t.domain;try{s?(a||(2===e.rejection&&J(e),e.rejection=1),!0===s?n=i:(p&&p.enter(),n=s(i),p&&(p.exit(),o=!0)),n===t.promise?u(new R("Promise-chain cycle")):(r=H(n))?l(r,n,c,u):c(n)):u(i)}catch(t){p&&!o&&p.exit(),u(t)}},K=function(t,e){t.notified||(t.notified=!0,w((function(){for(var n,r=t.reactions;n=r.get();)W(n,t);t.notified=!1,e&&!t.rejection&&Y(t)})))},q=function(t,e,n){var r,o;V?((r=M.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},!D&&(o=u["on"+t])?o(r):t===G&&_("Unhandled promise rejection",n)},Y=function(t){l(x,u,(function(){var e,n=t.facade,r=t.value;if(X(t)&&(e=S((function(){c?N.emit("unhandledRejection",r,n):q(G,n,r)})),t.rejection=c||X(t)?2:1,e.error))throw e.value}))},X=function(t){return 1!==t.rejection&&!t.parent},J=function(t){l(x,u,(function(){var e=t.facade;c?N.emit("rejectionHandled",e):q("rejectionhandled",e,t.value)}))},Q=function(t,e,n){return function(r){t(e,r,n)}},Z=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,K(t,!0))},tt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new R("Promise can't be resolved itself");var r=H(e);r?w((function(){var n={done:!1};try{l(r,e,Q(tt,n,t),Q(Z,n,t))}catch(e){Z(n,e,t)}})):(t.value=e,t.state=1,K(t,!1))}catch(e){Z({done:!1},e,t)}}};if(P&&(F=(U=function(t){g(this,F),h(t),l(r,this);var e=j(this);try{t(Q(tt,e),Q(Z,e))}catch(t){Z(e,t)}}).prototype,(r=function(t){L(this,{type:k,done:!1,notified:!1,parent:!1,reactions:new T,rejection:!1,state:0,value:void 0})}).prototype=p(F,"then",(function(t,e){var n=j(this),r=z(b(this,U));return n.parent=!0,r.ok=!v(t)||t,r.fail=v(e)&&e,r.domain=c?N.domain:void 0,0===n.state?n.reactions.add(r):w((function(){W(r,n)})),r.promise})),o=function(){var t=new r,e=j(t);this.promise=t,this.resolve=Q(tt,e),this.reject=Q(Z,e)},E.f=z=function(t){return t===U||undefined===t?new o(t):B(t)},!s&&v(I)&&$!==Object.prototype)){i=$.then,A||p($,"then",(function(t,e){var n=this;return new U((function(t,e){l(i,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete $.constructor}catch(t){}f&&f($,F)}a({global:!0,constructor:!0,wrap:!0,forced:P},{Promise:U}),d(U,k,!1,!0),m(k)},6409:function(t,e,n){"use strict";var r=n(9989),o=n(3931),i=n(7919),a=n(3689),s=n(6058),c=n(9985),u=n(6373),l=n(2945),p=n(1880),f=i&&i.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){f.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=u(this,s("Promise")),n=c(t);return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}}),!o&&c(i)){var d=s("Promise").prototype.finally;f.finally!==d&&p(f,"finally",d,{unsafe:!0})}},3964:function(t,e,n){"use strict";n(6697),n(1692),n(5089),n(8829),n(2092),n(7905)},8829:function(t,e,n){"use strict";var r=n(9989),o=n(2615),i=n(509),a=n(8742),s=n(9302),c=n(8734);r({target:"Promise",stat:!0,forced:n(562)},{race:function(t){var e=this,n=a.f(e),r=n.reject,u=s((function(){var a=i(e.resolve);c(t,(function(t){o(a,e,t).then(n.resolve,r)}))}));return u.error&&r(u.value),n.promise}})},2092:function(t,e,n){"use strict";var r=n(9989),o=n(2615),i=n(8742);r({target:"Promise",stat:!0,forced:n(7073).CONSTRUCTOR},{reject:function(t){var e=i.f(this);return o(e.reject,void 0,t),e.promise}})},7905:function(t,e,n){"use strict";var r=n(9989),o=n(6058),i=n(3931),a=n(7919),s=n(7073).CONSTRUCTOR,c=n(2945),u=o("Promise"),l=i&&!s;r({target:"Promise",stat:!0,forced:i||s},{resolve:function(t){return c(l&&this===u?a:this,t)}})},4043:function(t,e,n){"use strict";var r=n(9989),o=n(6308);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},7267:function(t,e,n){"use strict";var r=n(1735),o=n(2615),i=n(8844),a=n(8678),s=n(3689),c=n(5027),u=n(9985),l=n(981),p=n(8700),f=n(3126),d=n(4327),m=n(4684),h=n(1514),v=n(4849),y=n(7017),g=n(6100),b=n(4201)("replace"),x=Math.max,w=Math.min,_=i([].concat),S=i([].push),T=i("".indexOf),C=i("".slice),I="$0"==="a".replace(/./,"$0"),O=!!/./[b]&&""===/./[b]("a","$0");a("replace",(function(t,e,n){var i=O?"$":"$0";return[function(t,n){var r=m(this),i=l(t)?void 0:v(t,b);return i?o(i,t,r,n):o(e,d(r),t,n)},function(t,o){var a=c(this),s=d(t);if("string"==typeof o&&-1===T(o,i)&&-1===T(o,"$<")){var l=n(e,a,s,o);if(l.done)return l.value}var m=u(o);m||(o=d(o));var v,b=a.global;b&&(v=a.unicode,a.lastIndex=0);for(var I,O=[];null!==(I=g(a,s))&&(S(O,I),b);){""===d(I[0])&&(a.lastIndex=h(s,f(a.lastIndex),v))}for(var E,k="",P=0,D=0;D<O.length;D++){for(var A,j=d((I=O[D])[0]),L=x(w(p(I.index),s.length),0),$=[],U=1;U<I.length;U++)S($,void 0===(E=I[U])?E:String(E));var F=I.groups;if(m){var R=_([j],$,L,s);void 0!==F&&S(R,F),A=d(r(o,void 0,R))}else A=y(j,s,L,$,F,o);L>=P&&(k+=C(s,P,L)+A,P=L+j.length)}return k+C(s,P)}]}),!!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!I||O)},6265:function(t,e,n){"use strict";var r=n(9037),o=n(6338),i=n(3265),a=n(752),s=n(5773),c=n(4201),u=c("iterator"),l=c("toStringTag"),p=a.values,f=function(t,e){if(t){if(t[u]!==p)try{s(t,u,p)}catch(e){t[u]=p}if(t[l]||s(t,l,e),o[e])for(var n in a)if(t[n]!==a[n])try{s(t,n,a[n])}catch(e){t[n]=a[n]}}};for(var d in o)f(r[d]&&r[d].prototype,d);f(i,"DOMTokenList")}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var o={};return function(){"use strict";function t(e,n){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t(e,n)}function e(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,t(e,n)}r.d(o,{default:function(){return et}});var n=r(4616);const{PDFUI:i,UIXAddon:a,SeniorComponentFactory:s,modular:c,Controller:u,vendors:{jQuery:l,Hammer:p},services:{StampStorageService:f}}=n,d=n.PDFViewCtrl,{StorageFeature:m}=d.storage,{PDFViewer:h,shared:{extendOptions:v,colorConvertor:y},commons:{createDeferred:g},FontUtil:{FontFamilies:b},Consts:{CUSTOM_STAMPS_LOCALKEY:x},PDF:{constant:{STAMP_TEXT_TYPE:w}},_internal:{consts:{ADD_FONT_MAP_LIST:_}}}=d,{isMatch:S,matchers:{Enter:T}}=d.keyboard.KeyboardUtils,C="custom-dynamic-stamp",I={BACKGROUND_COLOR:"backgroundColor",TEMPLATE:"template"},O=["auto","6","8","10","12","14","16","18","20","22","24","26","28","30","32"],E="CUSTOM_DYNAMIC_STAMP_TEMPLATE";var k=r(6080),P=r.n(k);const D=c.module("custom-dynamic-stamp",[]);r(3964);function A(){return A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A.apply(this,arguments)}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L(t){return function(t){if(Array.isArray(t))return j(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r(752),r(6265),r(4043),r(7267);var $=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function U(t){return $(this,void 0,void 0,(function*(){const e=new FileReader;return new Promise((n=>{e.onload=function(t){var e;n(null===(e=null==t?void 0:t.target)||void 0===e?void 0:e.result)},e.readAsDataURL(t)}))}))}function F({wrapWidth:t=290,wrapHeight:e=150,text:n="",fontSize:r="",pLeft:o,pTop:i}){const a=document.createElement("span");let s;a.style.opacity="0",document.body.appendChild(a),a.innerText=n,s=a.getBoundingClientRect();let c=t/e,u=s.width/s.height;if(!u)return{width:0,height:0,left:0,right:t,top:e,bottom:0};let l,p,f,d,m=e,h=t;return parseFloat(r)?(a.style.fontSize=`${r}px`,s=a.getBoundingClientRect(),l=void 0!==o?o:(t-s.width)/2,p=l+s.width,f=void 0!==i?i:(e-s.height)/2+s.height,d=f-s.height,document.body.removeChild(a),{width:s.width,height:s.height,left:l,right:p,top:f,bottom:d}):(u>c?(l=void 0!==o?o:0,p=t,m=t/u,f=void 0!==i?i:(e-m)/2+m,d=f-m):(f=void 0!==i?i:e,d=f-e,h=e*u,l=void 0!==o?o:(t-h)/2,p=h+l),document.body.removeChild(a),{left:l,right:p,top:f,bottom:d,width:h,height:m})}function R({url:t}){return t instanceof Blob?U(t).then((t=>M(t))):M(t)}function M(t){return new Promise(((e,n)=>{let r=document.createElement("canvas"),o=r.getContext("2d");r.width=290,r.height=150;let i=new Image;i.setAttribute("crossOrigin","Anonymous"),i.onload=()=>{let t=i.width/i.height,n=i.width,a=i.height;t>290/150?(n=290,a=n/t):(a=150,n=a*t),r.width=n,r.height=a,o?(o.drawImage(i,0,0,n,a),e({url:r.toDataURL("image/png"),width:n,height:a})):e({url:r.toDataURL("image/png"),width:n,height:a})},i.src=t}))}function N(t,e,n){if(e&&!Array.isArray(e)&&"number"==typeof e.length){var r=e.length;return function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}(e,void 0!==n&&n<r?n:r)}return t(e,n)}var z=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};let B=function(){function t(){this.stampsArr=[],this.customTemplateArr=[]}t.inject=function(){return{viewer:h,stampStorageService:f}};var e=t.prototype;return e.allInjected=function(){return z(this,void 0,void 0,(function*(){const t=g();this.preparePromise=t.promise,this.customTemplateArr=yield this.getTemplatesInLocal(),this.stampsArr=yield this.getDynamicStamps(),t.resolve()}))},e.prepare=function(){return this.preparePromise},e.setStampTemplates=function(t){var e;let n=[],r=this.customTemplateArr.map((t=>t.name));for(let e=0;e<t.length;e++){let o=t[e];r.includes(o.name)?n.forEach((t=>{t.name==o.name&&(t.url=o.url)})):(r.push(o.name),n.push(o))}(e=this.customTemplateArr).unshift.apply(e,n),this.storeTemplatesInLocal(this.customTemplateArr)},e.removeStampTemplates=function(t){const e=N(L,this.customTemplateArr);for(var n=0;n<t.length;n++)for(var r=0;r<e.length;r++)t[n]==e[r].name&&e.splice(r,1);this.customTemplateArr=e,this.storeTemplatesInLocal(this.customTemplateArr)},e.getStampTemplates=function(){return this.customTemplateArr},e.getTemplatesInLocal=function(){return z(this,void 0,void 0,(function*(){const t=this.viewer.getStorage();return(yield t.get(m.STAMP,E))||[]}))},e.storeTemplatesInLocal=function(t){return this.viewer.getStorage().set(m.STAMP,E,t)},e.setDynamicStamp=function(t,e=!0){let n=[],r=new Map;const o=N(L,this.stampsArr);for(let t of o)r.set(t.category+t.name,t);let i=!1,a="";for(let e=0;e<t.length;e++){let o=t[e];r.has(o.category+o.name)&&(i=!0,a=o.name),r.set(o.category+o.name,o),n.push(o)}if(i){let t=this.viewer.i18n.t("custom-dynamic-stamp:alert.sameName");return t=t.replace("${1}",a),Promise.reject(new Error(t))}return this.formatData(n,e).then((t=>{var e;return(e=this.stampsArr).push.apply(e,N(L,t)),this.getCustomStampIcons().then((e=>{this.storeStampInLocal(e),this.stampStorageService.triggerCustomStampChange({});let n=[],r=e.length-t.length;return t.forEach(((t,o)=>{t.showUrl=e[r+o].showUrl,n.push(this.viewer.addAnnotationIcon(t))})),Promise.all(n)}))}))},e.removeDynamicStamp=function(t){const e=N(L,this.stampsArr);let n=[];for(var r=0;r<t.length;r++)for(var o=0;o<e.length;o++)if(t[r].category===e[o].category&&t[r].names.includes(e[o].name)){let t=e.splice(o,1);n.push.apply(n,N(L,t)),this.viewer.removeAnnotationIcon("stamp",t[0].category,t[0].name),o--}this.stampsArr=e,this.removeStampInLocal(n),this.stampStorageService.triggerCustomStampChange({})},e.getDynamicStamp=function(){return z(this,void 0,void 0,(function*(){let t=N(L,yield this.getDynamicStamps()),e=["annotType","showUrl","fileType","url"];return t.forEach((t=>{e.forEach((e=>delete t[e]))})),t}))},e.getCustomStampsFromLocal=function(){return z(this,void 0,void 0,(function*(){{const t=this.viewer.getStorage();return(yield t.get(m.STAMP,x))||[]}}))},e.getDynamicStamps=function(){return z(this,void 0,void 0,(function*(){const t=yield this.getCustomStampsFromLocal();let e=[];if(t)for(const n in t){const r=t[n].filter((t=>!!(null==t?void 0:t.field)));e.push.apply(e,N(L,r))}return e}))},e.storeStampInLocal=function(t){return z(this,void 0,void 0,(function*(){const e=yield this.getCustomStampsFromLocal();let n={};if(t.length&&t.forEach((t=>{const e=n[t.category]||[];e.push(t),n[t.category]=e})),e)for(const t in e){let r=n[t]||[],o=[].concat(N(L,e[t]),N(L,r)),i=new Map;for(let e of o)i.set(t+e.name,e);e[t]=N(L,i.values())}for(const t in n)e[t]||(e[t]=n[t]);{const t=this.viewer.getStorage();yield t.set(m.STAMP,x,e)}}))},e.removeStampInLocal=function(t){return z(this,void 0,void 0,(function*(){const e=yield this.getCustomStampsFromLocal();let n={};if(t.forEach((t=>{const e=n[t.category]||[];e.push(t),n[t.category]=e})),e){for(const t in e){const r=n[t];if(r){const n=e[t].filter((t=>r.every((e=>e.name!==t.name))));n.length?e[t]=n:delete e[t]}}{const t=this.viewer.getStorage();yield t.set(m.STAMP,x,e)}}}))},e.formatData=function(t,e=!0){let n=[];return t.map((t=>/\s/.test(t.category)?Promise.reject(new Error("Space can't be in category.")):String(t.category)&&String(t.name)?void n.push(R({url:t.fileData}).then((n=>{var r,o;const{url:i,width:a,height:s}=n;if((null===(o=null===(r=t.field)||void 0===r?void 0:r.font)||void 0===o?void 0:o.size)&&e){const{font:e,value:n,rect:r}=t.field;let o=r?r.left:void 0,i=r?r.top:void 0;t.field.rect=F({wrapWidth:a,wrapHeight:s,text:n,fontSize:e.size,pLeft:o,pTop:i})}return v({},{width:a,height:s},t,{url:i,fileType:"png",annotType:"stamp",type:C,index:(Math.random()+"").substring(2)+Date.now()})}))):Promise.reject(new Error("Space can't be in category.")))),Promise.all(n)},e.getCustomStampIcons=function(){return Promise.all(this.stampsArr.map((t=>this.getStampIcon(A({annotType:"stamp"},t)))))},e.getStampIcon=function(t){return this.viewer.previewIconDoc(t).then((e=>U(e).then((e=>A({showUrl:e},t))))).catch((t=>{}))},t}();var V=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};let G=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.getName=function(){return"CreateDynamicStampButtonController"},n.inject=function(){return{dynamicStampsService:B}},n.prototype.handle=function(){return V(this,void 0,void 0,(function*(){const t=this.component.getRoot().querySelectorAll("@custom-dynamic-stamp:create-custom-dynamic-stamp-dialog");if(0===t.length)throw new Error("The `<custom-dynamic-stamp:create-custom-dynamic-stamp-dialog> ` should be added into your layout template");if(t.length>1)throw new Error("Found more than one of `<custom-dynamic-stamp:create-custom-dynamic-stamp-dialog>`. Please check if the component has been added repeatedly");yield this.dynamicStampsService.prepare(),setTimeout((()=>{const e=t[0];e.open(document.body),e.element.focus()})),this.component.parent.deactive()}))},n}(u);D.registerController(G),D.registerFragment("create-dynamic-stamp-button",{template:'\n        <xbutton class="fv__ui-create-dynamic-stamp-button"\n            name="create-dynamic-stamp-button"\n            @controller="custom-dynamic-stamp:CreateDynamicStampButtonController"\n            icon-class="fx-icon-sm fv__icon-create-custom-dynamic-stamp-icon">custom-dynamic-stamp:toolbar.createDynamicStampTextBtnText\n        </xbutton>\n    '});var H=r(1910),W=r.n(H);let K=function(t){function n(...e){var n;return(n=t.call.apply(t,[this].concat(e))||this).insertText="",n.fontSize="",n}e(n,t),n.getName=function(){return"custom-dynamic-stamp-text"};var r=n.prototype;return r.mounted=function(){t.prototype.mounted.call(this),this.$wrap=l(this.element),this.$text=l(this.element.querySelector(".fv__ui-dynamic-stamp-insert-text")),this.$shape=l(this.element.querySelector(".fv__ui-dynamic-stamp-insert-text-shape"));const e=this.hammer=new p.Manager(this.$text[0],{recognizers:[[p.Pan,{direction:p.DIRECTION_ALL}]]});this.addDestroyHook((()=>{this.hammer.destroy(),this.hammer=null}));let n={left:0,top:0};e.on("panstart",(t=>{n=this.$text.position(),this.$shape.css({display:"inline-block",width:`${this.$text.width()}px`,height:`${this.$text.height()}px`,top:`${n.top}px`,left:`${n.left}px`})})),e.on("panmove",(t=>{this.$shape.css({top:`${n.top+t.deltaY}px`,left:`${n.left+t.deltaX}px`})})),e.on("panend",(t=>{this.$text.css({top:`${n.top+t.deltaY}px`,left:`${n.left+t.deltaX}px`}),this.$shape.css({display:"none"});const e=this.$text.position(),r=this.$text.width(),o=this.$text.height(),i=this.$wrap.height();this.pdfUI.eventEmitter.emit("updateRect",{left:e.left,right:e.left+r,bottom:i-e.top-o,top:i-e.top,width:r,height:o})}))},r.initData=function(t){this.insertText=t.text,this.$text.text(t.text),this.fontSize=t.size,this.color=t.color,this.$text.css({fontSize:`${t.size}px`,width:"auto",height:"auto",color:t.color})},r.setSize=function(t){if(this.fontSize=t,this.$text.css({fontSize:`${t}px`,width:"auto",height:"auto"}),this.insertText){const e=this.$text.position();this.updateUI({text:this.insertText,fontSize:t,pLeft:e.left,pTop:this.$wrap.height()-e.top})}},r.setText=function(t=""){this.insertText=t,this.$text.text(t),this.$text.css({fontSize:`${this.fontSize}px`,width:"auto",height:"auto"}),this.updateUI({text:t,fontSize:this.fontSize})},r.setColor=function(t){this.$text.css({color:t}),this.$shape.css({borderColor:t})},r.updateUI=function(t){const e=this.$wrap.height(),n=F(t=A({},{wrapWidth:this.$wrap.width(),wrapHeight:e},t)),{width:r,height:o,left:i,top:a}=n;this.pdfUI.eventEmitter.emit("updateRect",n),this.$shape.css({width:`${r}px`,height:`${o}px`,top:e-a+"px",left:`${i}px`}),this.$text.css({display:this.insertText?"block":"none",width:`${r}px`,height:`${o}px`,top:e-a+"px",left:`${i}px`})},r.updateWrapUI=function(t,e){this.$wrap.css({width:`${t}px`,height:`${e}px`}),this.$shape.css({width:"auto",height:"auto",top:"0px",left:"0px"}),this.$text.css({display:"none",width:"auto",height:"auto",top:"0px",left:"0px"})},n}(s.createSuperClass({template:'<div class="fv__ui-dynamic-stamp-insert-text-wrap" @var.self="$component">\n            <div class="fv__ui-dynamic-stamp-insert-text"></div>\n            <div class="fv__ui-dynamic-stamp-insert-text-shape"></div>\n    </div>'}));D.registerComponent(K);var q=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};let Y=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"create-custom-dynamic-stamp-dialog"};var r=n.prototype;return r.mounted=function(){t.prototype.mounted.call(this);let e=l(this.element);this.$templateType=e.find('[name="templateType"]'),this.$backgroundImage=e.find("#backgroundImage"),this.$backgroundColor=e.find("#backgroundColor"),this.textComponent=this.getComponentByName("dynamic-text")},r.show=function(){const e=Object.create(null,{show:{get:()=>t.prototype.show}});return q(this,void 0,void 0,(function*(){yield this.controller.resetData(),this.syncUI(),e.show.call(this)}))},r.syncUI=function(){const{data:t}=this.controller;this.$backgroundImage.attr("src",t.url);let e=l(this.element.querySelector('[name="backgroundColor"] > div'));e.css("border-color",t.backgroundColor),e.find(".label").toggle(!t.backgroundColor);let n=l(this.element.querySelector('[name="color"] > div'));n.css("border-color",t.color),n.find(".label").toggle(!t.color),this.$templateType[0].checked=!0,this.selectType(t.type),this.textComponent.initData({text:t.stampText,color:t.color,size:t.fontSize})},r.keydownColor=function(t){S(t,T)&&this.selectColor(t)},r.selectColor=function(t){let{data:e}=this.controller,n=this.pdfUI.colorSpectrum,r=t.target,o=l(t.target),i="";if(o.hasClass("color-picker")?(i=o.attr("name"),o=o.find(".mask")):i=o.parent().parent().attr("name"),i===I.BACKGROUND_COLOR&&e.type!==I.BACKGROUND_COLOR)return;const a=t=>{const e=y(t,"#"),n=o.parent();switch(e?n.css("border-color",y(t,"HTML")):n.css("border-top-color","blue").css("border-right-color","green"),n.find(".label").toggle(!t),i){case"backgroundColor":this.handlerBackgroundColor(t);break;case"color":this.getComponentByName("dynamic-text").setColor(e)}this.controller.setData(i,t),this.controller.getIconUrl()};n.setDefaultColor(y(e[i],"#")),n.show(r,(t=>{a(t)}))},r.selectType=function(t){let e=l(this.element);const{BACKGROUND_COLOR:n,TEMPLATE:r}=I,o=this.getComponentByName("stamp-templates");if(this.resetStampText(),t===r){e.find("#stamp-local-path").removeAttr("disabled"),e.find("#browse").removeAttr("disabled"),o.enable();let t=o.getEditValue();o.trigger("change",t)}else e.find("#stamp-local-path").attr("disabled","disabled"),e.find("#browse").attr("disabled","disabled"),o.disable(),this.controller.setData("backgroundColor",this.controller.data.backgroundColor),this.handlerBackgroundColor(this.controller.data.backgroundColor),this.controller.getIconUrl();this.controller.setData("type",t)},r.handlerBackgroundColor=function(t){let{url:e,width:n,height:r}=function({bgColor:t,round:e=20,x:n=0,y:r=0,width:o=290,height:i=93}){let a=document.createElement("canvas"),s=a.getContext("2d");return s?(a.width=o,a.height=i,s.beginPath(),s.moveTo(n+e,r),s.lineTo(n+o-e,r),s.arc(n+o-e,r+e,e,1.5*Math.PI,2*Math.PI),s.lineTo(n+o,r+i-e),s.arc(n+o-e,r+i-e,e,0,.5*Math.PI),s.lineTo(n+e,r+i),s.arc(n+e,r+i-e,e,.5*Math.PI,Math.PI),s.lineTo(n,r+e),s.arc(n+e,r+e,e,Math.PI,1.5*Math.PI),s.fillStyle=t,s.strokeStyle=t,s.fill(),s.stroke(),s.closePath(),{url:a.toDataURL("image/png"),width:o,height:i}):{url:a.toDataURL("image/png"),width:o,height:i}}({bgColor:t});this.textComponent.updateWrapUI(n,r),this.controller.setData("url",e)},r.inputFile=function(t){t.target.files.length<1||(this.$backgroundImage.attr("src",""),this.resetStampText(),U(t.target.files[0]).then((e=>{R({url:e}).then((e=>{let{url:n,width:r,height:o}=e;this.textComponent.updateWrapUI(r,o),this.controller.setData("url",n),t.target.value="",this.controller.getIconUrl()}))})))},r.resetStampText=function(){this.controller.setDropdownValue(this.controller.textTypeComponent,"stampTextType",this.controller.textType[0].type),this.controller.setData("stampText","")},r.updatePreviewImg=function(t){this.$backgroundImage.attr("src",t)},n}(s.createSuperClass({template:W()()}));D.registerComponent(Y);r(6409);function X(t,e,n){if(e&&!Array.isArray(e)&&"number"==typeof e.length){var r=e.length;return function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}(e,void 0!==n&&n<r?n:r)}return t(e,n)}var J=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};const Q={CUSTOM_TEXT:"customText",NAME:"name",NAME_DATE_TIME:"nameDateTime",DATE_TIME:"dateTime",DATE:"date"};let Z=function(t){function n(e){var n;return(n=t.call(this,e)||this).fontSizes=O,n.fontFamilies=b,n.initData={type:I.BACKGROUND_COLOR,backgroundColor:"#47BE9B",url:"",templateName:"",category:"",name:"New Stamp",font:n.fontFamilies[0].name,stampTextType:"",stampText:"",fontSize:"auto",color:"#FFFFFF",rect:null},n.templateList=[],n.category=[],n.categoryList=[],n.textType=[],n}e(n,t),n.getName=function(){return"CreateCustomDynamicStampDialogController"},n.inject=function(){return{viewer:h,dynamicStampService:B}};var r=n.prototype;return r.mounted=function(){t.prototype.mounted.call(this),this.templatesComponent=this.component.getComponentByName("stamp-templates"),this.categoryComponent=this.component.getComponentByName("stamp-category"),this.sizeComponent=this.component.getComponentByName("fontSizeSelect"),this.textTypeComponent=this.component.getComponentByName("stamp-text-type"),this.fontComponent=this.component.getComponentByName("stamp-fontFamilies"),this.textComponent=this.component.getComponentByName("dynamic-text"),l(this.fontComponent.element).find("input").attr("readonly","true"),this.addDestroyHook(this.textTypeComponent.on("change",(t=>{"string"==typeof t&&(t={type:t,key:this.textType[0].key}),this.setData("stampTextType",w[t.key]),this.setData("stampText",t.type),this.textComponent.setText(this.data.stampText),this.getIconUrl()})),this.categoryComponent.on("change",(t=>{this.setData("category",t)})),this.sizeComponent.on("change",(t=>{this.setData("fontSize",t),this.getIconUrl()})),this.fontComponent.on("change",(t=>{this.setData("font",t),this.getIconUrl()})),this.templatesComponent.on("change",(t=>{let e=this.templateList.find((e=>e.name===t));if(e)this.selectTemplate(e);else{let e=this.customTemplateHandle(t);e&&this.selectTemplate(e)}this.templateList[0].name===t&&(t=""),this.setData("templateName",t)}))),this.pdfUI.eventEmitter.on("updateRect",(t=>{this.data.rect=t,this.getIconUrl()})),this.pdfUI.getStore().then((t=>{let e=t.subscribe(_,(({new:t})=>{var e;let n=[];t.slice(0).forEach((t=>{n.push({name:t.name,value:t.name})})),(e=this.fontFamilies).push.apply(e,n)}));this.viewer.addDestroyHook((()=>{e()}))}))},r.customTemplateHandle=function(t){let e=this.templatesComponent.$container.children().find((e=>{const{name:n,url:r}=e.attrs;return n&&r&&n===t}));return e&&e.attrs},r.resetData=function(){return J(this,void 0,void 0,(function*(){this.data=A({},this.initData);let t=this.pdfUI.i18n.t("custom-dynamic-stamp:dialog.categoryPlaceholder");this.categoryList=[t].concat(X(L,yield this.getCustomStamps()));let e=[{url:"",name:this.pdfUI.i18n.t("custom-dynamic-stamp:dialog.templatePlaceholder")}].concat(X(L,this.dynamicStampService.getStampTemplates()));e.length>6&&(e.length=6),this.templateList=e,this.textType=Object.keys(w).map((t=>({key:t,type:this.pdfUI.i18n.t(`custom-dynamic-stamp:dialog.stampTextType.${Q[t]}`)}))),this.selectCategory(this.categoryList[0]),this.setDropdownValue(this.templatesComponent,"templateName",this.templateList[0].name),this.setDropdownValue(this.sizeComponent,"fontSize",this.fontSizes[0]),this.setDropdownValue(this.fontComponent,"font",this.fontFamilies[0].name),this.digest(!0)}))},r.getCustomStamps=function(){return J(this,void 0,void 0,(function*(){const t=yield this.pdfUI.getStorage();let e;return e=yield t.get(m.STAMP,x),e?Object.keys(e):[]}))},r.ok=function(){return J(this,void 0,void 0,(function*(){let{category:t,stampText:e,templateName:n,type:r,name:o,url:i,font:a,fontSize:s,color:c,rect:u}=this.data,{type:l,text:p}=this.isValidateParam(),f=this.getPDFUI().i18n;if(l){let t=f.t(`custom-dynamic-stamp:alert.${l}`);if(p){let e=f.t(`custom-dynamic-stamp:alert.${p}`);t=t.replace("${1}",e)}this.pdfUI.alert({message:t,level:"warning"})}else{let l=this.pdfUI.loading();r===I.TEMPLATE&&(yield this.dynamicStampService.setStampTemplates([{name:n,url:i}])),this.dynamicStampService.setDynamicStamp([{category:t,name:o,fileData:i,field:{textType:e,value:e,font:{name:a,color:y(c,"int"),size:Number.parseFloat(s)},rect:u}}],!1).then((t=>{this.component.cancel()})).catch((t=>{this.pdfUI.alert({message:t.message,level:"warning"})})).finally((()=>{l.then((t=>t.close()))}))}}))},r.isValidateParam=function(){let{category:t,stampText:e,templateName:n,type:r,name:o,url:i}=this.data,a="",s="";if(r===I.TEMPLATE){if(!n||n===this.templateList[0].name)return a="templateError",s="templateText",{type:a,text:s};if(!i)return a="fileError",{type:a,text:s};const t=this.templateList.find((t=>t.name==n));if(t&&i!==t.url)return a="templateNameError",{type:a,text:s}}if(!o)return a="nameError",{type:a,text:s};if(!t||t===this.categoryList[0])return a="categoryError",s="categoryText",{type:a,text:s};if(!e||t===this.textType[0])return a="textError",s="typeText",{type:a,text:s};let c=/[~!@#'\.\$%\^&\*\(\)\-=;:\[\]\{\}]/;return c.test(t)||c.test(o)?(a="specialError",{type:a,text:s}):/\s/.test(t)?(a="spaceError",{type:a,text:s}):{type:a,text:s}},r.setData=function(t,e){this.data.hasOwnProperty(t)&&(this.data[t]=e)},r.selectFontSize=function(t){this.setDropdownValue(this.sizeComponent,"fontSize",t),this.textComponent.setSize(this.data.fontSize)},r.selectFontFamily=function(t){const e=t.name;this.setDropdownValue(this.fontComponent,"font",e),this.getIconUrl()},r.selectTextType=function(t){let{type:e,key:n}=t;if(this.setDropdownValue(this.textTypeComponent,"stampTextType",this.textType.find((t=>t.key==n)).type)){let t=Promise.resolve();switch(w[n]){case w.NAME:t=this.viewer.getUserName();break;case w.NAME_DATE_TIME:t=this.viewer.getUserName().then((t=>this.viewer.getFormatOfDynamicStamp().then((e=>{let n=t;return e.timeFormat.length>0&&(n.length>0&&(n+=e.seperator),n+=e.timeFormat),n}))));break;case w.DATE_TIME:t=this.viewer.getFormatOfDynamicStamp().then((t=>{let e="";return t.timeFormat.length>0&&(e.length>0&&(e+=t.seperator),e+=t.timeFormat),e}));break;case w.DATE:t=this.viewer.getFormatOfDynamicStamp().then((t=>{let e="";return t.timeFormat.length>0&&(e=t.timeFormat.split(t.seperator)[0]),e}));break;case w.CUSTOM_TEXT:t=Promise.resolve(void 0);break;default:t=Promise.resolve(e)}t.then((t=>{this.setData("stampText",void 0!==t?w[n]:t),this.textComponent.setText(t)}))}},r.selectCategory=function(t){this.setDropdownValue(this.categoryComponent,"category",t)},r.selectTemplate=function(t){this.setDropdownValue(this.templatesComponent,"templateName",t.name),this.setData("url",t.url),this.setDropdownValue(this.textTypeComponent,"stampTextType",w.CUSTOM_TEXT),this.setData("stampText",""),this.getIconUrl().then((t=>{t||this.textComponent.updateWrapUI(0,0),R({url:t}).then((t=>{let{width:e,height:n}=t;this.textComponent.updateWrapUI(e,n)}))}))},r.setDropdownValue=function(t,e,n){return t.getEditValue()!=n&&(t.setEditValue(n),this.setData(e,n),!0)},r.getIconUrl=function(){const{url:t,font:e,stampText:n,fontSize:r,color:o,rect:i}=this.data;let a=Promise.resolve();if(t){let s={category:"fv__template_category",name:"fv__template_name",url:t,fileType:"png",annotType:"stamp",type:C};if(n){const t={textType:n,value:n,font:{name:e,color:y(o,"int"),size:Number.parseFloat(r)}};i&&(t.rect=i),s.field=t}a=this.dynamicStampService.getStampIcon(s)}return a.then((t=>{let e=t?t.showUrl:"";return this.component.updatePreviewImg(e),e}))},n}(u);D.registerController(Z);let tt=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return C},n.getLoader=function(){return P()};var r=n.prototype;return r.init=function(t){this.pdfUI=t},r.setDynamicStamp=function(t){return this.pdfUI.getServiceInstance(B).setDynamicStamp(t)},r.removeDynamicStamp=function(t){return this.pdfUI.getServiceInstance(B).removeDynamicStamp(t)},r.getDynamicStamp=function(){return this.pdfUI.getServiceInstance(B).getDynamicStamp()},n}(a);var et=tt}(),o=o.default}()}));