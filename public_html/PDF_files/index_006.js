!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("PDFViewCtrl"),require("UIExtension")):"function"==typeof define&&define.amd?define(["PDFViewCtrl","UIExtension"],t):"object"==typeof exports?exports.PageEditor=t(require("PDFViewCtrl"),require("UIExtension")):e.PageEditor=t(e.PDFViewCtrl,e.UIExtension)}(self,(function(e,t){return function(){var n={6925:function(e,t,n){n(5779);e.exports=function(e){"use strict";e=e||{};return'<layer \nclass="fv__ui-PE-props-dialog center" \n@draggable \n@controller="page-editor:PropsDialogController as ctrl"\nname="pageEditorProps"\n>\n<layer-header></layer-header>\n<layer-view @stop-drag>\n<div class="fv__ui-PE-props-nav" name="PE-props-tabs" @alt.menu=">::activated()">\n<gtab name="general-tab" group="PE-props-tab" body="PE-props-general" text="page-editor:general.title" active></gtab>\n<gtab name="text-ap-tab" @show="ctrl.getActiveType()==1" group="PE-props-tab" body="PE-props-text-ap" text="page-editor:textAp.title"></gtab>\n<gtab name="path-ap-tab" @show="ctrl.getActiveType()==2" group="PE-props-tab" body="PE-props-path-ap" text="page-editor:textAp.title"></gtab>\n<gtab name="image-ap-tab" @show="ctrl.getActiveType()==3" group="PE-props-tab" body="PE-props-image-ap" text="page-editor:textAp.title"></gtab>\n</div>\n<div class="fv__ui-PE-props-bodies" name="PE-props-bodies">\n<div class="PE-props-general" name="PE-props-general">\n<div class="d_f">\n<div class="PE-general-input inchesPostfix">\n<label>page-editor:general.posx</label>\n<input @on.blur="ctrl.blurInput" @on.focus="ctrl.focusInput" @model="ctrl.positionX"></input>\n</div>\n<div class="PE-general-input inchesPostfix">\n<label>page-editor:general.posy</label>\n<input @on.blur="ctrl.blurInput" @on.focus="ctrl.focusInput" @model="ctrl.positionY"></input>\n</div>\n</div>\n<div class="d_f">\n<div class="PE-general-input inchesPostfix">\n<label>page-editor:general.width</label>\n<input class="rangeLimit" min=0 @on.blur="ctrl.blurInput" @on.focus="ctrl.focusInput" @model="ctrl.width"></input>\n</div>\n<div class="PE-general-input inchesPostfix">\n<label>page-editor:general.height</label>\n<input class="rangeLimit" min=0 @on.blur="ctrl.blurInput" @on.focus="ctrl.focusInput" @model="ctrl.height"></input>\n</div>\n</div>\n<div class="d_f">\n<div class="PE-general-input PE-noMargin">\n<label>page-editor:general.scalex</label>\n<input  @on.blur="ctrl.blurInput" class="rangeLimit" min=0 max=10000 data-dir=\'horizon\' @on.focus="ctrl.focusInput" @model="ctrl.scaleX"></input>\n</div>\n<div class="PE-general-input">\n<label>page-editor:general.scaley</label>\n<input @on.blur="ctrl.blurInput" class="rangeLimit" min=0 max=10000 @on.focus="ctrl.focusInput" @model="ctrl.scaleY"></input>\n</div>\n</div>\n</div>\n<div name="PE-props-text-ap" style="cursor: initial;">\n<div class="PE-general-input fullWidth">\n<label>page-editor:textAp.fontName</label>\n<select class="PE-fillInput" name="PE-fontName">\n<option>Courier</option>\n<option>Helvetica</option>\n<option>Times Roman</option>\n<option>Symbol</option>\n<option>ZapfDingbats</option>\n</select>\n</div>\n<div class="PE-general-input">\n<label>page-editor:textAp.fontSize</label>\n<input type="number" class="rangeLimit" min=1 max=9999 @model="ctrl.fontSize" data-i18n="[title]page-editor:textAp.fontSizeRangeLimit"></input>\n</div>\n<div class="PE-general-input PE-horizonScale">\n<label>page-editor:textAp.HScale</label>\n<input type="number" class="rangeLimit" min=1 max=1000 @model="ctrl.horizonScale" data-i18n="[title]page-editor:textAp.HScaleRangeLimit"></input>\n<span>%</span>\n</div>\n<div class="PE-general-input">\n<label>page-editor:textAp.charSpace</label>\n<input type="number" class="rangeLimit" min=0 max=32 @model="ctrl.charSpace" data-i18n="[title]page-editor:textAp.charSpaceRangeLimit"></input>\n</div>\n<div class="PE-general-input">\n<label>page-editor:textAp.wordSpace</label>\n<input type="number" class="rangeLimit" min=0 max=32 @model="ctrl.wordSpace" class="PE-w100px" data-i18n="[title]page-editor:textAp.wordSpaceRangeLimit"></input>\n</div>\n\n<div class="PE-general-input fullWidth">\n<label>page-editor:textAp.textMode</label>\n<select class="PE-fillInput" name="PE-textMode">\n<option value="0">page-editor:textAp.fillText</option>\n<option value="1">page-editor:textAp.strokeText</option>\n<option value="2">page-editor:textAp.fillStrokeText</option>\n<option value="3">page-editor:textAp.invisible</option>\n</select>\n</div>\n\n<div class="PE-general-input fullWidth offsetTop" name="PE-textStrokeColor">\n<label>page-editor:textAp.strokeColor</label>\n<select>\n<option value="2">RGB</option>\n<option value="3">CMYK</option>\n<option value="1">page-editor:textAp.gray</option>\n</select>\n<div class="color-picker" @on.click="ctrl.showCP(\'PE-textStrokeColor\')"><div class="color"></div></div>\n<slider class="PE-slider"\n@model="ctrl.strokeGray" max="1" min="0" step="0.1" value="1" name="PE-stroke-slider" @stop-drag hideinput="true"></slider>\n</div>\n\n<div class="PE-general-input fullWidth offsetTop" name="PE-textFillColor">\n<label>page-editor:textAp.fillColor</label>\n<select>\n<option value="2">RGB</option>\n<option value="3">CMYK</option>\n<option value="1">page-editor:textAp.gray</option>\n</select>\n<div class="color-picker" @on.click="ctrl.showCP(\'PE-textFillColor\')"><div class="color"></div></div>\n<slider class="PE-slider"\n@model="ctrl.fillGray" max="1" min="0" step="0.1" value="1" name="PE-fill-slider" @stop-drag hideinput="true"></slider>\n</div>\n\n<div class="PE-general-input fullWidth"  name="opacity">\n<label>page-editor:textAp.opacity</label>\n<input min="0" value="100" max="100" type="number" @model="ctrl.opacity"></input>\n<span>%</span>\n<slider class="PE-slider"\n@model="ctrl.opacity"\nmax="100" min="0" step="1" value="100" name="PE-opacity-slider" @stop-drag hideinput="true"></slider>\n</div>\n</div>\n<div name="PE-props-path-ap" style="cursor: initial;">\n<div class="PE-general-input fullWidth offsetTop" name="PE-pathStrokeColor">\n<label>page-editor:textAp.lineColor</label>\n<select>\n<option value=0>page-editor:textAp.noColor</option>\n<option value=2>RGB</option>\n<option value=3>CMYK</option>\n<option value=1>page-editor:textAp.gray</option>\n</select>\n<div class="color-picker" @aria:role="button" tabindex="0" @on.click="ctrl.showCP(\'PE-pathStrokeColor\')" @on.native.keydown="ctrl.keyBoardHandler($event,\'PE-pathStrokeColor\')"><div class="color"></div></div>\n<slider class="PE-slider"\n@model="ctrl.strokeGray" max="1" min="0" step="0.1" value="1" name="PE-stroke-slider" @stop-drag hideinput="true"></slider>\n</div>\n\n<div class="PE-general-input fullWidth offsetTop" name="PE-pathFillColor">\n<label>page-editor:textAp.fillColor</label>\n<select>\n<option value=0>page-editor:textAp.noColor</option>\n<option value=2>RGB</option>\n<option value=3>CMYK</option>\n<option value=1>page-editor:textAp.gray</option>\n</select>\n<div class="color-picker" @aria:role="button" tabindex="0" @on.click="ctrl.showCP(\'PE-pathFillColor\')" @on.native.keydown="ctrl.keyBoardHandler($event,\'PE-pathFillColor\')"><div class="color"></div></div>\n<slider class="PE-slider"\n@model="ctrl.fillGray" max="1" min="0" step="0.1" value="1" name="PE-fill-slider" @stop-drag hideinput="true"></slider>\n</div>\n\n<div class="PE-general-input">\n<label>page-editor:textAp.lineWidth</label>\n<number type="number" min=0.1 max=1000 step=0  @model="ctrl.lineWidth"></number>\n</div>\n<div class="PE-general-input">\n<label>page-editor:textAp.Dashed</label>\n<choice class="fv__property-component PE-lineStyle" name="PE-lineStyle" @aria:labelledby="::previousSiblings()"></choice>\n</div>\n\n<div class="PE-general-input">\n<label>page-editor:textAp.miterLimit</label>\n<number type="number" min=0 max=1000 @model="ctrl.miterLimit"></number>\n</div>\n<div class="PE-general-input">\n<label>page-editor:textAp.capStyle</label>\n<select name="PE-lineCap" class="PE-w100px">\n<option value="2">page-editor:textAp.project</option>\n<option value="1">page-editor:textAp.round</option>\n<option value="0">page-editor:textAp.butt</option>\n</select>\n</div>\n\n<div class="PE-general-input PE-fillInput">\n<label>page-editor:textAp.joinStyle</label>\n<select name="PE-lineJoin">\n<option value="1">page-editor:textAp.round</option>\n<option value="2">page-editor:textAp.bevel</option>\n<option value="0">page-editor:textAp.miter</option>\n</select>\n</div>\n\n<div class="PE-general-input fullWidth" name="opacity">\n<label>page-editor:textAp.opacity</label>\n<input  min="0" max="100" value="100" type="number" \n@model="ctrl.opacity"></input>\n<span>%</span>\n<slider class="PE-slider" \n@model="ctrl.opacity" max="100" min="0" step="1" value="100" name="PE-opacity-slider" @stop-drag hideinput="true"></slider>\n</div>\n</div>\n<div name="PE-props-image-ap" style="cursor: initial;">\n<div class="PE-general-input fullWidth" name="opacity">\n<label>page-editor:textAp.opacity</label>\n<input\ntype="number"\nmin=0 \nmax=100\n@model="ctrl.opacity"></input>\n<span>%</span>\n<slider class="PE-slider"\n@model="ctrl.opacity"\n max="100" min="0" step="1" value="100" name="PE-opacity-slider" @stop-drag hideinput="true"></slider>\n</div>\n</div>\n</div>\n</layer-view>\n<layer-toolbar>\n<xbutton class="fv__ui-dialog-button fv__ui-dialog-ok-button" @on.click="ctrl.hideDialog()">dialog.close</xbutton>\n</layer-toolbar>\n</layer>','<layer \nclass="fv__ui-PE-props-dialog center" \n@draggable \n@controller="page-editor:PropsDialogController as ctrl"\nname="pageEditorProps"\n>\n<layer-header></layer-header>\n<layer-view @stop-drag>\n<div class="fv__ui-PE-props-nav" name="PE-props-tabs" @alt.menu=">::activated()">\n<gtab name="general-tab" group="PE-props-tab" body="PE-props-general" text="page-editor:general.title" active></gtab>\n<gtab name="text-ap-tab" @show="ctrl.getActiveType()==1" group="PE-props-tab" body="PE-props-text-ap" text="page-editor:textAp.title"></gtab>\n<gtab name="path-ap-tab" @show="ctrl.getActiveType()==2" group="PE-props-tab" body="PE-props-path-ap" text="page-editor:textAp.title"></gtab>\n<gtab name="image-ap-tab" @show="ctrl.getActiveType()==3" group="PE-props-tab" body="PE-props-image-ap" text="page-editor:textAp.title"></gtab>\n</div>\n<div class="fv__ui-PE-props-bodies" name="PE-props-bodies">\n<div class="PE-props-general" name="PE-props-general">\n<div class="d_f">\n<div class="PE-general-input inchesPostfix">\n<label>page-editor:general.posx</label>\n<input @on.blur="ctrl.blurInput" @on.focus="ctrl.focusInput" @model="ctrl.positionX"></input>\n</div>\n<div class="PE-general-input inchesPostfix">\n<label>page-editor:general.posy</label>\n<input @on.blur="ctrl.blurInput" @on.focus="ctrl.focusInput" @model="ctrl.positionY"></input>\n</div>\n</div>\n<div class="d_f">\n<div class="PE-general-input inchesPostfix">\n<label>page-editor:general.width</label>\n<input class="rangeLimit" min=0 @on.blur="ctrl.blurInput" @on.focus="ctrl.focusInput" @model="ctrl.width"></input>\n</div>\n<div class="PE-general-input inchesPostfix">\n<label>page-editor:general.height</label>\n<input class="rangeLimit" min=0 @on.blur="ctrl.blurInput" @on.focus="ctrl.focusInput" @model="ctrl.height"></input>\n</div>\n</div>\n<div class="d_f">\n<div class="PE-general-input PE-noMargin">\n<label>page-editor:general.scalex</label>\n<input  @on.blur="ctrl.blurInput" class="rangeLimit" min=0 max=10000 data-dir=\'horizon\' @on.focus="ctrl.focusInput" @model="ctrl.scaleX"></input>\n</div>\n<div class="PE-general-input">\n<label>page-editor:general.scaley</label>\n<input @on.blur="ctrl.blurInput" class="rangeLimit" min=0 max=10000 @on.focus="ctrl.focusInput" @model="ctrl.scaleY"></input>\n</div>\n</div>\n</div>\n<div name="PE-props-text-ap" style="cursor: initial;">\n<div class="PE-general-input fullWidth">\n<label>page-editor:textAp.fontName</label>\n<select class="PE-fillInput" name="PE-fontName">\n<option>Courier</option>\n<option>Helvetica</option>\n<option>Times Roman</option>\n<option>Symbol</option>\n<option>ZapfDingbats</option>\n</select>\n</div>\n<div class="PE-general-input">\n<label>page-editor:textAp.fontSize</label>\n<input type="number" class="rangeLimit" min=1 max=9999 @model="ctrl.fontSize" data-i18n="[title]page-editor:textAp.fontSizeRangeLimit"></input>\n</div>\n<div class="PE-general-input PE-horizonScale">\n<label>page-editor:textAp.HScale</label>\n<input type="number" class="rangeLimit" min=1 max=1000 @model="ctrl.horizonScale" data-i18n="[title]page-editor:textAp.HScaleRangeLimit"></input>\n<span>%</span>\n</div>\n<div class="PE-general-input">\n<label>page-editor:textAp.charSpace</label>\n<input type="number" class="rangeLimit" min=0 max=32 @model="ctrl.charSpace" data-i18n="[title]page-editor:textAp.charSpaceRangeLimit"></input>\n</div>\n<div class="PE-general-input">\n<label>page-editor:textAp.wordSpace</label>\n<input type="number" class="rangeLimit" min=0 max=32 @model="ctrl.wordSpace" class="PE-w100px" data-i18n="[title]page-editor:textAp.wordSpaceRangeLimit"></input>\n</div>\n\n<div class="PE-general-input fullWidth">\n<label>page-editor:textAp.textMode</label>\n<select class="PE-fillInput" name="PE-textMode">\n<option value="0">page-editor:textAp.fillText</option>\n<option value="1">page-editor:textAp.strokeText</option>\n<option value="2">page-editor:textAp.fillStrokeText</option>\n<option value="3">page-editor:textAp.invisible</option>\n</select>\n</div>\n\n<div class="PE-general-input fullWidth offsetTop" name="PE-textStrokeColor">\n<label>page-editor:textAp.strokeColor</label>\n<select>\n<option value="2">RGB</option>\n<option value="3">CMYK</option>\n<option value="1">page-editor:textAp.gray</option>\n</select>\n<div class="color-picker" @on.click="ctrl.showCP(\'PE-textStrokeColor\')"><div class="color"></div></div>\n<slider class="PE-slider"\n@model="ctrl.strokeGray" max="1" min="0" step="0.1" value="1" name="PE-stroke-slider" @stop-drag hideinput="true"></slider>\n</div>\n\n<div class="PE-general-input fullWidth offsetTop" name="PE-textFillColor">\n<label>page-editor:textAp.fillColor</label>\n<select>\n<option value="2">RGB</option>\n<option value="3">CMYK</option>\n<option value="1">page-editor:textAp.gray</option>\n</select>\n<div class="color-picker" @on.click="ctrl.showCP(\'PE-textFillColor\')"><div class="color"></div></div>\n<slider class="PE-slider"\n@model="ctrl.fillGray" max="1" min="0" step="0.1" value="1" name="PE-fill-slider" @stop-drag hideinput="true"></slider>\n</div>\n\n<div class="PE-general-input fullWidth"  name="opacity">\n<label>page-editor:textAp.opacity</label>\n<input min="0" value="100" max="100" type="number" @model="ctrl.opacity"></input>\n<span>%</span>\n<slider class="PE-slider"\n@model="ctrl.opacity"\nmax="100" min="0" step="1" value="100" name="PE-opacity-slider" @stop-drag hideinput="true"></slider>\n</div>\n</div>\n<div name="PE-props-path-ap" style="cursor: initial;">\n<div class="PE-general-input fullWidth offsetTop" name="PE-pathStrokeColor">\n<label>page-editor:textAp.lineColor</label>\n<select>\n<option value=0>page-editor:textAp.noColor</option>\n<option value=2>RGB</option>\n<option value=3>CMYK</option>\n<option value=1>page-editor:textAp.gray</option>\n</select>\n<div class="color-picker" @aria:role="button" tabindex="0" @on.click="ctrl.showCP(\'PE-pathStrokeColor\')" @on.native.keydown="ctrl.keyBoardHandler($event,\'PE-pathStrokeColor\')"><div class="color"></div></div>\n<slider class="PE-slider"\n@model="ctrl.strokeGray" max="1" min="0" step="0.1" value="1" name="PE-stroke-slider" @stop-drag hideinput="true"></slider>\n</div>\n\n<div class="PE-general-input fullWidth offsetTop" name="PE-pathFillColor">\n<label>page-editor:textAp.fillColor</label>\n<select>\n<option value=0>page-editor:textAp.noColor</option>\n<option value=2>RGB</option>\n<option value=3>CMYK</option>\n<option value=1>page-editor:textAp.gray</option>\n</select>\n<div class="color-picker" @aria:role="button" tabindex="0" @on.click="ctrl.showCP(\'PE-pathFillColor\')" @on.native.keydown="ctrl.keyBoardHandler($event,\'PE-pathFillColor\')"><div class="color"></div></div>\n<slider class="PE-slider"\n@model="ctrl.fillGray" max="1" min="0" step="0.1" value="1" name="PE-fill-slider" @stop-drag hideinput="true"></slider>\n</div>\n\n<div class="PE-general-input">\n<label>page-editor:textAp.lineWidth</label>\n<number type="number" min=0.1 max=1000 step=0  @model="ctrl.lineWidth"></number>\n</div>\n<div class="PE-general-input">\n<label>page-editor:textAp.Dashed</label>\n<choice class="fv__property-component PE-lineStyle" name="PE-lineStyle" @aria:labelledby="::previousSiblings()"></choice>\n</div>\n\n<div class="PE-general-input">\n<label>page-editor:textAp.miterLimit</label>\n<number type="number" min=0 max=1000 @model="ctrl.miterLimit"></number>\n</div>\n<div class="PE-general-input">\n<label>page-editor:textAp.capStyle</label>\n<select name="PE-lineCap" class="PE-w100px">\n<option value="2">page-editor:textAp.project</option>\n<option value="1">page-editor:textAp.round</option>\n<option value="0">page-editor:textAp.butt</option>\n</select>\n</div>\n\n<div class="PE-general-input PE-fillInput">\n<label>page-editor:textAp.joinStyle</label>\n<select name="PE-lineJoin">\n<option value="1">page-editor:textAp.round</option>\n<option value="2">page-editor:textAp.bevel</option>\n<option value="0">page-editor:textAp.miter</option>\n</select>\n</div>\n\n<div class="PE-general-input fullWidth" name="opacity">\n<label>page-editor:textAp.opacity</label>\n<input  min="0" max="100" value="100" type="number" \n@model="ctrl.opacity"></input>\n<span>%</span>\n<slider class="PE-slider" \n@model="ctrl.opacity" max="100" min="0" step="1" value="100" name="PE-opacity-slider" @stop-drag hideinput="true"></slider>\n</div>\n</div>\n<div name="PE-props-image-ap" style="cursor: initial;">\n<div class="PE-general-input fullWidth" name="opacity">\n<label>page-editor:textAp.opacity</label>\n<input\ntype="number"\nmin=0 \nmax=100\n@model="ctrl.opacity"></input>\n<span>%</span>\n<slider class="PE-slider"\n@model="ctrl.opacity"\n max="100" min="0" step="1" value="100" name="PE-opacity-slider" @stop-drag hideinput="true"></slider>\n</div>\n</div>\n</div>\n</layer-view>\n<layer-toolbar>\n<xbutton class="fv__ui-dialog-button fv__ui-dialog-ok-button" @on.click="ctrl.hideDialog()">dialog.close</xbutton>\n</layer-toolbar>\n</layer>'}},1723:function(e,t,n){n(5779);e.exports=function(e){"use strict";e=e||{};return"\n<ribbon-button @tooltip tooltip-title=\"page-editor:addShape.title\"  name=\"create-shapeObject-dropdown\" icon-class=\"fv__icon-menu-add-shapes\" text=\"page-editor:addShape.title\" @controller=\"page-editor:AddShapesController as asc\" not-immediately=\"true\">\n<dropdown name=\"shape-drop-down-ui\" popup-class=\"fv__ui-shapes-dropdown\" separate=\"false\">\n<div class=\"fv__ui-shape-type-title\">page-editor:addShape.addPath</div>\n<dropdown-item name=\"path\">\n<xbutton icon-class='fv__icon-path-line' @on.click=\"asc.addPath('Line')\" name=\"Line\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-path-rect' @on.click=\"asc.addPath('Rectangle')\" name=\"Rectangle\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-path-roundedRect' @on.click=\"asc.addPath('RoundRect')\" name=\"RoundRect\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-path-circle' @on.click=\"asc.addPath('Ellipse')\" name=\"Ellipse\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-path-brokenLine' @on.click=\"asc.addPath('Polyline')\" name=\"Polyline\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-path-pentagonal' @on.click=\"asc.addPath('Polygon')\" name=\"Polygon\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-path-curve' @on.click=\"asc.addPath('Polybezier')\" name=\"Polybezier\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-path-closedCurve' @on.click=\"asc.addPath('Curve')\" name=\"Curve\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-path-closedIrregularFigure' @on.click=\"asc.addPath('Freedom')\" name=\"Freedom\" tabindex='0'></xbutton>\n</dropdown-item>\n<div class=\"fv__ui-shape-type-title\">page-editor:addShape.addShading</div>\n<dropdown-item name=\"shading\">\n<xbutton icon-class='fv__icon-shading-rect' @on.click=\"asc.addShading('Rectangle')\" name=\"Rectangle\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-shading-roundedRect' @on.click=\"asc.addShading('RoundRect')\" name=\"RoundRect\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-shading-circle' @on.click=\"asc.addShading('Ellipse')\" name=\"Ellipse\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-shading-brokenLine' @on.click=\"asc.addShading('Polyline')\" name=\"Polyline\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-shading-Pentagonal' @on.click=\"asc.addShading('Polygon')\" name=\"Polygon\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-shading-curve' @on.click=\"asc.addShading('Polybezier')\" name=\"Polybezier\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-shading-closedCurve' @on.click=\"asc.addShading('Curve')\" name=\"Curve\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-shading-closedIrregularFigure' @on.click=\"asc.addShading('Freedom')\" name=\"Freedom\" tabindex='0'></xbutton>\n</dropdown-item>\n</dropdown>\n</ribbon-button>","\n<ribbon-button @tooltip tooltip-title=\"page-editor:addShape.title\"  name=\"create-shapeObject-dropdown\" icon-class=\"fv__icon-menu-add-shapes\" text=\"page-editor:addShape.title\" @controller=\"page-editor:AddShapesController as asc\" not-immediately=\"true\">\n<dropdown name=\"shape-drop-down-ui\" popup-class=\"fv__ui-shapes-dropdown\" separate=\"false\">\n<div class=\"fv__ui-shape-type-title\">page-editor:addShape.addPath</div>\n<dropdown-item name=\"path\">\n<xbutton icon-class='fv__icon-path-line' @on.click=\"asc.addPath('Line')\" name=\"Line\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-path-rect' @on.click=\"asc.addPath('Rectangle')\" name=\"Rectangle\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-path-roundedRect' @on.click=\"asc.addPath('RoundRect')\" name=\"RoundRect\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-path-circle' @on.click=\"asc.addPath('Ellipse')\" name=\"Ellipse\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-path-brokenLine' @on.click=\"asc.addPath('Polyline')\" name=\"Polyline\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-path-pentagonal' @on.click=\"asc.addPath('Polygon')\" name=\"Polygon\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-path-curve' @on.click=\"asc.addPath('Polybezier')\" name=\"Polybezier\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-path-closedCurve' @on.click=\"asc.addPath('Curve')\" name=\"Curve\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-path-closedIrregularFigure' @on.click=\"asc.addPath('Freedom')\" name=\"Freedom\" tabindex='0'></xbutton>\n</dropdown-item>\n<div class=\"fv__ui-shape-type-title\">page-editor:addShape.addShading</div>\n<dropdown-item name=\"shading\">\n<xbutton icon-class='fv__icon-shading-rect' @on.click=\"asc.addShading('Rectangle')\" name=\"Rectangle\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-shading-roundedRect' @on.click=\"asc.addShading('RoundRect')\" name=\"RoundRect\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-shading-circle' @on.click=\"asc.addShading('Ellipse')\" name=\"Ellipse\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-shading-brokenLine' @on.click=\"asc.addShading('Polyline')\" name=\"Polyline\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-shading-Pentagonal' @on.click=\"asc.addShading('Polygon')\" name=\"Polygon\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-shading-curve' @on.click=\"asc.addShading('Polybezier')\" name=\"Polybezier\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-shading-closedCurve' @on.click=\"asc.addShading('Curve')\" name=\"Curve\" tabindex='0'></xbutton>\n<xbutton icon-class='fv__icon-shading-closedIrregularFigure' @on.click=\"asc.addShading('Freedom')\" name=\"Freedom\" tabindex='0'></xbutton>\n</dropdown-item>\n</dropdown>\n</ribbon-button>"}},9333:function(e,t,n){n(5779);e.exports=function(e){"use strict";e=e||{};return'<ribbon-button name="edit-object-ribbon-dropdown" @tooltip tooltip-title="page-editor:editObject.title" text="page-editor:editObject.title" icon-class="fv__icon-menu-edit" not-immediately="true" class="edit-object-ribbon-dropdown" @controller="page-editor:EditObjectController as eord">\n<dropdown separate="false">\n<dropdown-button @on.click="eord.setEditType(\'All\')" name="All" icon-class=\'fv__ui-button-icon fv__ui-property-icon-selected-color-light\'>page-editor:editObject.all</dropdown-button>\n<dropdown-button @on.click="eord.setEditType(\'Text\')" name="Text" icon-class=\'fv__ui-button-icon fv__ui-property-icon-selected-color-light\'>page-editor:editObject.text</dropdown-button>\n<dropdown-button @on.click="eord.setEditType(\'Image\')" name="Image" icon-class=\'fv__ui-button-icon fv__ui-property-icon-selected-color-light\'>page-editor:editObject.image</dropdown-button>\n<dropdown-button @on.click="eord.setEditType(\'Path\')" name="Path" icon-class=\'fv__ui-button-icon fv__ui-property-icon-selected-color-light\'>page-editor:editObject.shape</dropdown-button>\n<dropdown-button @on.click="eord.setEditType(\'Shading\')" name="Shading" icon-class=\'fv__ui-button-icon fv__ui-property-icon-selected-color-light\'>page-editor:editObject.shading</dropdown-button>\n</dropdown>\n</ribbon-button>','<ribbon-button name="edit-object-ribbon-dropdown" @tooltip tooltip-title="page-editor:editObject.title" text="page-editor:editObject.title" icon-class="fv__icon-menu-edit" not-immediately="true" class="edit-object-ribbon-dropdown" @controller="page-editor:EditObjectController as eord">\n<dropdown separate="false">\n<dropdown-button @on.click="eord.setEditType(\'All\')" name="All" icon-class=\'fv__ui-button-icon fv__ui-property-icon-selected-color-light\'>page-editor:editObject.all</dropdown-button>\n<dropdown-button @on.click="eord.setEditType(\'Text\')" name="Text" icon-class=\'fv__ui-button-icon fv__ui-property-icon-selected-color-light\'>page-editor:editObject.text</dropdown-button>\n<dropdown-button @on.click="eord.setEditType(\'Image\')" name="Image" icon-class=\'fv__ui-button-icon fv__ui-property-icon-selected-color-light\'>page-editor:editObject.image</dropdown-button>\n<dropdown-button @on.click="eord.setEditType(\'Path\')" name="Path" icon-class=\'fv__ui-button-icon fv__ui-property-icon-selected-color-light\'>page-editor:editObject.shape</dropdown-button>\n<dropdown-button @on.click="eord.setEditType(\'Shading\')" name="Shading" icon-class=\'fv__ui-button-icon fv__ui-property-icon-selected-color-light\'>page-editor:editObject.shading</dropdown-button>\n</dropdown>\n</ribbon-button>'}},683:function(e){e.exports=null},5585:function(e,t,n){"use strict";
/*! art-template@runtime | https://github.com/aui/art-template */var o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},i=Object.create(o),r=/["&'<>]/;function a(e){return"string"!=typeof e&&(e=null==e?"":"function"==typeof e?a(e.call(e)):JSON.stringify(e)),e}i.$escape=function(e){return function(e){var t=""+e,n=r.exec(t);if(!n)return e;var o="",i=void 0,a=void 0,s=void 0;for(i=n.index,a=0;i<t.length;i++){switch(t.charCodeAt(i)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}a!==i&&(o+=t.substring(a,i)),a=i+1,o+=s}return a!==i?o+t.substring(a,i):o}(a(e))},i.$each=function(e,t){if(Array.isArray(e))for(var n=0,o=e.length;n<o;n++)t(e[n],n);else for(var i in e)t(e[i],i)},e.exports=i},5779:function(e,t,n){"use strict";e.exports=n(5585)},7297:function(e){e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAN0lEQVR42m3NMQ7AMBACweH+/2dSOLIdKZSrBdIWJCm0DcyBRbcQvPBOVuMvszbzsdtmzmE2hAeBeRkFLldufwAAAABJRU5ErkJggg=="},4945:function(e){e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAANUlEQVR42m2NSQrAQBCEtP//Z3NImAXiUSzKCgA1gEqAWTKgHQi88sRv8cdU4l1Xzjp0S4AHhHsZBRHojyUAAAAASUVORK5CYII="},8649:function(e){e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAW0lEQVR42rXQsQ3AIAxE0X8oG9BSsv9ElLTMcCkiJxQkoslVtvRkW5ZtIpKeBrCtqI8ZjVJnhyQHTm8IYJR6bxGwRHNyb9fEnfwAbSv39nmfbaX41woHAtDuw09owS/ec9h8cQAAAABJRU5ErkJggg=="},7665:function(e){e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADBUlEQVR42tVXS27TUBQ99zngIJXiBSBhVkA6wskEdwUQBSExol1B3CQTRnFmDPpxV5AyqkSVul1BzIREYtCwgroSCzBVB2mVvMsgpYodx83HQnBntt675/jcr4H/yQzrUE/bp5jrNKl2oXZ8Vqi0NtIiQPMcfllxLUG8d/voE3NDyhuv67z3/4oCgobjQDoTNUlRzwtVt7loeGZSwLSa2o3QykxsAdCmn+STzk6pmKoC+epp+Vp5cs7EdiI4wx8MRWMycY/MhQkUam4dGDrJXz0CZ0nr351iLwReOzJJUdqFilufm0Ch5taZ2b5PIQY8VdJa1yn6k/FV6gDAxPY0ErE5YFRaG0TUjLwOQNzAkHQIlEfg8nN3521sSRq1I5NYaYfZ8lZnt+QkKmBYhzoR1SckHtJaZ7vkMHFv5Isb08ABAIOMD0ZYFaK6aTe1RAKkPLABjJdUwJLW7yQW0memze5uKTE8Xafos6R1AMHYa61/uWpNDYFhHeqkqOdhRrzV2Q7LNo/lKy0LRHvjH6Q+/vXcszeDSQXEQzMq/TLgAHAb85AK15erG7EhEOA3kRzfT6PfM4X9EMSL+BwQ4lnoopC9dEaO9CKEzFgCzMiNP2dXrlIhkB1kon60mTrhn0RZ1jynGMxKIHQwWrOLmmm52qytOESgf7WSS4NAPzOI+unF54DE13DuCDOVKpCZXCTXLuIJEPXCnZPKqex9xOVIuZ/EEngkcRBtGvlKy1oGPF89LUdaO6QUXiwBzykG0aYBovqi69bo3tAONyE6GB/dYrJmxUTrJEVtz0vidq60Q8sMw5dDNBKnoecUAzBHVyudFPVs1nDkq6dlUtSzqPQEbkQXl6lLqVFr2cQUt8X4YN5nIXvZwVXPczYD02pqfazkhMi8mra4MnMjboQnbsUJJOYrwyngAKAkXfz57Yv3NP/ugkA5EBbpigGIP3Z3Sp+W+i8wLFeHwjYBH2YFZuL97EA4MXNg8V8zw3J1CGkSidcA68Dd9AwYCATIY5Y/VCkO7gP+Z+w3g7JLOd6W0HAAAAAASUVORK5CYII="},2705:function(e,t,n){var o=n(5639).Symbol;e.exports=o},4239:function(e,t,n){var o=n(2705),i=n(9607),r=n(2333),a=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):r(e)}},7561:function(e,t,n){var o=n(7990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,o(e)+1).replace(i,""):e}},1957:function(e,t,n){var o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=o},9607:function(e,t,n){var o=n(2705),i=Object.prototype,r=i.hasOwnProperty,a=i.toString,s=o?o.toStringTag:void 0;e.exports=function(e){var t=r.call(e,s),n=e[s];try{e[s]=void 0;var o=!0}catch(e){}var i=a.call(e);return o&&(t?e[s]=n:delete e[s]),i}},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:function(e,t,n){var o=n(1957),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();e.exports=r},7990:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},3279:function(e,t,n){var o=n(3218),i=n(7771),r=n(4841),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,l,u,p,d,g,f=0,h=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=c,o=l;return c=l=void 0,f=t,p=e.apply(o,n)}function y(e){var n=e-g;return void 0===g||n>=t||n<0||m&&e-f>=u}function P(){var e=i();if(y(e))return x(e);d=setTimeout(P,function(e){var n=t-(e-g);return m?s(n,u-(e-f)):n}(e))}function x(e){return d=void 0,v&&c?b(e):(c=l=void 0,p)}function C(){var e=i(),n=y(e);if(c=arguments,l=this,g=e,n){if(void 0===d)return function(e){return f=e,d=setTimeout(P,t),h?b(e):p}(g);if(m)return clearTimeout(d),d=setTimeout(P,t),b(g)}return void 0===d&&(d=setTimeout(P,t)),p}return t=r(t)||0,o(n)&&(h=!!n.leading,u=(m="maxWait"in n)?a(r(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),C.cancel=function(){void 0!==d&&clearTimeout(d),f=0,c=g=l=d=void 0},C.flush=function(){return void 0===d?p:x(i())},C}},3218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},3448:function(e,t,n){var o=n(4239),i=n(7005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==o(e)}},7771:function(e,t,n){var o=n(5639);e.exports=function(){return o.Date.now()}},4841:function(e,t,n){var o=n(7561),i=n(3218),r=n(3448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=o(e);var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},5778:function(t){"use strict";t.exports=e},4616:function(e){"use strict";e.exports=t},509:function(e,t,n){"use strict";var o=n(9985),i=n(3691),r=TypeError;e.exports=function(e){if(o(e))return e;throw new r(i(e)+" is not a function")}},2655:function(e,t,n){"use strict";var o=n(9429),i=n(3691),r=TypeError;e.exports=function(e){if(o(e))return e;throw new r(i(e)+" is not a constructor")}},3550:function(e,t,n){"use strict";var o=n(9985),i=String,r=TypeError;e.exports=function(e){if("object"==typeof e||o(e))return e;throw new r("Can't set "+i(e)+" as a prototype")}},7370:function(e,t,n){"use strict";var o=n(4201),i=n(5391),r=n(2560).f,a=o("unscopables"),s=Array.prototype;void 0===s[a]&&r(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},1514:function(e,t,n){"use strict";var o=n(730).charAt;e.exports=function(e,t,n){return t+(n?o(e,t).length:1)}},767:function(e,t,n){"use strict";var o=n(3622),i=TypeError;e.exports=function(e,t){if(o(t,e))return e;throw new i("Incorrect invocation")}},5027:function(e,t,n){"use strict";var o=n(8999),i=String,r=TypeError;e.exports=function(e){if(o(e))return e;throw new r(i(e)+" is not an object")}},7075:function(e){"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},4872:function(e,t,n){"use strict";var o,i,r,a=n(7075),s=n(7697),c=n(9037),l=n(9985),u=n(8999),p=n(6812),d=n(926),g=n(3691),f=n(5773),h=n(1880),m=n(2148),v=n(3622),b=n(1868),y=n(9385),P=n(4201),x=n(4630),C=n(618),E=C.enforce,w=C.get,S=c.Int8Array,I=S&&S.prototype,A=c.Uint8ClampedArray,T=A&&A.prototype,k=S&&b(S),_=I&&b(I),M=Object.prototype,O=c.TypeError,R=P("toStringTag"),D=x("TYPED_ARRAY_TAG"),F="TypedArrayConstructor",j=a&&!!y&&"Opera"!==d(c.opera),L=!1,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},N={BigInt64Array:8,BigUint64Array:8},U=function(e){var t=b(e);if(u(t)){var n=w(t);return n&&p(n,F)?n[F]:U(t)}},V=function(e){if(!u(e))return!1;var t=d(e);return p(B,t)||p(N,t)};for(o in B)(r=(i=c[o])&&i.prototype)?E(r)[F]=i:j=!1;for(o in N)(r=(i=c[o])&&i.prototype)&&(E(r)[F]=i);if((!j||!l(k)||k===Function.prototype)&&(k=function(){throw new O("Incorrect invocation")},j))for(o in B)c[o]&&y(c[o],k);if((!j||!_||_===M)&&(_=k.prototype,j))for(o in B)c[o]&&y(c[o].prototype,_);if(j&&b(T)!==_&&y(T,_),s&&!p(_,R))for(o in L=!0,m(_,R,{configurable:!0,get:function(){return u(this)?this[D]:void 0}}),B)c[o]&&f(c[o],D,o);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:j,TYPED_ARRAY_TAG:L&&D,aTypedArray:function(e){if(V(e))return e;throw new O("Target is not a typed array")},aTypedArrayConstructor:function(e){if(l(e)&&(!y||v(k,e)))return e;throw new O(g(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,o){if(s){if(n)for(var i in B){var r=c[i];if(r&&p(r.prototype,e))try{delete r.prototype[e]}catch(n){try{r.prototype[e]=t}catch(e){}}}_[e]&&!n||h(_,e,n?t:j&&I[e]||t,o)}},exportTypedArrayStaticMethod:function(e,t,n){var o,i;if(s){if(y){if(n)for(o in B)if((i=c[o])&&p(i,e))try{delete i[e]}catch(e){}if(k[e]&&!n)return;try{return h(k,e,n?t:j&&k[e]||t)}catch(e){}}for(o in B)!(i=c[o])||i[e]&&!n||h(i,e,t)}},getTypedArrayConstructor:U,isView:function(e){if(!u(e))return!1;var t=d(e);return"DataView"===t||p(B,t)||p(N,t)},isTypedArray:V,TypedArray:k,TypedArrayPrototype:_}},4328:function(e,t,n){"use strict";var o=n(5290),i=n(7578),r=n(6310),a=function(e){return function(t,n,a){var s,c=o(t),l=r(c),u=i(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},6834:function(e,t,n){"use strict";var o=n(3689);e.exports=function(e,t){var n=[][e];return!!n&&o((function(){n.call(null,t||function(){return 1},1)}))}},8820:function(e,t,n){"use strict";var o=n(509),i=n(690),r=n(4413),a=n(6310),s=TypeError,c=function(e){return function(t,n,c,l){o(n);var u=i(t),p=r(u),d=a(u),g=e?d-1:0,f=e?-1:1;if(c<2)for(;;){if(g in p){l=p[g],g+=f;break}if(g+=f,e?g<0:d<=g)throw new s("Reduce of empty array with no initial value")}for(;e?g>=0:d>g;g+=f)g in p&&(l=n(l,p[g],g,u));return l}};e.exports={left:c(!1),right:c(!0)}},9015:function(e,t,n){"use strict";var o=n(7578),i=n(6310),r=n(6522),a=Array,s=Math.max;e.exports=function(e,t,n){for(var c=i(e),l=o(t,c),u=o(void 0===n?c:n,c),p=a(s(u-l,0)),d=0;l<u;l++,d++)r(p,d,e[l]);return p.length=d,p}},6004:function(e,t,n){"use strict";var o=n(8844);e.exports=o([].slice)},382:function(e,t,n){"use strict";var o=n(9015),i=Math.floor,r=function(e,t){var n=e.length,c=i(n/2);return n<8?a(e,t):s(e,r(o(e,0,c),t),r(o(e,c),t),t)},a=function(e,t){for(var n,o,i=e.length,r=1;r<i;){for(o=r,n=e[r];o&&t(e[o-1],n)>0;)e[o]=e[--o];o!==r++&&(e[o]=n)}return e},s=function(e,t,n,o){for(var i=t.length,r=n.length,a=0,s=0;a<i||s<r;)e[a+s]=a<i&&s<r?o(t[a],n[s])<=0?t[a++]:n[s++]:a<i?t[a++]:n[s++];return e};e.exports=r},6431:function(e,t,n){"use strict";var o=n(4201)("iterator"),i=!1;try{var r=0,a={next:function(){return{done:!!r++}},return:function(){i=!0}};a[o]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(e){return!1}var n=!1;try{var r={};r[o]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},6648:function(e,t,n){"use strict";var o=n(8844),i=o({}.toString),r=o("".slice);e.exports=function(e){return r(i(e),8,-1)}},926:function(e,t,n){"use strict";var o=n(3043),i=n(9985),r=n(6648),a=n(4201)("toStringTag"),s=Object,c="Arguments"===r(function(){return arguments}());e.exports=o?r:function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?n:c?r(t):"Object"===(o=r(t))&&i(t.callee)?"Arguments":o}},8758:function(e,t,n){"use strict";var o=n(6812),i=n(9152),r=n(2474),a=n(2560);e.exports=function(e,t,n){for(var s=i(t),c=a.f,l=r.f,u=0;u<s.length;u++){var p=s[u];o(e,p)||n&&o(n,p)||c(e,p,l(t,p))}}},1748:function(e,t,n){"use strict";var o=n(3689);e.exports=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},7807:function(e){"use strict";e.exports=function(e,t){return{value:e,done:t}}},5773:function(e,t,n){"use strict";var o=n(7697),i=n(2560),r=n(5684);e.exports=o?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},5684:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6522:function(e,t,n){"use strict";var o=n(8360),i=n(2560),r=n(5684);e.exports=function(e,t,n){var a=o(t);a in e?i.f(e,a,r(0,n)):e[a]=n}},2148:function(e,t,n){"use strict";var o=n(8702),i=n(2560);e.exports=function(e,t,n){return n.get&&o(n.get,t,{getter:!0}),n.set&&o(n.set,t,{setter:!0}),i.f(e,t,n)}},1880:function(e,t,n){"use strict";var o=n(9985),i=n(2560),r=n(8702),a=n(5014);e.exports=function(e,t,n,s){s||(s={});var c=s.enumerable,l=void 0!==s.name?s.name:t;if(o(n)&&r(n,l,s),s.global)c?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},5014:function(e,t,n){"use strict";var o=n(9037),i=Object.defineProperty;e.exports=function(e,t){try{i(o,e,{value:t,configurable:!0,writable:!0})}catch(n){o[e]=t}return t}},8494:function(e,t,n){"use strict";var o=n(3691),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+o(t)+" of "+o(e))}},7697:function(e,t,n){"use strict";var o=n(3689);e.exports=!o((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2659:function(e){"use strict";var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},6420:function(e,t,n){"use strict";var o=n(9037),i=n(8999),r=o.document,a=i(r)&&i(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},6338:function(e){"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3265:function(e,t,n){"use strict";var o=n(6420)("span").classList,i=o&&o.constructor&&o.constructor.prototype;e.exports=i===Object.prototype?void 0:i},7365:function(e,t,n){"use strict";var o=n(71).match(/firefox\/(\d+)/i);e.exports=!!o&&+o[1]},2532:function(e,t,n){"use strict";var o=n(8563),i=n(806);e.exports=!o&&!i&&"object"==typeof window&&"object"==typeof document},8563:function(e){"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},7298:function(e,t,n){"use strict";var o=n(71);e.exports=/MSIE|Trident/.test(o)},3221:function(e,t,n){"use strict";var o=n(71);e.exports=/ipad|iphone|ipod/i.test(o)&&"undefined"!=typeof Pebble},4764:function(e,t,n){"use strict";var o=n(71);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(o)},806:function(e,t,n){"use strict";var o=n(9037),i=n(6648);e.exports="process"===i(o.process)},7486:function(e,t,n){"use strict";var o=n(71);e.exports=/web0s(?!.*chrome)/i.test(o)},71:function(e){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:function(e,t,n){"use strict";var o,i,r=n(9037),a=n(71),s=r.process,c=r.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(i=(o=u.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!i&&a&&(!(o=a.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=a.match(/Chrome\/(\d+)/))&&(i=+o[1]),e.exports=i},7922:function(e,t,n){"use strict";var o=n(71).match(/AppleWebKit\/(\d+)\./);e.exports=!!o&&+o[1]},2739:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:function(e,t,n){"use strict";var o=n(9037),i=n(2474).f,r=n(5773),a=n(1880),s=n(5014),c=n(8758),l=n(5266);e.exports=function(e,t){var n,u,p,d,g,f=e.target,h=e.global,m=e.stat;if(n=h?o:m?o[f]||s(f,{}):(o[f]||{}).prototype)for(u in t){if(d=t[u],p=e.dontCallGetSet?(g=i(n,u))&&g.value:n[u],!l(h?u:f+(m?".":"#")+u,e.forced)&&void 0!==p){if(typeof d==typeof p)continue;c(d,p)}(e.sham||p&&p.sham)&&r(d,"sham",!0),a(n,u,d,e)}}},3689:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},8678:function(e,t,n){"use strict";n(4043);var o=n(6576),i=n(1880),r=n(6308),a=n(3689),s=n(4201),c=n(5773),l=s("species"),u=RegExp.prototype;e.exports=function(e,t,n,p){var d=s(e),g=!a((function(){var t={};return t[d]=function(){return 7},7!==""[e](t)})),f=g&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!g||!f||n){var h=o(/./[d]),m=t(d,""[e],(function(e,t,n,i,a){var s=o(e),c=t.exec;return c===r||c===u.exec?g&&!a?{done:!0,value:h(t,n,i)}:{done:!0,value:s(n,t,i)}:{done:!1}}));i(String.prototype,e,m[0]),i(u,d,m[1])}p&&c(u[d],"sham",!0)}},1735:function(e,t,n){"use strict";var o=n(7215),i=Function.prototype,r=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(o?a.bind(r):function(){return a.apply(r,arguments)})},4071:function(e,t,n){"use strict";var o=n(6576),i=n(509),r=n(7215),a=o(o.bind);e.exports=function(e,t){return i(e),void 0===t?e:r?a(e,t):function(){return e.apply(t,arguments)}}},7215:function(e,t,n){"use strict";var o=n(3689);e.exports=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},2615:function(e,t,n){"use strict";var o=n(7215),i=Function.prototype.call;e.exports=o?i.bind(i):function(){return i.apply(i,arguments)}},1236:function(e,t,n){"use strict";var o=n(7697),i=n(6812),r=Function.prototype,a=o&&Object.getOwnPropertyDescriptor,s=i(r,"name"),c=s&&"something"===function(){}.name,l=s&&(!o||o&&a(r,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},2743:function(e,t,n){"use strict";var o=n(8844),i=n(509);e.exports=function(e,t,n){try{return o(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},6576:function(e,t,n){"use strict";var o=n(6648),i=n(8844);e.exports=function(e){if("Function"===o(e))return i(e)}},8844:function(e,t,n){"use strict";var o=n(7215),i=Function.prototype,r=i.call,a=o&&i.bind.bind(r,r);e.exports=o?a:function(e){return function(){return r.apply(e,arguments)}}},6058:function(e,t,n){"use strict";var o=n(9037),i=n(9985);e.exports=function(e,t){return arguments.length<2?(n=o[e],i(n)?n:void 0):o[e]&&o[e][t];var n}},1664:function(e,t,n){"use strict";var o=n(926),i=n(4849),r=n(981),a=n(9478),s=n(4201)("iterator");e.exports=function(e){if(!r(e))return i(e,s)||i(e,"@@iterator")||a[o(e)]}},5185:function(e,t,n){"use strict";var o=n(2615),i=n(509),r=n(5027),a=n(3691),s=n(1664),c=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(i(n))return r(o(n,e));throw new c(a(e)+" is not iterable")}},4849:function(e,t,n){"use strict";var o=n(509),i=n(981);e.exports=function(e,t){var n=e[t];return i(n)?void 0:o(n)}},7017:function(e,t,n){"use strict";var o=n(8844),i=n(690),r=Math.floor,a=o("".charAt),s=o("".replace),c=o("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,o,p,d){var g=n+e.length,f=o.length,h=u;return void 0!==p&&(p=i(p),h=l),s(d,h,(function(i,s){var l;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,g);case"<":l=p[c(s,1,-1)];break;default:var u=+s;if(0===u)return i;if(u>f){var d=r(u/10);return 0===d?i:d<=f?void 0===o[d-1]?a(s,1):o[d-1]+a(s,1):i}l=o[u-1]}return void 0===l?"":l}))}},9037:function(e,t,n){"use strict";var o=function(e){return e&&e.Math===Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},6812:function(e,t,n){"use strict";var o=n(8844),i=n(690),r=o({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return r(i(e),t)}},7248:function(e){"use strict";e.exports={}},920:function(e){"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},2688:function(e,t,n){"use strict";var o=n(6058);e.exports=o("document","documentElement")},8506:function(e,t,n){"use strict";var o=n(7697),i=n(3689),r=n(6420);e.exports=!o&&!i((function(){return 7!==Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},4413:function(e,t,n){"use strict";var o=n(8844),i=n(3689),r=n(6648),a=Object,s=o("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===r(e)?s(e,""):a(e)}:a},6738:function(e,t,n){"use strict";var o=n(8844),i=n(9985),r=n(4091),a=o(Function.toString);i(r.inspectSource)||(r.inspectSource=function(e){return a(e)}),e.exports=r.inspectSource},618:function(e,t,n){"use strict";var o,i,r,a=n(9834),s=n(9037),c=n(8999),l=n(5773),u=n(6812),p=n(4091),d=n(2713),g=n(7248),f="Object already initialized",h=s.TypeError,m=s.WeakMap;if(a||p.state){var v=p.state||(p.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,o=function(e,t){if(v.has(e))throw new h(f);return t.facade=e,v.set(e,t),t},i=function(e){return v.get(e)||{}},r=function(e){return v.has(e)}}else{var b=d("state");g[b]=!0,o=function(e,t){if(u(e,b))throw new h(f);return t.facade=e,l(e,b,t),t},i=function(e){return u(e,b)?e[b]:{}},r=function(e){return u(e,b)}}e.exports={set:o,get:i,has:r,enforce:function(e){return r(e)?i(e):o(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw new h("Incompatible receiver, "+e+" required");return n}}}},3292:function(e,t,n){"use strict";var o=n(4201),i=n(9478),r=o("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[r]===e)}},9985:function(e,t,n){"use strict";var o=n(2659),i=o.all;e.exports=o.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},9429:function(e,t,n){"use strict";var o=n(8844),i=n(3689),r=n(9985),a=n(926),s=n(6058),c=n(6738),l=function(){},u=[],p=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,g=o(d.exec),f=!d.test(l),h=function(e){if(!r(e))return!1;try{return p(l,u,e),!0}catch(e){return!1}},m=function(e){if(!r(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!g(d,c(e))}catch(e){return!0}};m.sham=!0,e.exports=!p||i((function(){var e;return h(h.call)||!h(Object)||!h((function(){e=!0}))||e}))?m:h},5266:function(e,t,n){"use strict";var o=n(3689),i=n(9985),r=/#|\.prototype\./,a=function(e,t){var n=c[s(e)];return n===u||n!==l&&(i(t)?o(t):!!t)},s=a.normalize=function(e){return String(e).replace(r,".").toLowerCase()},c=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},981:function(e){"use strict";e.exports=function(e){return null==e}},8999:function(e,t,n){"use strict";var o=n(9985),i=n(2659),r=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:o(e)||e===r}:function(e){return"object"==typeof e?null!==e:o(e)}},3931:function(e){"use strict";e.exports=!1},734:function(e,t,n){"use strict";var o=n(6058),i=n(9985),r=n(3622),a=n(9525),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return i(t)&&r(t.prototype,s(e))}},8734:function(e,t,n){"use strict";var o=n(4071),i=n(2615),r=n(5027),a=n(3691),s=n(3292),c=n(6310),l=n(3622),u=n(5185),p=n(1664),d=n(2125),g=TypeError,f=function(e,t){this.stopped=e,this.result=t},h=f.prototype;e.exports=function(e,t,n){var m,v,b,y,P,x,C,E=n&&n.that,w=!(!n||!n.AS_ENTRIES),S=!(!n||!n.IS_RECORD),I=!(!n||!n.IS_ITERATOR),A=!(!n||!n.INTERRUPTED),T=o(t,E),k=function(e){return m&&d(m,"normal",e),new f(!0,e)},_=function(e){return w?(r(e),A?T(e[0],e[1],k):T(e[0],e[1])):A?T(e,k):T(e)};if(S)m=e.iterator;else if(I)m=e;else{if(!(v=p(e)))throw new g(a(e)+" is not iterable");if(s(v)){for(b=0,y=c(e);y>b;b++)if((P=_(e[b]))&&l(h,P))return P;return new f(!1)}m=u(e,v)}for(x=S?e.next:m.next;!(C=i(x,m)).done;){try{P=_(C.value)}catch(e){d(m,"throw",e)}if("object"==typeof P&&P&&l(h,P))return P}return new f(!1)}},2125:function(e,t,n){"use strict";var o=n(2615),i=n(5027),r=n(4849);e.exports=function(e,t,n){var a,s;i(e);try{if(!(a=r(e,"return"))){if("throw"===t)throw n;return n}a=o(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw n;if(s)throw a;return i(a),n}},974:function(e,t,n){"use strict";var o=n(2013).IteratorPrototype,i=n(5391),r=n(5684),a=n(5997),s=n(9478),c=function(){return this};e.exports=function(e,t,n,l){var u=t+" Iterator";return e.prototype=i(o,{next:r(+!l,n)}),a(e,u,!1,!0),s[u]=c,e}},1934:function(e,t,n){"use strict";var o=n(9989),i=n(2615),r=n(3931),a=n(1236),s=n(9985),c=n(974),l=n(1868),u=n(9385),p=n(5997),d=n(5773),g=n(1880),f=n(4201),h=n(9478),m=n(2013),v=a.PROPER,b=a.CONFIGURABLE,y=m.IteratorPrototype,P=m.BUGGY_SAFARI_ITERATORS,x=f("iterator"),C="keys",E="values",w="entries",S=function(){return this};e.exports=function(e,t,n,a,f,m,I){c(n,t,a);var A,T,k,_=function(e){if(e===f&&F)return F;if(!P&&e&&e in R)return R[e];switch(e){case C:case E:case w:return function(){return new n(this,e)}}return function(){return new n(this)}},M=t+" Iterator",O=!1,R=e.prototype,D=R[x]||R["@@iterator"]||f&&R[f],F=!P&&D||_(f),j="Array"===t&&R.entries||D;if(j&&(A=l(j.call(new e)))!==Object.prototype&&A.next&&(r||l(A)===y||(u?u(A,y):s(A[x])||g(A,x,S)),p(A,M,!0,!0),r&&(h[M]=S)),v&&f===E&&D&&D.name!==E&&(!r&&b?d(R,"name",E):(O=!0,F=function(){return i(D,this)})),f)if(T={values:_(E),keys:m?F:_(C),entries:_(w)},I)for(k in T)(P||O||!(k in R))&&g(R,k,T[k]);else o({target:t,proto:!0,forced:P||O},T);return r&&!I||R[x]===F||g(R,x,F,{name:f}),h[t]=F,T}},2013:function(e,t,n){"use strict";var o,i,r,a=n(3689),s=n(9985),c=n(8999),l=n(5391),u=n(1868),p=n(1880),d=n(4201),g=n(3931),f=d("iterator"),h=!1;[].keys&&("next"in(r=[].keys())?(i=u(u(r)))!==Object.prototype&&(o=i):h=!0),!c(o)||a((function(){var e={};return o[f].call(e)!==e}))?o={}:g&&(o=l(o)),s(o[f])||p(o,f,(function(){return this})),e.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:h}},9478:function(e){"use strict";e.exports={}},6310:function(e,t,n){"use strict";var o=n(3126);e.exports=function(e){return o(e.length)}},8702:function(e,t,n){"use strict";var o=n(8844),i=n(3689),r=n(9985),a=n(6812),s=n(7697),c=n(1236).CONFIGURABLE,l=n(6738),u=n(618),p=u.enforce,d=u.get,g=String,f=Object.defineProperty,h=o("".slice),m=o("".replace),v=o([].join),b=s&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),y=String(String).split("String"),P=e.exports=function(e,t,n){"Symbol("===h(g(t),0,7)&&(t="["+m(g(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||c&&e.name!==t)&&(s?f(e,"name",{value:t,configurable:!0}):e.name=t),b&&n&&a(n,"arity")&&e.length!==n.arity&&f(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var o=p(e);return a(o,"source")||(o.source=v(y,"string"==typeof t?t:"")),e};Function.prototype.toString=P((function(){return r(this)&&d(this).source||l(this)}),"toString")},8828:function(e){"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var o=+e;return(o>0?n:t)(o)}},231:function(e,t,n){"use strict";var o,i,r,a,s,c=n(9037),l=n(4071),u=n(2474).f,p=n(9886).set,d=n(4410),g=n(4764),f=n(3221),h=n(7486),m=n(806),v=c.MutationObserver||c.WebKitMutationObserver,b=c.document,y=c.process,P=c.Promise,x=u(c,"queueMicrotask"),C=x&&x.value;if(!C){var E=new d,w=function(){var e,t;for(m&&(e=y.domain)&&e.exit();t=E.get();)try{t()}catch(e){throw E.head&&o(),e}e&&e.enter()};g||m||h||!v||!b?!f&&P&&P.resolve?((a=P.resolve(void 0)).constructor=P,s=l(a.then,a),o=function(){s(w)}):m?o=function(){y.nextTick(w)}:(p=l(p,c),o=function(){p(w)}):(i=!0,r=b.createTextNode(""),new v(w).observe(r,{characterData:!0}),o=function(){r.data=i=!i}),C=function(e){E.head||o(),E.add(e)}}e.exports=C},8742:function(e,t,n){"use strict";var o=n(509),i=TypeError,r=function(e){var t,n;this.promise=new e((function(e,o){if(void 0!==t||void 0!==n)throw new i("Bad Promise constructor");t=e,n=o})),this.resolve=o(t),this.reject=o(n)};e.exports.f=function(e){return new r(e)}},5391:function(e,t,n){"use strict";var o,i=n(5027),r=n(8920),a=n(2739),s=n(7248),c=n(2688),l=n(6420),u=n(2713),p="prototype",d="script",g=u("IE_PROTO"),f=function(){},h=function(e){return"<"+d+">"+e+"</"+d+">"},m=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{o=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;v="undefined"!=typeof document?document.domain&&o?m(o):(t=l("iframe"),n="java"+d+":",t.style.display="none",c.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):m(o);for(var i=a.length;i--;)delete v[p][a[i]];return v()};s[g]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f[p]=i(e),n=new f,f[p]=null,n[g]=e):n=v(),void 0===t?n:r.f(n,t)}},8920:function(e,t,n){"use strict";var o=n(7697),i=n(5648),r=n(2560),a=n(5027),s=n(5290),c=n(300);t.f=o&&!i?Object.defineProperties:function(e,t){a(e);for(var n,o=s(t),i=c(t),l=i.length,u=0;l>u;)r.f(e,n=i[u++],o[n]);return e}},2560:function(e,t,n){"use strict";var o=n(7697),i=n(8506),r=n(5648),a=n(5027),s=n(8360),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,p="enumerable",d="configurable",g="writable";t.f=o?r?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&g in n&&!n[g]){var o=u(e,t);o&&o[g]&&(e[t]=n.value,n={configurable:d in n?n[d]:o[d],enumerable:p in n?n[p]:o[p],writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(a(e),t=s(t),a(n),i)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},2474:function(e,t,n){"use strict";var o=n(7697),i=n(2615),r=n(9556),a=n(5684),s=n(5290),c=n(8360),l=n(6812),u=n(8506),p=Object.getOwnPropertyDescriptor;t.f=o?p:function(e,t){if(e=s(e),t=c(t),u)try{return p(e,t)}catch(e){}if(l(e,t))return a(!i(r.f,e,t),e[t])}},2741:function(e,t,n){"use strict";var o=n(4948),i=n(2739).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,i)}},7518:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},1868:function(e,t,n){"use strict";var o=n(6812),i=n(9985),r=n(690),a=n(2713),s=n(1748),c=a("IE_PROTO"),l=Object,u=l.prototype;e.exports=s?l.getPrototypeOf:function(e){var t=r(e);if(o(t,c))return t[c];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof l?u:null}},3622:function(e,t,n){"use strict";var o=n(8844);e.exports=o({}.isPrototypeOf)},4948:function(e,t,n){"use strict";var o=n(8844),i=n(6812),r=n(5290),a=n(4328).indexOf,s=n(7248),c=o([].push);e.exports=function(e,t){var n,o=r(e),l=0,u=[];for(n in o)!i(s,n)&&i(o,n)&&c(u,n);for(;t.length>l;)i(o,n=t[l++])&&(~a(u,n)||c(u,n));return u}},300:function(e,t,n){"use strict";var o=n(4948),i=n(2739);e.exports=Object.keys||function(e){return o(e,i)}},9556:function(e,t){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},9385:function(e,t,n){"use strict";var o=n(2743),i=n(5027),r=n(3550);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=o(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return i(n),r(o),t?e(n,o):n.__proto__=o,n}}():void 0)},5899:function(e,t,n){"use strict";var o=n(2615),i=n(9985),r=n(8999),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!r(s=o(n,e)))return s;if(i(n=e.valueOf)&&!r(s=o(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!r(s=o(n,e)))return s;throw new a("Can't convert object to primitive value")}},9152:function(e,t,n){"use strict";var o=n(6058),i=n(8844),r=n(2741),a=n(7518),s=n(5027),c=i([].concat);e.exports=o("Reflect","ownKeys")||function(e){var t=r.f(s(e)),n=a.f;return n?c(t,n(e)):t}},9302:function(e){"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},7073:function(e,t,n){"use strict";var o=n(9037),i=n(7919),r=n(9985),a=n(5266),s=n(6738),c=n(4201),l=n(2532),u=n(8563),p=n(3931),d=n(3615),g=i&&i.prototype,f=c("species"),h=!1,m=r(o.PromiseRejectionEvent),v=a("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===d)return!0;if(p&&(!g.catch||!g.finally))return!0;if(!d||d<51||!/native code/.test(e)){var n=new i((function(e){e(1)})),o=function(e){e((function(){}),(function(){}))};if((n.constructor={})[f]=o,!(h=n.then((function(){}))instanceof o))return!0}return!t&&(l||u)&&!m}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:m,SUBCLASSING:h}},7919:function(e,t,n){"use strict";var o=n(9037);e.exports=o.Promise},2945:function(e,t,n){"use strict";var o=n(5027),i=n(8999),r=n(8742);e.exports=function(e,t){if(o(e),i(t)&&t.constructor===e)return t;var n=r.f(e);return(0,n.resolve)(t),n.promise}},562:function(e,t,n){"use strict";var o=n(7919),i=n(6431),r=n(7073).CONSTRUCTOR;e.exports=r||!i((function(e){o.all(e).then(void 0,(function(){}))}))},4410:function(e){"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},6100:function(e,t,n){"use strict";var o=n(2615),i=n(5027),r=n(9985),a=n(6648),s=n(6308),c=TypeError;e.exports=function(e,t){var n=e.exec;if(r(n)){var l=o(n,e,t);return null!==l&&i(l),l}if("RegExp"===a(e))return o(s,e,t);throw new c("RegExp#exec called on incompatible receiver")}},6308:function(e,t,n){"use strict";var o,i,r=n(2615),a=n(8844),s=n(4327),c=n(9633),l=n(7901),u=n(3430),p=n(5391),d=n(618).get,g=n(2100),f=n(6422),h=u("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,v=m,b=a("".charAt),y=a("".indexOf),P=a("".replace),x=a("".slice),C=(i=/b*/g,r(m,o=/a/,"a"),r(m,i,"a"),0!==o.lastIndex||0!==i.lastIndex),E=l.BROKEN_CARET,w=void 0!==/()??/.exec("")[1];(C||w||E||g||f)&&(v=function(e){var t,n,o,i,a,l,u,g=this,f=d(g),S=s(e),I=f.raw;if(I)return I.lastIndex=g.lastIndex,t=r(v,I,S),g.lastIndex=I.lastIndex,t;var A=f.groups,T=E&&g.sticky,k=r(c,g),_=g.source,M=0,O=S;if(T&&(k=P(k,"y",""),-1===y(k,"g")&&(k+="g"),O=x(S,g.lastIndex),g.lastIndex>0&&(!g.multiline||g.multiline&&"\n"!==b(S,g.lastIndex-1))&&(_="(?: "+_+")",O=" "+O,M++),n=new RegExp("^(?:"+_+")",k)),w&&(n=new RegExp("^"+_+"$(?!\\s)",k)),C&&(o=g.lastIndex),i=r(m,T?n:g,O),T?i?(i.input=x(i.input,M),i[0]=x(i[0],M),i.index=g.lastIndex,g.lastIndex+=i[0].length):g.lastIndex=0:C&&i&&(g.lastIndex=g.global?i.index+i[0].length:o),w&&i&&i.length>1&&r(h,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&A)for(i.groups=l=p(null),a=0;a<A.length;a++)l[(u=A[a])[0]]=i[u[1]];return i}),e.exports=v},9633:function(e,t,n){"use strict";var o=n(5027);e.exports=function(){var e=o(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},7901:function(e,t,n){"use strict";var o=n(3689),i=n(9037).RegExp,r=o((function(){var e=i("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),a=r||o((function(){return!i("a","y").sticky})),s=r||o((function(){var e=i("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:r}},2100:function(e,t,n){"use strict";var o=n(3689),i=n(9037).RegExp;e.exports=o((function(){var e=i(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},6422:function(e,t,n){"use strict";var o=n(3689),i=n(9037).RegExp;e.exports=o((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4684:function(e,t,n){"use strict";var o=n(981),i=TypeError;e.exports=function(e){if(o(e))throw new i("Can't call method on "+e);return e}},4241:function(e,t,n){"use strict";var o=n(6058),i=n(2148),r=n(4201),a=n(7697),s=r("species");e.exports=function(e){var t=o(e);a&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},5997:function(e,t,n){"use strict";var o=n(2560).f,i=n(6812),r=n(4201)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,r)&&o(e,r,{configurable:!0,value:t})}},2713:function(e,t,n){"use strict";var o=n(3430),i=n(4630),r=o("keys");e.exports=function(e){return r[e]||(r[e]=i(e))}},4091:function(e,t,n){"use strict";var o=n(9037),i=n(5014),r="__core-js_shared__",a=o[r]||i(r,{});e.exports=a},3430:function(e,t,n){"use strict";var o=n(3931),i=n(4091);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.33.2",mode:o?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"})},6373:function(e,t,n){"use strict";var o=n(5027),i=n(2655),r=n(981),a=n(4201)("species");e.exports=function(e,t){var n,s=o(e).constructor;return void 0===s||r(n=o(s)[a])?t:i(n)}},730:function(e,t,n){"use strict";var o=n(8844),i=n(8700),r=n(4327),a=n(4684),s=o("".charAt),c=o("".charCodeAt),l=o("".slice),u=function(e){return function(t,n){var o,u,p=r(a(t)),d=i(n),g=p.length;return d<0||d>=g?e?"":void 0:(o=c(p,d))<55296||o>56319||d+1===g||(u=c(p,d+1))<56320||u>57343?e?s(p,d):o:e?l(p,d,d+2):u-56320+(o-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},146:function(e,t,n){"use strict";var o=n(3615),i=n(3689),r=n(9037).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!r(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},9886:function(e,t,n){"use strict";var o,i,r,a,s=n(9037),c=n(1735),l=n(4071),u=n(9985),p=n(6812),d=n(3689),g=n(2688),f=n(6004),h=n(6420),m=n(1500),v=n(4764),b=n(806),y=s.setImmediate,P=s.clearImmediate,x=s.process,C=s.Dispatch,E=s.Function,w=s.MessageChannel,S=s.String,I=0,A={},T="onreadystatechange";d((function(){o=s.location}));var k=function(e){if(p(A,e)){var t=A[e];delete A[e],t()}},_=function(e){return function(){k(e)}},M=function(e){k(e.data)},O=function(e){s.postMessage(S(e),o.protocol+"//"+o.host)};y&&P||(y=function(e){m(arguments.length,1);var t=u(e)?e:E(e),n=f(arguments,1);return A[++I]=function(){c(t,void 0,n)},i(I),I},P=function(e){delete A[e]},b?i=function(e){x.nextTick(_(e))}:C&&C.now?i=function(e){C.now(_(e))}:w&&!v?(a=(r=new w).port2,r.port1.onmessage=M,i=l(a.postMessage,a)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&o&&"file:"!==o.protocol&&!d(O)?(i=O,s.addEventListener("message",M,!1)):i=T in h("script")?function(e){g.appendChild(h("script"))[T]=function(){g.removeChild(this),k(e)}}:function(e){setTimeout(_(e),0)}),e.exports={set:y,clear:P}},7578:function(e,t,n){"use strict";var o=n(8700),i=Math.max,r=Math.min;e.exports=function(e,t){var n=o(e);return n<0?i(n+t,0):r(n,t)}},5290:function(e,t,n){"use strict";var o=n(4413),i=n(4684);e.exports=function(e){return o(i(e))}},8700:function(e,t,n){"use strict";var o=n(8828);e.exports=function(e){var t=+e;return t!=t||0===t?0:o(t)}},3126:function(e,t,n){"use strict";var o=n(8700),i=Math.min;e.exports=function(e){return e>0?i(o(e),9007199254740991):0}},690:function(e,t,n){"use strict";var o=n(4684),i=Object;e.exports=function(e){return i(o(e))}},3250:function(e,t,n){"use strict";var o=n(5904),i=RangeError;e.exports=function(e,t){var n=o(e);if(n%t)throw new i("Wrong offset");return n}},5904:function(e,t,n){"use strict";var o=n(8700),i=RangeError;e.exports=function(e){var t=o(e);if(t<0)throw new i("The argument can't be less than 0");return t}},8732:function(e,t,n){"use strict";var o=n(2615),i=n(8999),r=n(734),a=n(4849),s=n(5899),c=n(4201),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!i(e)||r(e))return e;var n,c=a(e,u);if(c){if(void 0===t&&(t="default"),n=o(c,e,t),!i(n)||r(n))return n;throw new l("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},8360:function(e,t,n){"use strict";var o=n(8732),i=n(734);e.exports=function(e){var t=o(e,"string");return i(t)?t:t+""}},3043:function(e,t,n){"use strict";var o={};o[n(4201)("toStringTag")]="z",e.exports="[object z]"===String(o)},4327:function(e,t,n){"use strict";var o=n(926),i=String;e.exports=function(e){if("Symbol"===o(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},3691:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},4630:function(e,t,n){"use strict";var o=n(8844),i=0,r=Math.random(),a=o(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+r,36)}},9525:function(e,t,n){"use strict";var o=n(146);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:function(e,t,n){"use strict";var o=n(7697),i=n(3689);e.exports=o&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1500:function(e){"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},9834:function(e,t,n){"use strict";var o=n(9037),i=n(9985),r=o.WeakMap;e.exports=i(r)&&/native code/.test(String(r))},4201:function(e,t,n){"use strict";var o=n(9037),i=n(3430),r=n(6812),a=n(4630),s=n(146),c=n(9525),l=o.Symbol,u=i("wks"),p=c?l.for||l:l&&l.withoutSetter||a;e.exports=function(e){return r(u,e)||(u[e]=s&&r(l,e)?l[e]:p("Symbol."+e)),u[e]}},752:function(e,t,n){"use strict";var o=n(5290),i=n(7370),r=n(9478),a=n(618),s=n(2560).f,c=n(1934),l=n(7807),u=n(3931),p=n(7697),d="Array Iterator",g=a.set,f=a.getterFor(d);e.exports=c(Array,"Array",(function(e,t){g(this,{type:d,target:o(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,l(void 0,!0);switch(e.kind){case"keys":return l(n,!1);case"values":return l(t[n],!1)}return l([n,t[n]],!1)}),"values");var h=r.Arguments=r.Array;if(i("keys"),i("values"),i("entries"),!u&&p&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(e){}},278:function(e,t,n){"use strict";var o=n(9989),i=n(8820).left,r=n(6834),a=n(3615);o({target:"Array",proto:!0,forced:!n(806)&&a>79&&a<83||!r("reduce")},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},5137:function(e,t,n){"use strict";var o=n(9989),i=n(8844),r=n(509),a=n(690),s=n(6310),c=n(8494),l=n(4327),u=n(3689),p=n(382),d=n(6834),g=n(7365),f=n(7298),h=n(3615),m=n(7922),v=[],b=i(v.sort),y=i(v.push),P=u((function(){v.sort(void 0)})),x=u((function(){v.sort(null)})),C=d("sort"),E=!u((function(){if(h)return h<70;if(!(g&&g>3)){if(f)return!0;if(m)return m<603;var e,t,n,o,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(o=0;o<47;o++)v.push({k:t+o,v:n})}for(v.sort((function(e,t){return t.v-e.v})),o=0;o<v.length;o++)t=v[o].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));o({target:"Array",proto:!0,forced:P||!x||!C||!E},{sort:function(e){void 0!==e&&r(e);var t=a(this);if(E)return void 0===e?b(t):b(t,e);var n,o,i=[],u=s(t);for(o=0;o<u;o++)o in t&&y(i,t[o]);for(p(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:l(t)>l(n)?1:-1}}(e)),n=s(i),o=0;o<n;)t[o]=i[o++];for(;o<u;)c(t,o++);return t}})},1692:function(e,t,n){"use strict";var o=n(9989),i=n(2615),r=n(509),a=n(8742),s=n(9302),c=n(8734);o({target:"Promise",stat:!0,forced:n(562)},{all:function(e){var t=this,n=a.f(t),o=n.resolve,l=n.reject,u=s((function(){var n=r(t.resolve),a=[],s=0,u=1;c(e,(function(e){var r=s++,c=!1;u++,i(n,t,e).then((function(e){c||(c=!0,a[r]=e,--u||o(a))}),l)})),--u||o(a)}));return u.error&&l(u.value),n.promise}})},5089:function(e,t,n){"use strict";var o=n(9989),i=n(3931),r=n(7073).CONSTRUCTOR,a=n(7919),s=n(6058),c=n(9985),l=n(1880),u=a&&a.prototype;if(o({target:"Promise",proto:!0,forced:r,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&c(a)){var p=s("Promise").prototype.catch;u.catch!==p&&l(u,"catch",p,{unsafe:!0})}},6697:function(e,t,n){"use strict";var o,i,r,a=n(9989),s=n(3931),c=n(806),l=n(9037),u=n(2615),p=n(1880),d=n(9385),g=n(5997),f=n(4241),h=n(509),m=n(9985),v=n(8999),b=n(767),y=n(6373),P=n(9886).set,x=n(231),C=n(920),E=n(9302),w=n(4410),S=n(618),I=n(7919),A=n(7073),T=n(8742),k="Promise",_=A.CONSTRUCTOR,M=A.REJECTION_EVENT,O=A.SUBCLASSING,R=S.getterFor(k),D=S.set,F=I&&I.prototype,j=I,L=F,B=l.TypeError,N=l.document,U=l.process,V=T.f,H=V,z=!!(N&&N.createEvent&&l.dispatchEvent),G="unhandledrejection",W=function(e){var t;return!(!v(e)||!m(t=e.then))&&t},K=function(e,t){var n,o,i,r=t.value,a=1===t.state,s=a?e.ok:e.fail,c=e.resolve,l=e.reject,p=e.domain;try{s?(a||(2===t.rejection&&X(t),t.rejection=1),!0===s?n=r:(p&&p.enter(),n=s(r),p&&(p.exit(),i=!0)),n===e.promise?l(new B("Promise-chain cycle")):(o=W(n))?u(o,n,c,l):c(n)):l(r)}catch(e){p&&!i&&p.exit(),l(e)}},$=function(e,t){e.notified||(e.notified=!0,x((function(){for(var n,o=e.reactions;n=o.get();)K(n,e);e.notified=!1,t&&!e.rejection&&J(e)})))},Y=function(e,t,n){var o,i;z?((o=N.createEvent("Event")).promise=t,o.reason=n,o.initEvent(e,!1,!0),l.dispatchEvent(o)):o={promise:t,reason:n},!M&&(i=l["on"+e])?i(o):e===G&&C("Unhandled promise rejection",n)},J=function(e){u(P,l,(function(){var t,n=e.facade,o=e.value;if(q(e)&&(t=E((function(){c?U.emit("unhandledRejection",o,n):Y(G,n,o)})),e.rejection=c||q(e)?2:1,t.error))throw t.value}))},q=function(e){return 1!==e.rejection&&!e.parent},X=function(e){u(P,l,(function(){var t=e.facade;c?U.emit("rejectionHandled",t):Y("rejectionhandled",t,e.value)}))},Q=function(e,t,n){return function(o){e(t,o,n)}},Z=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,$(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new B("Promise can't be resolved itself");var o=W(t);o?x((function(){var n={done:!1};try{u(o,t,Q(ee,n,e),Q(Z,n,e))}catch(t){Z(n,t,e)}})):(e.value=t,e.state=1,$(e,!1))}catch(t){Z({done:!1},t,e)}}};if(_&&(L=(j=function(e){b(this,L),h(e),u(o,this);var t=R(this);try{e(Q(ee,t),Q(Z,t))}catch(e){Z(t,e)}}).prototype,(o=function(e){D(this,{type:k,done:!1,notified:!1,parent:!1,reactions:new w,rejection:!1,state:0,value:void 0})}).prototype=p(L,"then",(function(e,t){var n=R(this),o=V(y(this,j));return n.parent=!0,o.ok=!m(e)||e,o.fail=m(t)&&t,o.domain=c?U.domain:void 0,0===n.state?n.reactions.add(o):x((function(){K(o,n)})),o.promise})),i=function(){var e=new o,t=R(e);this.promise=e,this.resolve=Q(ee,t),this.reject=Q(Z,t)},T.f=V=function(e){return e===j||undefined===e?new i(e):H(e)},!s&&m(I)&&F!==Object.prototype)){r=F.then,O||p(F,"then",(function(e,t){var n=this;return new j((function(e,t){u(r,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete F.constructor}catch(e){}d&&d(F,L)}a({global:!0,constructor:!0,wrap:!0,forced:_},{Promise:j}),g(j,k,!1,!0),f(k)},6409:function(e,t,n){"use strict";var o=n(9989),i=n(3931),r=n(7919),a=n(3689),s=n(6058),c=n(9985),l=n(6373),u=n(2945),p=n(1880),d=r&&r.prototype;if(o({target:"Promise",proto:!0,real:!0,forced:!!r&&a((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,s("Promise")),n=c(e);return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),!i&&c(r)){var g=s("Promise").prototype.finally;d.finally!==g&&p(d,"finally",g,{unsafe:!0})}},3964:function(e,t,n){"use strict";n(6697),n(1692),n(5089),n(8829),n(2092),n(7905)},8829:function(e,t,n){"use strict";var o=n(9989),i=n(2615),r=n(509),a=n(8742),s=n(9302),c=n(8734);o({target:"Promise",stat:!0,forced:n(562)},{race:function(e){var t=this,n=a.f(t),o=n.reject,l=s((function(){var a=r(t.resolve);c(e,(function(e){i(a,t,e).then(n.resolve,o)}))}));return l.error&&o(l.value),n.promise}})},2092:function(e,t,n){"use strict";var o=n(9989),i=n(2615),r=n(8742);o({target:"Promise",stat:!0,forced:n(7073).CONSTRUCTOR},{reject:function(e){var t=r.f(this);return i(t.reject,void 0,e),t.promise}})},7905:function(e,t,n){"use strict";var o=n(9989),i=n(6058),r=n(3931),a=n(7919),s=n(7073).CONSTRUCTOR,c=n(2945),l=i("Promise"),u=r&&!s;o({target:"Promise",stat:!0,forced:r||s},{resolve:function(e){return c(u&&this===l?a:this,e)}})},4043:function(e,t,n){"use strict";var o=n(9989),i=n(6308);o({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},7267:function(e,t,n){"use strict";var o=n(1735),i=n(2615),r=n(8844),a=n(8678),s=n(3689),c=n(5027),l=n(9985),u=n(981),p=n(8700),d=n(3126),g=n(4327),f=n(4684),h=n(1514),m=n(4849),v=n(7017),b=n(6100),y=n(4201)("replace"),P=Math.max,x=Math.min,C=r([].concat),E=r([].push),w=r("".indexOf),S=r("".slice),I="$0"==="a".replace(/./,"$0"),A=!!/./[y]&&""===/./[y]("a","$0");a("replace",(function(e,t,n){var r=A?"$":"$0";return[function(e,n){var o=f(this),r=u(e)?void 0:m(e,y);return r?i(r,e,o,n):i(t,g(o),e,n)},function(e,i){var a=c(this),s=g(e);if("string"==typeof i&&-1===w(i,r)&&-1===w(i,"$<")){var u=n(t,a,s,i);if(u.done)return u.value}var f=l(i);f||(i=g(i));var m,y=a.global;y&&(m=a.unicode,a.lastIndex=0);for(var I,A=[];null!==(I=b(a,s))&&(E(A,I),y);){""===g(I[0])&&(a.lastIndex=h(s,d(a.lastIndex),m))}for(var T,k="",_=0,M=0;M<A.length;M++){for(var O,R=g((I=A[M])[0]),D=P(x(p(I.index),s.length),0),F=[],j=1;j<I.length;j++)E(F,void 0===(T=I[j])?T:String(T));var L=I.groups;if(f){var B=C([R],F,D,s);void 0!==L&&E(B,L),O=g(o(i,void 0,B))}else O=v(R,s,D,F,L,i);D>=_&&(k+=S(s,_,D)+O,_=D+R.length)}return k+S(s,_)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!I||A)},9976:function(e,t,n){"use strict";var o=n(9037),i=n(2615),r=n(4872),a=n(6310),s=n(3250),c=n(690),l=n(3689),u=o.RangeError,p=o.Int8Array,d=p&&p.prototype,g=d&&d.set,f=r.aTypedArray,h=r.exportTypedArrayMethod,m=!l((function(){var e=new Uint8ClampedArray(2);return i(g,e,{length:1,0:3},1),3!==e[1]})),v=m&&r.NATIVE_ARRAY_BUFFER_VIEWS&&l((function(){var e=new p(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));h("set",(function(e){f(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=c(e);if(m)return i(g,this,n,t);var o=this.length,r=a(n),l=0;if(r+t>o)throw new u("Wrong length");for(;l<r;)this[t+l]=n[l++]}),!m||v)},3356:function(e,t,n){"use strict";var o=n(9037),i=n(6576),r=n(3689),a=n(509),s=n(382),c=n(4872),l=n(7365),u=n(7298),p=n(3615),d=n(7922),g=c.aTypedArray,f=c.exportTypedArrayMethod,h=o.Uint16Array,m=h&&i(h.prototype.sort),v=!(!m||r((function(){m(new h(2),null)}))&&r((function(){m(new h(2),{})}))),b=!!m&&!r((function(){if(p)return p<74;if(l)return l<67;if(u)return!0;if(d)return d<602;var e,t,n=new h(516),o=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,o[e]=e-2*t+3;for(m(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==o[e])return!0}));f("sort",(function(e){return void 0!==e&&a(e),b?m(this,e):s(g(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!b||v)},6265:function(e,t,n){"use strict";var o=n(9037),i=n(6338),r=n(3265),a=n(752),s=n(5773),c=n(4201),l=c("iterator"),u=c("toStringTag"),p=a.values,d=function(e,t){if(e){if(e[l]!==p)try{s(e,l,p)}catch(t){e[l]=p}if(e[u]||s(e,u,t),i[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var g in i)d(o[g]&&o[g].prototype,g);d(r,"DOMTokenList")}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e].call(r.exports,r,r.exports,i),r.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){"use strict";i.d(r,{default:function(){return bs}});var e={};function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},t.apply(this,arguments)}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,o(i.key),i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}i.r(e),i.d(e,{ArrangeAlignmentOptions:function(){return ls},ArrangeDistributeOptions:function(){return us},ArrangeFlipOptions:function(){return ds},ArrangePagecenterOptions:function(){return cs},ArrangeRotateOptions:function(){return ps},ArrangeZorderOptions:function(){return gs}});i(3964),i(6409),i(752),i(6265);var u=i(4616),p=i(683),d=i.n(p);i(4043),i(9976),i(3356);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function f(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}i(278);var h=function(){function e(e=1,t=0,n=0,o=1,i=0,r=0){if("function"==typeof e.transformRect){let a=e;e=a.a,t=a.b,n=a.c,o=a.d,i=a.e,r=a.f}else if(Array.isArray(e)){let a=e;e=a[0],t=a[1],n=a[2],o=a[3],i=a[4],r=a[5]}this.a=e,this.b=t,this.c=n,this.d=o,this.e=i,this.f=r}e.Concat2mt=function(t,n){return new e(t.a*n.a+t.b*n.c,t.a*n.b+t.b*n.d,t.c*n.a+t.d*n.c,t.c*n.b+t.d*n.d,t.e*n.a+t.f*n.c+n.e,t.e*n.b+t.f*n.d+n.f)};var t=e.prototype;return t.set=function(e,t,n,o,i,r){this.a=e,this.b=t,this.c=n,this.d=o,this.e=i,this.f=r},t.reset=function(){this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0},t.reverse=function(t=this){let n=t.a*t.d-t.b*t.c;if(0==n)return t;let o=-n;return new e(t.d/n,t.b/o,t.c/o,t.a/n,(t.c*t.f-t.d*t.e)/n,(t.a*t.f-t.b*t.e)/o)},t.setReverse=function(e){let t=this.reverse(e);this.set(t.a,t.b,t.c,t.d,t.e,t.f)},t.rotate=function(t,n){let o,i=Math.cos(t),r=Math.sin(t),a=new e(i,r,-r,i,0,0);o=n?e.Concat2mt(a,this):e.Concat2mt(this,a),this.set(o.a,o.b,o.c,o.d,o.e,o.f)},t.rotateAt=function(e,t,n,o){this.translate(e,t,o),this.rotate(n,o),this.translate(-e,-t,o)},t.translate=function(e,t,n){n?(this.e+=e*this.a+t*this.c,this.f+=t*this.d+e*this.b):(this.e+=e,this.f+=t)},t.concat=function(t,n,o,i,r,a,s){let c,l;t instanceof e?(c=t,s=n):c=new e(t,n,o,i,r,a),l=s?e.Concat2mt(c,this):e.Concat2mt(this,c),this.set(l.a,l.b,l.c,l.d,l.e,l.f)},t.is90Rotated=function(){let e=1e3*this.a;e<0&&(e*=-1);let t=1e3*this.d;t<0&&(t*=-1);let n=this.b;n<0&&(n*=-1);let o=this.c;return o<0&&(o*=-1),e<n&&t<o},t.isScaled=function(){let e=1e3*this.b;e<0&&(e*=-1);let t=1e3*this.c;t<0&&(t*=-1);let n=this.a;n<0&&(n*=-1);let o=this.d;return o<0&&(o*=-1),e<n&&t<o},t.getA=function(){return this.a},t.getB=function(){return this.b},t.getC=function(){return this.c},t.getD=function(){return this.d},t.getE=function(){return this.e},t.getF=function(){return this.f},t.scale=function(e,t,n){this.a*=e,this.d*=t,n?(this.b*=e,this.c*=t):(this.b*=t,this.c*=e,this.e*=e,this.f*=t)},t.transformXDistance=function(e){let t=this.a*e,n=this.b*e;return Math.sqrt(t*t+n*n)},t.transformYDistance=function(e){let t=this.c*e,n=this.d*e;return Math.sqrt(t*t+n*n)},t.transformDistance=function(e,t){let n=this.a*e+this.c*t,o=this.b*e+this.d*t;return Math.sqrt(n*n+o*o)},t.transformPoint=function(e,t){return[this.a*e+this.c*t+this.e,this.b*e+this.d*t+this.f]},t.transformRect=function(e,t,n,o){let i,r=[e,e,n,n],a=[t,o,t,o];for(let e=0;e<4;e++)i=this.transformPoint(r[e],a[e]),r[e]=i[0],a[e]=i[1];let s=[r[0],r[0],a[0],a[0]];for(let e=1;e<4;e++)s[0]>r[e]&&(s[0]=r[e]),s[1]<r[e]&&(s[1]=r[e]),s[2]>a[e]&&(s[2]=a[e]),s[3]<a[e]&&(s[3]=a[e]);return[s[0],s[2],s[1],s[3]]},t.getXUnit=function(){let e=this.a,t=this.b;return 0===t?Math.abs(e):0===e?Math.abs(t):Math.sqrt(e*e+t*t)},t.getYUnit=function(){let e=this.c,t=this.d;return 0===e?Math.abs(t):0===t?Math.abs(e):Math.sqrt(e*e+t*t)},t.getUnitRect=function(){return this.transformRect(0,0,1,1)},t.matchRect=function(e,t){let n=t[0]-t[2];this.a=Math.abs(n)<.001?1:(e[0]-e[2])/n,n=t[3]-t[1],this.d=Math.abs(n)<.001?1:(e[3]-e[1])/n,this.e=e[0]-t[0]*this.a,this.f=e[3]-t[3]*this.d,this.b=0,this.c=0},t.getAngle=function(){return Math.atan2(this.b,this.a)},t.toArray=function(){return[this.a,this.b,this.c,this.d,this.e,this.f]},e}();i(7267);const{PDFViewCtrl:{shared:{DebounceTaskExecutor:m},DeviceInfo:{isIOS:v}}}=u,b=u.vendors.jQuery;let y="",P=b('<input style="opacity:0;position:fixed;z-index: -1;" tabindex="-1" title="input chart"/>');b("body").append(P);let x=!1,C=new m(20);v&&(C={exec:e=>{e()}});const E=(e,t)=>{},w={onChar:E};P.on("compositionstart",(()=>{x=!0})).on("compositionend",(e=>{x=!1,w.onChar(e.originalEvent.data,e),P.val(""),y=""})).on("input",(e=>{let t=P.val();!x&&t.length>y.length&&w.onChar(t.replace(y,""),e),x?y=t:(P.val(""),y="")})).on("keydown",(e=>{(e.shiftKey&&e.ctrlKey&&90===e.keyCode||e.ctrlKey&&89===e.keyCode)&&e.preventDefault()}));const S=()=>{P.val(y="")};var I={startInput:e=>{w.onChar=e,S(),C.exec((()=>{P.focus()}))},endInput:()=>{w.onChar=E,C.exec((()=>{w.onChar===E&&P.blur()}))},refocusInput:()=>{C.exec((()=>{P.focus()}))},isCompositionInput:()=>x,getElement:()=>P,resetValue:S,setPos:(e,t)=>{P.css({left:e,top:t})}};const A=UIExtension.vendors.jQuery;let T=function(){function e(e){this.trace=!0,A(document).on("keydown",this.keydown=t=>{if(this.trace){let n=t.keyCode;if(e.skipKey(n))return;if(!I.isCompositionInput())return I.resetValue(),e.keydown(t)}}).on("keyup",this.keyup=t=>{if(this.trace){let n=t.keyCode;if(e.skipKey(n))return;if(!I.isCompositionInput())return I.resetValue(),e.keyup(t)}})}var t=e.prototype;return t.stop=function(){this.trace=!1},t.start=function(){this.trace=!0},t.destroy=function(){A(document).off("keydown",this.keydown),A(document).off("keyup",this.keyup)},e}(),k={shiftKey:1,ctrlKey:2,altKey:4,metaKey:8};const _=e=>{let t=0;for(let n in k)e[n]&&(t|=k[n]);return t},M=(e,t="Down")=>{let n;switch(e.button){case 0:n="OnLButton"+t;break;case 1:n="OnWheelButton"+t;break;case 2:n="OnRButton"+t}return n};let O={37:"up",38:"left",39:"right",40:"down",46:"Delete",67:"c",86:"v",88:"x",8:"backspace",13:"enter",27:"esc"};const{dpr:R}=u.PDFViewCtrl.shared;let D=[];function F(){for(let e of D)e.parentNode.removeChild(e);D=[]}function j(e,t,n){switch(t){case"font-family":e.handleEvent("OnFontNameChanged",{type:"WString",value:n});break;case"font-size":e.handleEvent("OnFontSizeChanged",Number(n));break;case"font-color":e.handleEvent("OnTextColorChanged","transparent"===(o=n)?0:parseInt("FF"+o.slice(1),16));break;case"font-bold":e.handleEvent("OnBoldItalicChanged",{type:"WString",value:""},n,!1,!0);break;case"font-italic":e.handleEvent("OnBoldItalicChanged",{type:"WString",value:""},!1,n,!1);break;case"font-underline":e.handleEvent("OnUnderlineChanged",n);break;case"font-strikethrough":e.handleEvent("OnCrossChanged",n);break;case"font-super-sub-script":"font-superscript"===n[0]?e.handleEvent("OnSuperScriptChanged",!0):"font-subscript"===n[0]?e.handleEvent("OnSubScriptChanged",!0):(e.handleEvent("OnSuperScriptChanged",!1),e.handleEvent("OnSubScriptChanged",!1));break;case"font-character-spacing":e.handleEvent("OnCharSpaceChanged",Number(n));break;case"paragraph-bullets":e.handleEvent("OnBulletedList",{type:"NumberingType",value:parseInt(n[n.length-1])});break;case"paragraph-numbering":e.handleEvent("OnNumberedList",{type:"BulletType",value:parseInt(n[n.length-1])});break;case"paragraph-align":"left"===n?e.handleEvent("OnAlignChanged",0):"center"===n?e.handleEvent("OnAlignChanged",1):"right"===n?e.handleEvent("OnAlignChanged",2):"justify"===n&&e.handleEvent("OnAlignChanged",3);break;case"paragraph-increase":e.handleEvent("OnInDentChanged");break;case"paragraph-decrease":e.handleEvent("OnDeDentChanged");break;case"paragraph-line-spacing":e.handleEvent("OnLineLeadingChanged",Number(n));break;case"paragraph-spacing":e.handleEvent("OnParagraphSpacingChanged",Number(n));break;case"paragraph-character-scale":e.handleEvent("OnCharHorzScaleChanged",parseInt(n))}var o}const L={Annotation:0,TextObject:1,PathObject:2,ImageObject:3,ShadingObject:4,FormXObject:5,TouchUp:6,Measure:7,DistanceObject:8,NoteObject:9,Drawing:10,EraserObject:11,FileObject:12,HighlightObject:13,PencilObject:14,FreeText:15},B={"Foxit Fixed OTF":"Courier","Foxit Sans OTF":"Helvetica","Foxit Serif OTF":"Times-Roman"};async function N(e){if(!e)return;const t=await e.getComponentByName("edit-properties");t&&t.disable()}const U={0:"page-editor:popMenu.JoinTextBoxes",1:"page-editor:popMenu.SplitTextBoxes",2:"page-editor:popMenu.LinkTextBoxes",3:"page-editor:popMenu.UnlinkTextBoxes",4:"page-editor:popMenu.SelectNone",5:"page-editor:popMenu.MaxValue",32751:"page-editor:popMenu.Undo",32752:"page-editor:popMenu.Redo",32753:"page-editor:popMenu.Cut",32754:"page-editor:popMenu.Copy",32755:"page-editor:popMenu.Paste",32756:"page-editor:popMenu.Delete",32757:"page-editor:popMenu.SelectAll",32758:"page-editor:popMenu.RightToLeft",32759:"page-editor:popMenu.LeftToRight",32760:"SuggestStart"},V=0,H=1,z=2,G=3,W=4,K=5,$={Line:0,Rectangle:1,RoundRect:2,Ellipse:3,Polyline:4,Polygon:5,Polybezier:6,Curve:7,Freedom:8},Y={Invalid:0,All:1,Text:2,Image:3,Path:4,Shading:5},J={LineCap:{1:"ProjectingSquareCap",2:"Round",3:"Butt",ProjectingSquareCap:1,Round:2,Butt:3},LineJoin:{1:"Round",2:"Bevel",3:"Miter",Round:1,Bevel:2,Miter:3}},q={0:"None",1:"Text",2:"Path",3:"Image",4:"Shading",5:"Mixed",None:0,Text:1,Path:2,Image:3,Shading:4,Mixed:5},X={2:"Text",3:"Image",4:"Path",5:"Shading",Text:2,Image:3,Path:4,Shading:5},Q={0:"Left",1:"Right",2:"Top",3:"Bottom",4:"Vertical",5:"Horizontal",Left:0,Right:1,Top:2,Bottom:3,Vertical:4,Horizontal:5},Z={0:"Left",1:"Center",2:"Right",3:"Justify",Left:0,Center:1,Right:2,Justify:3},ee={0:"Vertical",1:"Horizontal",2:"Both",Vertical:0,Horizontal:1,Both:2},te={0:"Back",1:"Front",Back:0,Front:2},ne={0:"Line",1:"Rectangle",2:"RoundRect",3:"Ellipse",4:"Polyline",5:"Polygon",6:"Polybezier",7:"Curve",8:"Freedom",9:"Unknow",Line:0,Rectangle:1,RoundRect:2,Ellipse:3,Polyline:4,Polygon:5,Polybezier:6,Curve:7,Freedom:8,Unknow:9},oe={0:"None",1:"Super",2:"Sub",None:0,Super:1,Sub:2},ie={0:"None",1:"All",2:"Text",3:"Image",4:"Path",5:"Shading",None:0,All:1,Text:2,Image:3,Path:4,Shading:5},re={0:"Left2Right",1:"Right2Left",Left2Right:0,Right2Left:1},ae={0:"Butt",1:"Round",2:"ProjectingSquareCap",Butt:0,Round:1,ProjectingSquareCap:2},se={0:"Miter",1:"Round",2:"Bevel",Miter:0,Round:1,Bevel:2},ce={PopupMenuItem_e_PopupMenuItemProperties:"Properties",PopupMenuItem_e_PopupMenuItemSetDefault:"SetDefault",PopupMenuItem_e_PopupMenuItemEditObject:"EditObject",PopupMenuItem_e_PopupMenuItemChangeOrderStartFlag:"ChangeOrderStartFlag",PopupMenuItem_e_PopupMenuItemBackward:"Backward",PopupMenuItem_e_PopupMenuItemForward:"ForwardGround",PopupMenuItem_e_PopupMenuItemBackGround:"BackGround",PopupMenuItem_e_PopupMenuItemFrontGround:"FrontGround",PopupMenuItem_e_PopupMenuItemChangeOrderEndFlag:"ChangeOrderEndFlag",PopupMenuItem_e_PopupMenuItemCut:"Cut",PopupMenuItem_e_PopupMenuItemCopy:"Copy",PopupMenuItem_e_PopupMenuItemPaste:"Paste",PopupMenuItem_e_PopupMenuItemPasteInPlace:"PasteInPlace",PopupMenuItem_e_PopupMenuItemDelete:"Delete",PopupMenuItem_e_PopupMenuItemAlignStartFlag:"AlignStartFlag",PopupMenuItem_e_PopupMenuItemAlignLeft:"AlignLeft",PopupMenuItem_e_PopupMenuItemAlignRight:"AlignRight",PopupMenuItem_e_PopupMenuItemAlignTop:"AlignTop",PopupMenuItem_e_PopupMenuItemAlignBottom:"AlignBottom",PopupMenuItem_e_PopupMenuItemAlignVertical:"AlignVertical",PopupMenuItem_e_PopupMenuItemAlignHorizontal:"AlignHorizontal",PopupMenuItem_e_PopupMenuItemAlignEndFlag:"AlignEndFlag",PopupMenuItem_e_PopupMenuItemCenterStartFlag:"CenterStartFlag",PopupMenuItem_e_PopupMenuItemCenterVertical:"CenterVertical",PopupMenuItem_e_PopupMenuItemCenterHorizontal:"CenterHorizontal",PopupMenuItem_e_PopupMenuItemCenterBoth:"CenterBoth",PopupMenuItem_e_PopupMenuItemCenterEndFlag:"CenterEndFlag",PopupMenuItem_e_PopupMenuItemDistributeStartFlag:"DistributeStartFlag",PopupMenuItem_e_PopupMenuItemDistributeVertical:"DistributeVertical",PopupMenuItem_e_PopupMenuItemDistributeHorizontal:"DistributeHorizontal",PopupMenuItem_e_PopupMenuItemDistributeEndFlag:"DistributeEndFlag",PopupMenuItem_e_PopupMenuItemSizeStartFlag:"SizeStartFlag",PopupMenuItem_e_PopupMenuItemSizeWidth:"SizeWidth",PopupMenuItem_e_PopupMenuItemSizeHeight:"SizeHeight",PopupMenuItem_e_PopupMenuItemSizeBoth:"SizeBoth",PopupMenuItem_e_PopupMenuItemSizeEndFlag:"SizeEndFlag",PopupMenuItem_e_PopupMenuItemRotateStartFlag:"RotateStartFlag",PopupMenuItem_e_PopupMenuItemRotateClockwise:"RotateClockwise",PopupMenuItem_e_PopupMenuItemRotateCounterClockwise:"RotateCounterClockwise",PopupMenuItem_e_PopupMenuItemRotateMoreOptions:"RotateMoreOptions",PopupMenuItem_e_PopupMenuItemRotateEndFlag:"RotateEndFlag",PopupMenuItem_e_PopupMenuItemFlipStartFlag:"FlipStartFlag",PopupMenuItem_e_PopupMenuItemFlipVertical:"FlipVertical",PopupMenuItem_e_PopupMenuItemFlipHorizontal:"FlipHorizontal",PopupMenuItem_e_PopupMenuItemFilpEndFlag:"FilpEndFlag",PopupMenuItem_e_PopupMenuItemShear:"Shear",PopupMenuItem_e_PopupMenuItemAddClipStartFlag:"AddClipStartFlag",PopupMenuItem_e_PopupMenuItemAddClipRectangle:"AddClipRectangle",PopupMenuItem_e_PopupMenuItemAddClipElipse:"AddClipElipse",PopupMenuItem_e_PopupMenuItemAddClipRoundRectangle:"AddClipRoundRectangle",PopupMenuItem_e_PopupMenuItemAddClipPolygon:"AddClipPolygon",PopupMenuItem_e_PopupMenuItemAddClipCurve:"AddClipCurve",PopupMenuItem_e_PopupMenuItemAddClipDrawing:"AddClipDrawing",PopupMenuItem_e_PopupMenuItemAddClipEndFlag:"AddClipEndFlag",PopupMenuItem_e_PopupMenuItemEditClip:"EditClip",PopupMenuItem_e_PopupMenuItemClearClip:"ClearClip",PopupMenuItem_e_PopupMenuItemConvert2Shape:"Convert2Shape",PopupMenuItem_e_PopupMenuItemMaxValue:"MaxValue",PopupMenuItem_e_PopupMenuItemShadingDelete:"Delete",PopupMenuItem_e_PopupMenuItemShadingInsertStartFlag:"InsertStartFlag",PopupMenuItem_e_PopupMenuItemShadingInsertLine:"InsertLine",PopupMenuItem_e_PopupMenuItemShadingInsertBessel:"InsertBessel",PopupMenuItem_e_PopupMenuItemShadingInsertEndFlag:"InsertEndFlag",PopupMenuItem_e_PopupMenuItemShadingChangeToStartFlag:"ChangeToStartFlag",PopupMenuItem_e_PopupMenuItemShadingChangeToLine:"ChangeToLine",PopupMenuItem_e_PopupMenuItemShadingChangeToBessel:"ChangeToBessel",PopupMenuItem_e_PopupMenuItemShadingChangeToEndFlag:"ChangeToEndFlag",PopupMenuItem_e_PopupMenuItemShadingClose:"Close",PopupMenuItem_e_PopupMenuItemShadingExit:"Exit",PopupMenuItem_e_PopupMenuItemShadingMaxValue:"MaxValue",PopupMenuItem_e_PopupMenuItemTextUndo:"Undo",PopupMenuItem_e_PopupMenuItemTextRedo:"Redo",PopupMenuItem_e_PopupMenuItemTextCut:"Cut",PopupMenuItem_e_PopupMenuItemTextCopy:"Copy",PopupMenuItem_e_PopupMenuItemTextPaste:"Paste",PopupMenuItem_e_PopupMenuItemTextDelete:"Delete",PopupMenuItem_e_PopupMenuItemTextDirection:"TextDirection",PopupMenuItem_e_PopupMenuItemTextDirectionL2R:"TextDirectionL2R",PopupMenuItem_e_PopupMenuItemTextDirectionR2L:"TextDirectionR2L",PopupMenuItem_e_PopupMenuItemTextSelectAll:"SelectAll",PopupMenuItem_e_PopupMenuItemPathDelete:"Delete",PopupMenuItem_e_PopupMenuItemPathInsertStartFlag:"InsertStartFlag",PopupMenuItem_e_PopupMenuItemPathInsertLine:"InsertLine",PopupMenuItem_e_PopupMenuItemPathInsertBessel:"InsertBessel",PopupMenuItem_e_PopupMenuItemPathInsertEndFlag:"InsertEndFlag",PopupMenuItem_e_PopupMenuItemPathChangeToStartFlag:"ChangeToStartFlag",PopupMenuItem_e_PopupMenuItemPathChangeToLine:"ChangeToLine",PopupMenuItem_e_PopupMenuItemPathChangeToBessel:"ChangeToBessel",PopupMenuItem_e_PopupMenuItemPathChangeToEndFlag:"ChangeToEndFlag",PopupMenuItem_e_PopupMenuItemPathClose:"Close",PopupMenuItem_e_PopupMenuItemPathAddLine:"AddLine",PopupMenuItem_e_PopupMenuItemPathAddRectangle:"AddRectangle",PopupMenuItem_e_PopupMenuItemPathAddEllipse:"AddEllipse",PopupMenuItem_e_PopupMenuItemPathAddLineDrawing:"AddLineDrawing",PopupMenuItem_e_PopupMenuItemPathExit:"Exit",PopupMenuItem_e_PopupMenuItemPathMaxValue:"MaxValue"},le="EditObject",ue="AddText",pe="AdvEditStateHandlerName";const de=(ge=(e,t)=>{t&&(Object.values(t).forEach((e=>{const t=e.target;"-1"===t.getAttribute("tabindex")&&t.removeAttribute("tabindex")})),function(e){!e.getAttribute("tabindex")&&e.setAttribute("tabindex",-1)}(e))},fe=500,he=!0,function(){var e=this,t=arguments,n=he&&!me;clearTimeout(me),me=setTimeout((function(){me=null,he||ge.apply(e,t)}),fe),n&&ge.apply(e,t)});var ge,fe,he,me;let ve=function(){function e(){this.eventObject={},this._addKeyEvent()}e.getInstance=function(){return window.Shortcut?window.Shortcut:window.Shortcut=new e};var t=e.prototype;return t.setDebugger=function(e){this.debugger=e},t._cwarn=function(){if(this.debugger)return console.warn.apply(this,arguments)},t._addTabindexEvent=function(e){if(e._hasmousedownevent_)return;const t=e._mousedown_=t=>{de(e,this.eventObject)};e.addEventListener("mousedown",t),e._hasmousedownevent_=!0},t._addEventObject=function(e,t,n){if(!t)throw Error("keys arguments is required.");const o=e._stctid||(i=(new Date).getTime(),window.performance&&"function"==typeof window.performance.now&&(i+=performance.now()),"xxyy-4xxx-yxxx-xx-sc".replace(/[xy]/g,(function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==e?t:3&t|8).toString(16)})));var i;t=(t+"").toLocaleLowerCase().replace(/ /g,""),this._addTabindexEvent(e);let r=this.eventObject[o];r||(r={}),r.target=r.target||e,r[t]&&this._cwarn("重复绑定快捷键：",e,t),r[t]=n,e._stctid=o,this.eventObject[o]=r},t._addKeyEvent=function(){let e=[],t=[];const n=()=>{let e=document.activeElement;if(["INPUT","TEXTAREA"].includes(e.nodeName)||e.hasAttribute("contenteditable")||e.hasAttribute("tabindex"))return e;const t=Object.values(this.eventObject).find((e=>e.target.hasAttribute("tabindex")));return t&&t.target},o=(n,i)=>{const r=i||n.target,a=r._stctid,s=this.eventObject[a];if(i=r.parentNode,a&&s){let o=e.concat([]),i=t.concat([]);do{const r=o.join("+"),a=i.join("+"),c=s[r],l=s[a];if(c||l)return e=o,t=i,void(c||l)(n);o.shift(),i.shift()}while(o.length+i.length)}i&&"HTML"!==i.nodeName&&o(n,i)};document.addEventListener("keydown",(i=>{let{key:r,keyCode:a}=i;if(!r)return;r="Control"===r?"ctrl":"Escape"===r?"esc":r.toLocaleLowerCase();const s=e.indexOf(r),c=t.indexOf(a);s>-1&&e.splice(s,1),c>-1&&t.splice(c,1),e.push(r),t.push(a);const l=n();o(i,l)})),document.addEventListener("keyup",(n=>{let{keyCode:o,altKey:i,ctrlKey:r,metaKey:a,shiftKey:s}=n;if(i||r||a||s){const n=t.indexOf(o);n>-1&&(e.splice(n,1),t.splice(n,1))}else e=[],t=[]}))},t.register=function(e,t,n){if(e||(e=document),!(e instanceof Node))throw Error("first arguments is not a node.");return t instanceof Array?t.forEach((t=>{this._addEventObject(e,t,n)})):this._addEventObject(e,t,n),this},t.unregister=function(e){const t=e._stctid;e.removeEventListener("mousedown",e._mousedown_),delete this.eventObject[t],delete e._stctid,delete e._hasmousedownevent_,delete e._mousedown_},e}();ve.getInstance();var be=i(5778);const ye=i.n(be)()||be,{ApplicationContextImpl:Pe,Aspect:xe,BROWSER_DETECTION:Ce,BasicIoCStrategy:Ee,BrowserInfo:we,BuiltinIntersectionObserver:Se,CLIPBOARD_DATA_TYPES:Ie,Color:Ae,DEVICE_DETACTION:Te,DebounceAsyncTaskExecutor:ke,DebounceTaskExecutor:_e,DeviceInfo:Me,Disposable:Oe,EDITABLE_ELEMENT_SHORTCUTS:Re,ExecutionContext:De,IOC_SHARED_SINGLETON:Fe,IOC_SINGLETON:je,IoCScope:Le,KEYBOARD_LOCATION:Be,KeyCodes:Ne,KeyboardImpl:Ue,KeyboardUtils:Ve,Lazy:He,Log_Levels:ze,Logger:Ge,LoggerFactory:We,MODULE_LICENSE_INFO:Ke,NoLogger:$e,PrototypeIoCStrategy:Ye,Proxy:Je,QueuedAsyncTaskExecutor:qe,Reflect:Xe,SHARED_STRATEGY:Qe,STANDARD_HTML_ELEMENTS:Ze,SYSTEM_DEFAULT_SHORTCUTS:et,Shortcut:tt,ShortcutContextImpl:nt,ShortcutEventApportunity:ot,ShortcutEventImpl:it,SingletonIoCStrategy:rt,Store:at,ThrottleAsyncTaskExecutor:st,ThrottleTaskStatus:ct,ValueStore:lt,Watcher:ut,addClass:pt,appOnly:dt,assertThat:gt,attachContextMenuEvent:ft,attachKeypressEvent:ht,browser:mt,checkHighContrast:vt,colorConvertor:bt,setThemeColor:yt,config:Pt,convertFromNumberToHex:xt,convertFromNumberToJSColor:Ct,convertFromNumberToRGBA:Et,copyText:wt,createClass:St,createClickEvent:It,createDOM:At,createDeferred:Tt,createFocusEvent:kt,cssText:_t,dayjs:Mt,debounce:Ot,dom:Rt,doms:Dt,dpr:Ft,eventPath:jt,excludeCommandInterceptor:Lt,excludeEditableElementInterceptor:Bt,extToMimeType:Nt,extendOptions:Ut,focusNeedBeOn:Vt,getCanvasPixelRatio:Ht,getDPI:zt,getKey:Gt,getPtPxRatio:Wt,getPxPtRatio:Kt,getTransparentOrColor:$t,getUniqueId:Yt,includeCommandInterceptor:Jt,interceptors:qt,invokeAddDestroyHook:Xt,invokeAllInjected:Qt,invokeDestroy:Zt,invokeInjected:en,invokePullout:tn,is360:nn,isAliAppBrowser:on,isAlt:rn,isAltLeft:an,isAltRight:sn,isAndroid:cn,isBaidu:ln,isBlackBerry:un,isChrome:pn,isChromiumEdge:dn,isCtrl:gn,isCtrlLeft:fn,isCtrlRight:hn,isDefined:mn,isDesktop:vn,isEdge:bn,isEditable:yn,isEditableElement:Pn,isEnd:xn,isEnter:Cn,isFirefox:En,isFunction:wn,isGecko:Sn,isHome:In,isHuawei:An,isHuaweiBrowser:Tn,isIE:kn,isIE10:_n,isIE10Compact:Mn,isIE8:On,isIE8Compact:Rn,isIE9Compact:Dn,isIEAtLeast11:Fn,isIOS:jn,isIOSChrome:Ln,isIPAD:Bn,isIPHONE:Nn,isIPOD:Un,isInteger:Vn,isKey:Hn,isKindle:zn,isLazy:Gn,isLiebao:Wn,isLinux:Kn,isMac:$n,isMacOS:Yn,isMatch:Jn,isMaxthon:qn,isMeta:Xn,isMetaLeft:Qn,isMetaRight:Zn,isMiPad:eo,isMiuiBrowser:to,isMobile:no,isNumber:oo,isNumberInRange:io,isNumpadEnter:ro,isOpera:ao,isQQ:so,isQuirksMode:co,isRunningInBrowser:lo,isRunningInWorker:uo,isSafari:po,isSamePoint:go,isShift:fo,isShiftLeft:ho,isShiftPressedKey:mo,isShiftRight:vo,isSougou:bo,isSpace:yo,isSquaredNumber:Po,isStandardEnter:xo,isString:Co,isTablet:Eo,isTeamsAndroid:wo,isTouchDevice:So,isChromebook:Io,isUC:Ao,isValidNumber:To,isValidRange:ko,isValidRotationAngle:_o,isWeChat:Mo,isWebOS:Oo,isWebkit:Ro,isWindows:Do,isXiaomi:Fo,keyCodeToKey:jo,keyboardStatus:Lo,match:Bo,matchers:No,noop:Uo,notImplemented:Vo,observeResize:Ho,onTap:zo,preventDefaultInterceptor:Go,preventFastClickByKeydown:Wo,removeClass:Ko,setLogLevel:$o,simulateKey:Yo,singletonCreator:Jo,standardColorAsARGBNumber:qo,stopPropagationOnShortcutEvent:Xo,strLogLevel2Num:Qo,toggleClassByFlag:Zo,toggleLogOff:ei,unsupported:ti,useJQuery:ni,diffRender:oi,kebabCaseToPascalCase:ii}=ye.commons;function ri(e,t,n,o,i,r){const a=e.target;if(!(a==t.getElement()[0]||0==n||jn&&"div"===a.localName&&a.isContentEditable)){if("input"===a.localName||"textarea"===a.localName||a.isContentEditable)return"value"==a.name||a.classList.contains("fv__ui-dropdown-editor")?void i():(i(),void r());o(),t.getElement().focus()}}const{copyText:ai}=u.PDFViewCtrl.commons;function si(e,t,n){const o=[];for(let i of t){const{name:t,enable:r,id:a,subItems:s}=i;let c="";if("-"===t||"touchup"===n&&0===t)o.push({type:"separator"});else{let n={text:U[t],id:a,enable:r,shortcut:c,onClick(){e.triggerTUPopMenuAction(a).then((()=>{if(![32753,32754].includes(t))return;let n=e.doc;n.api.handleTouchUpEvent(n.getId(),"GetClipboardText").then((e=>{ai(e)}))}))}};s&&(contentSubItems=si(e,s),n.subMenu=contentSubItems),o.push(n)}}return o}function ci(e,t,n,o,i,r){let a=si(t,i,n);const{x:s,y:c}=document.querySelector(".fv__ui-pdfviewer").getBoundingClientRect();e.popMenu(o.x+s,o.y+c,a)}var li=i(3279),ui=i.n(li);function pi(e){if("clientX"in e)return e.clientX;switch(e.type){case"touchstart":case"touchmove":return e.touches[0].clientX;case"touchend":case"touchcancel":return e.changedTouches[0].clientX}}function di(e){if("clientY"in e)return e.clientY;switch(e.type){case"touchstart":case"touchmove":return e.touches[0].clientY;case"touchend":case"touchcancel":return e.changedTouches[0].clientY}}const gi=u.vendors.jQuery,fi=u.PDFViewCtrl,hi=u.UIEvents,{Hammer:mi}=u.vendors,{isTouchDevice:vi}=fi.DeviceInfo,{PDFViewCtrl:{commons:{copyText:bi},shared:{createDeferred:yi},DeviceInfo:{isMobile:Pi,isTablet:xi}}}=u;let Ci=Promise.resolve(),Ei=0;const wi=(e,t="OnKeyDown")=>Ci=Ci.then((n=>Gi.trigger(t,[e.keyCode])));let Si=!0,Ii=!1;const Ai={3:"nesw-resize",0:"ns-resize",2:"nwse-resize",1:"ew-resize",4:"move"};let Ti,ki="touchup",_i=!1,Mi="";const Oi=()=>"findReplace"===ki&&Ti&&0===Ti.pdfViewer.currentPDFDoc.checkPermission(fi.PDF.constant.User_Permissions.modify);let Ri=function(e){function n(t){var n;return(n=e.call(this,t)||this).destroyHooks=[],n.canScroll=!0,n.rectsCache=[],n.index=-1,n.ocrCache=[],n.disableToggleCaret=!1,n.throttleRender=function(e,t=50){var n=null;return function(){var o=this,i=arguments;n||(n=setTimeout((function(){e.apply(o,i),n=null}),t))}}((()=>{n.pdfViewer.redraw(1,0)})),n}l(n,e),n.getStateName=function(){return"touch-up-editor"},n.setType=function(e){ki=e,F()},n.isAddingText=function(){return _i},n.activateType=function(e,t,o,i,r){n.setType(o),Ti=e,_i=i,ji(t,1,0).then((t=>{let n="findReplace"==ki?"touchup":ki;e.getPDFDocRender().then((e=>{Gi.setDocRender(e,"touchup"),Gi.trigger("OnActivate",[n,i]).then((e=>r&&Gi.trigger("SelectContent",r)))}))}))},n.joinSplit2EditText=function(e,t){return n.setType("touchup"),Ti=e,ji(t,1,0).then((e=>Gi.trigger("JoinSplitToEditText")))},n.getType=function(){return ki},n.doubleTapHandle=function(e){return Gi.trigger("OnLButtonDoubleClick",Gi.getArgs(Gi.getPageIndex(e.srcEvent),e.srcEvent,0,-1))},n.panEndHandle=function(e){e=e.srcEvent;let t=M(e,"Up"),n=Gi.getPageIndex(e);-1!==n&&Gi.trigger(t,Gi.getArgs(n,e),2)},n.panMoveHandle=function(e){e=e.srcEvent;let t=Gi.getPageIndex(e);return-1!==t?Gi.trigger("OnMouseMove",Gi.getArgs(t,e),1):Promise.resolve()},n.panStartHandle=function(e){return Gi.trigger("OnLButtonDown",Gi.getArgs(Gi.getPageIndex(e.srcEvent),{clientX:e.srcEvent.clientX-e.deltaX,clientY:e.srcEvent.clientY-e.deltaY}))};var o=n.prototype;return o.goToPage=function(e,t,n){if(!this.docRender)return;let o=this.docRender.getPDFPageRender(e);if(!o)return;const[i,r]=o.getPDFPointFromClientPoint(t,n,!0),a=this.docRender.pdfViewer;let s=this.uiContainerRect.height||0;a.goToPage(e,r-s/4,i,!1)},o.docHandler=function(e){this.docRender=e;let t=this.pdfViewer;Gi.setDocRender(this.docRender,"touchup"),Gi.trigger("restartTouchup").then((e=>{ji(t,1,0).then((e=>{let t="findReplace"==ki?"touchup":ki;Gi.trigger("OnActivate",[t,_i])}))})),this.setEditorNotifier(),this.keyMgr=new T({skipKey:e=>{let t=document.activeElement!==I.getElement()[0];return t?!O[e]&&void 0:t},keydown:e=>{e.ctrlKey;let t=this.handleSpecialKesEvent(e);if([37,38,39,40].indexOf(e.keyCode)>=0&&(e.preventDefault(),e.stopPropagation()),27==e.keyCode&&Gi.trigger("ExitEditing",[!1]),8==e.keyCode&&Gi.trigger("OnChar",[String.fromCharCode(e.keyCode)]),t)return!1;wi(e)},keyup:e=>{e.ctrlKey,13==e.keyCode?Gi.trigger("OnChar",[String.fromCharCode(e.keyCode)]):wi(e,"OnKeyUp")}}),gi(document).on("focusin",(e=>{ri(e,I,Ei,(()=>this.keyMgr.start()),(()=>this.keyMgr.stop()),(()=>i()))})),gi(document).on("mouseup",this.cancelDown=e=>{if(e.target.classList&&e.target.classList.contains("fv__pdf-doc-handler-container")||gi(e.target).hasClass("icon-btn")||gi(e.target).parents('[name="fv--plugin-PageEditor-add-shape"]').length||gi(e.target).parents(".icon-btn").length||gi(e.target).parents('[name="edit-properties"]').length)return;let t=M(e,"Up");return setTimeout((()=>{this.docRender&&Gi.trigger(t,Gi.getArgs(Gi.getPageIndex(e),e)).then((e=>this.actionFinalUpdate()))}),200)}),this.setEditorNotifier();const o=(n=!0)=>{this.uiContainerRect=e.pdfViewer.$ui[0].parentElement.getBoundingClientRect();ji(t,1,0);Mi=""};[fi.Events.fitWidthResizeViewport,fi.Events.zoomToSuccess,fi.Events.afterDocumentRotation].forEach((e=>{this.destroyHooks.push(t.addEventListener(e,o))}));const i=()=>{Gi.trigger("ExitEditing",[!1]);const e={clientX:50,clientY:150};Gi.trigger("OnLButtonUp",Gi.getArgs(Gi.getPageIndex(e),e),2)};let r=this.docRender.doc.getTouchup();this.destroyHooks.push(t.addEventListener(hi.editPropertiesAction,(({name:e,value:t})=>{vi&&("font-family"!==e&&"paragraph-numbering"!==e&&"paragraph-align"!==e&&"paragraph-increase"!==e&&"paragraph-decrease"!==e||(this.disableToggleCaret=!0)),j(r,e,t)})),t.addEventListener("restartTouchup",(()=>{Gi.trigger("restartTouchup").then((e=>{ji(t,1,0).then((e=>{let t="findReplace"==ki?"touchup":ki;Gi.trigger("OnActivate",[t,!1])}))}))})),t.addEventListener("exitTouchup",i),t.addEventListener(hi.switchStateHandler,i),vi?t.addEventListener("refocusInput",(()=>{this.disableToggleCaret=!1,I.refocusInput()})):()=>{});let a=this.$handler=e.$container.siblings(".fv__pdf-doc-handler-container");a.css("z-index",80);const s=a.get(0);if(jn){const e=()=>{this.disableTouchEndEvent?this.disableTouchEndEvent=!1:(this.tempInput=document.createElement("div"),this.tempInput.contentEditable=!0,this.tempInput.style="pointer-events: none;position:absolute;left:0;top:0;right:0;bottom:0;opacity: 0.001;",s.appendChild(this.tempInput),this.tempInput.focus({preventScroll:!0}))};s.addEventListener("touchend",e),this.destroyHooks.push((()=>{s.removeEventListener("touchend",e),this.tempInput&&this.tempInput.parentElement&&this.tempInput.remove()}))}const c=this.hammer=new mi.Manager(s,{recognizers:[[mi.Pan,{direction:mi.DIRECTION_ALL}]],time:150});let l=gi('<div class="touchup_handler_container"></div>'),u=gi('<canvas class="touchup_handler" style="backdrop-filter: url(#touchup-revert-bg)"></canvas>');l.append(u),a.before(l),this.destroyHooks.push((()=>{a.css("z-index",0),a.off("mousemove mousedown mouseup contextmenu")})),a.on("mousemove",this.hover=e=>{if(Gi.cacheMouseCoord(e),Si){let t=Gi.getPageIndex(e);-1!==t&&Gi.trigger("OnMouseMove",Gi.getArgs(t,e),1)}}).on("mousedown",this.RButtionDown=e=>{2==e.button&&(this.$handler.find(".touchup_rect").remove(),Gi.trigger("OnRButtonDown",Gi.getArgs(Gi.getPageIndex(e),e),0))}).on("mouseup",this.RButtionUp=e=>{2==e.button&&Gi.trigger("OnRButtonUp",Gi.getArgs(Gi.getPageIndex(e),e),0)}).on("contextmenu",(e=>!1)),window.addEventListener("wheel",this.cancelWheel=e=>{this.canScroll||e.preventDefault()},{passive:!1}),this.destroyHooks.push((()=>{a.css("z-index",0),gi(document).off("mouseup",this.cancelDown),a.off("mousemove",this.hover),a.off("mousedown",this.RButtionDown),a.off("mouseup",this.RButtionUp),window.removeEventListener("wheel",this.cancelWheel)})),c.add(new mi.Tap({event:"doubletap",taps:2})),c.add(new mi.Tap({event:"singletap"})),c.add(new mi.Press);try{c.get("doubletap").recognizeWith("singletap"),c.get("singletap").requireFailure("doubletap"),c.on("hammer.input",(e=>{if(!vi&&!Oi()){if("pointerdown"==e.srcEvent.type){Si=!1,e=e.srcEvent;let t=M(e);return this.$handler.find(".touchup_rect").remove(),void Gi.trigger(t,Gi.getArgs(Gi.getPageIndex(e),e))}if("pointerup"==e.srcEvent.type){Si=!0,e=e.srcEvent;let t=M(e,"Up");Gi.trigger(t,Gi.getArgs(Gi.getPageIndex(e),e))}}})),c.on("singletap",(e=>{if(!vi)return;if(this.$handler.find(".touchup_rect").remove(),e=e.srcEvent,Oi())return;this.LButtionEvent=e;let t=M(e),n=Gi.getPageIndex(e),o=Gi.trigger(t,Gi.getArgs(n,e));t=M(e,"Up"),o.then((o=>Gi.trigger(t,Gi.getArgs(n,e),2))),o.then((t=>{this.goToPage(n,pi(e),di(e))}))})),c.on("panstart",(e=>{this.disableTouchEndEvent=!0,this.canScroll=!1,Oi()||(this.LButtionEvent=e.srcEvent,this.$handler.find(".touchup_rect").remove(),n.panStartHandle(e))})),c.on("panmove",(e=>{n.panMoveHandle(e)})),c.on("panend",(e=>{this.canScroll=!0,n.panEndHandle(e)})),c.on("doubletap",(e=>{Oi()||(this.LButtionEvent=e.srcEvent,this.$handler.find(".touchup_rect").remove(),n.doubleTapHandle(e))})),c.on("press",(e=>{vi&&(this.disableTouchEndEvent=!0,Gi.trigger("OnRButtonUp",Gi.getArgs(Gi.getPageIndex(e.srcEvent),e.srcEvent),0))}))}catch(e){console.error(e)}o(!1)},o.actionFinalUpdate=function(e){},o.setEditorNotifier=function(){let e={gotoPageView:e=>{let t=JSON.stringify(e);if(Mi==t)return;Mi=t;let{index:o,left:i,top:r}=e,a=this.uiContainerRect.height,s=this.pdfViewer.getPDFDocRender().getPDFPageRender(0),c=s.page;if(c){let[e,t]=c.reverseDeviceOffset([a,0],s.scale,s.rotate);r+=e/2}"findReplace"==n.getType()?this.pdfViewer.eventEmitter.emit("find-replace-goto",{pageIndex:o,top:r,left:i}):this.pdfViewer.goToPage(o,r,i)},replaceAllProgress:({pageIndex:e,total:t})=>{-1===e?this.pdfViewer.eventEmitter.emit("find-replace-abort"):this.pdfViewer.eventEmitter.emit("find-replace-progress",{pageIndex:e,total:t})},updateTextFormat:e=>{!async function(e,t,n,o,i){const r={fontFamily:{value:B[o]||o},fontSize:{value:Math.round(100*t.fontSize)/100},fontColor:{enable:!0,value:t.wordColor},fontBold:{value:t.isBold},fontItalic:{value:t.isItalic},fontUnderline:{value:t.isUnderline},fontStrikethrough:{value:t.isCross},fontSuperSubScript:{value:["","font-superscript","font-subscript"][t.scriptType]},fontCharacterSpacing:{value:t.charSpace},fontWritingDirection:{enable:!1},paragraphBullets:{enable:!0},paragraphNumbering:{enable:!0},paragraphAlign:{enable:!0,value:["left","center","right","justify"][n.alignment]},paragraphIncrease:{enable:!0},paragraphDecrease:{enable:!0},paragraphLineSpacing:{value:n.lineLeading},paragraphSpacing:{value:n.secSpace.toFixed(2)},paragraphWordSpacing:{enable:!1},paragraphCharacterScale:{value:t.horzScale},bulletType:i.bulletType,numberType:i.numberType};if(!e)return;let a=await e.getComponentByName("edit-properties");a&&(a.enable(),a.setHost(r,L.TouchUp))}(Ti,e.wordProp,e.secProps,e.fontName,e)},toggleCaret:(e,t,n,o)=>{if(!vi||!this.disableToggleCaret)if(e)I.startInput(((e,t)=>Gi.trigger("OnChar",[e]))),Ei=3,jn&&this.tempInput&&this.tempInput.remove();else{if(Ei=0,jn)return;I.endInput()}},showPopupMenu:({position:e,menu:t,pageIndex:n})=>{let o=this.docRender.doc.getTouchup();ci(Ti,o,ki,e,t)},showMessageBox:({id:e,flag:t,data:n})=>{1===e?(F(),Ti.alert(Ti.i18n.t("page-editor:alert.joinFailed"))):2===e&&(F(),Ti.alert(Ti.i18n.t("page-editor:alert.notAvaliable")))},updateView:({bitmapInfo:e,revertRects:t,redraw:n})=>{this.displayImage(e,t),"joinSplit"===ki&&(Ii=!1,this.updateJoinSplitBtns())},enterEdit:()=>{this.pdfViewer.eventEmitter.emit(hi.paragraphTextEnterEdit),async function(e){if(!e)return;const t=await e.getComponentByName("edit-properties");t&&t.enable()}(Ti),I.startInput(((e,t)=>Gi.trigger("OnChar",[e]).then((e=>Gi.trigger("OnMouseMove",Gi.getArgs(Gi.getPageIndex(t),t,0,-1)))))),this.throttleRender(),Ei=3,jn&&this.tempInput&&this.tempInput.remove()},exitEdit:()=>{this.pdfViewer.eventEmitter.emit(hi.paragraphTextExitEdit),Ei=0,Ti.getComponentByName("edit-properties").then((e=>{e&&e.hostType===L.TouchUp&&N(Ti)})),Bi(Ti),this.throttleRender()},cursorChange:e=>{this.$handler&&(7==e?(this.$handler.css("cursor",""),this.$handler.addClass("fv__cursor-text")):(this.$handler.removeClass("fv__cursor-text"),this.$handler.css("cursor",Ai[e]||"")),!_i||void 0!==e&&5!==e&&4!==e||this.$handler.css("cursor",_i?"text":""))},progressRelease:()=>{},progressCreate:([e,t])=>{},progressSetText:([e,t])=>{},progressSetRange:([e,t,n])=>{},progressSetCurrentValue:([e,t])=>{},progressDestroy:([e])=>{},fontNameChange:e=>{},docModified:()=>{this.docRender&&this.docRender.doc.setDocModified()},OnActivate:ui()((()=>{this.pdfViewer.eventEmitter.emit(hi.paragraphTextOnActivate)}),50),OnDeactivate:()=>{this.pdfViewer.eventEmitter.emit(hi.paragraphTextOnDeactivate)},pageWithoutText:ui()((e=>{const t=Ti;e===this.docRender.currentPageNumber&&t.getPDFPageRender(e).then((e=>{this.ocrPage(e)}))}),300),contentChange:()=>{this.throttleRender(),this.docRender&&this.docRender.doc.setDocModified()},onTextInputReachesLimit:ui()((e=>{Ti.alert(Ti.i18n.t("page-editor:alert.textInputReachesLimit"))}),300)};this.docRender.doc.getTouchup().setNotifier(e)},o.displayImage=function(e,t){let n=Ti.pdfViewer.getPDFDocRender();if(!n.matrixes)return;let{left:o,top:i}=n.matrixes.uiRect,{width:r,height:a,buffer:s,left:c,top:l}=e,u=n.$ui.find(".touchup_handler");if(!s||!u.length||o!=c||i!=l)return;let p=n.$ui[0].getBoundingClientRect(),d=n.pdfViewer.$ui[0].parentElement;this.uiContainerRect=d.getBoundingClientRect();n.$ui.find(".touchup_handler_container").css({left:c-p.left+"px",top:l-p.top+"px",width:d.clientWidth+"px",height:d.clientHeight+"px"});let g=u[0];g.width=r,g.height=a;let f=g.getContext("2d");f.clearRect(0,0,r,a);let h=new(Uint8ClampedArray||Uint8Array)(s),m=f.createImageData(r,a);m.data.set(h),F(),function(e,t){try{t.getViewMode().getVisibleIndexes();let n=t.$ui.find(".touchup_handler")[0].getBoundingClientRect(),o=[],i=t.$ui.find(".fv__pdf-doc-handler-container");const r=t.$ui[0].getBoundingClientRect();for(let t of e){let e=document.createElement("div");e.style.webkitBackdropFilter="invert(1)",e.style.backdropFilter="invert(1)",e.style.position="absolute",e.style.left=t.left/R+n.left-r.left+"px",e.style.top=t.bottom/R+n.top-r.top+"px",e.style.width=(t.right-t.left)/R+"px",e.style.height=(t.top-t.bottom)/R+"px",i.append(e),o.push(e)}D=o}catch(e){console.log("revert error",e)}}(t,n),f.putImageData(m,0,0)},o.destroyDocHandler=function(){Gi.trigger("OnDeactivate"),this.destroyHooks.forEach((e=>e())),this.docRender.$ui.find(".touchup_handler_container").remove(),this.keyMgr.destroy(),this.hammer.destroy(),"touchup"===ki&&N(Ti),F(),this.ocrCache=[],this.docRender=null,this.$handler=null},o.handleSpecialKesEvent=function(e){let t=null,n=this.docRender.doc.getTouchup();if(e.ctrlKey||e.metaKey)switch(e.keyCode){case 67:t=n.handleEvent("DoCopy");break;case 86:t=n.handleEvent("DoPaste");break;case 90:e.shiftKey?n.handleEvent("Undo",!1):n.handleEvent("Undo",!0);break;case 89:n.handleEvent("Undo",!1)}return t},o.updateJoinSplitBtns=function(){if(!this.docRender)return;let e=this.docRender.doc.getTouchup();e.handleEvent("GetEnableStatus",{type:"JoinSpiltOperationType",value:V}).then((e=>{Ti.getComponentByName("join-split-join").then((t=>{t&&(e?t.enable():t.disable())}))})),e.handleEvent("GetEnableStatus",{type:"JoinSpiltOperationType",value:H}).then((e=>{Ti.getComponentByName("join-split-split").then((t=>{t&&(e?t.enable():t.disable())}))})),e.handleEvent("GetEnableStatus",{type:"JoinSpiltOperationType",value:z}).then((e=>{Ti.getComponentByName("join-split-link").then((t=>{t&&(e?t.enable():t.disable())}))})),e.handleEvent("GetEnableStatus",{type:"JoinSpiltOperationType",value:G}).then((e=>{Ti.getComponentByName("join-split-unlink").then((t=>{t&&(e?t.enable():t.disable())}))})),e.handleEvent("GetEnableStatus",{type:"JoinSpiltOperationType",value:W}).then((e=>{Ti.getComponentByName("join-split-select-none").then((t=>{t&&(e?t.enable():(t.disable(),F()))}))})),e.handleEvent("GetEnableStatus",{type:"JoinSpiltOperationType",value:K}).then((e=>{Ti.getComponentByName("join-split-close").then((t=>{t&&(e?t.enable():t.disable())}))}))},o.ocrPage=function(e){const t=e.index;if(this.ocrCache.indexOf(t)>-1)return;this.ocrCache.push(t);const n=Ti,o=e.page;if(n.customs&&n.customs.isDisableButton&&n.customs.isDisableButton("edit-text"))return;const i=this.getEditingData(),r=this.getScannedEditingSettingData(),a=()=>{const t=r.makeAllPages?"":e.index+1;n.customs&&n.customs.convert&&n.customs.convert.doConvertScannedDocument({languages:r.languages.join(","),is_editable:!0,to_find_all_suspects:!1,to_recognize_line_as_path:!1,pageRange:t},(e=>{let o=Promise.resolve();t&&t>1&&(o=n.goToPage(t-1,0,0,!1)),o.then((()=>n.getRootComponent())).then((e=>{e.querySelector("edit-text").controller.handle()}))}))};i.alert?n.$confirm({message:"page-editor:confirm.content",id:o.doc.id+"-edit-text-"+e.index,again:!0,autoHide:!1,againText:"page-editor:confirm.againText",level:"question",customBtns:[{id:"setting",text:"page-editor:confirm.buttons.setting"},{id:"recognize",text:"page-editor:confirm.buttons.recognize"},{id:"no",text:"page-editor:confirm.buttons.no"}]}).then((e=>{if("setting"!==e)return a(),!0;n.customs&&n.customs.showScannedEditing&&n.customs.showScannedEditing()})):i.recognize&&a()},o.getEditingData=function(){let e=localStorage.getItem("EDITING_DATA");return e=t(Ti.customs&&Ti.customs.sendGAEvent&&Ti.customs.getPreferencesDefaultData&&Ti.customs.getPreferencesDefaultData("EditingDefaultData")||{},e?JSON.parse(e):{}),e},o.getScannedEditingSettingData=function(){let e=localStorage.getItem("SCANNED-EDITING-SETTING-DATA");return e=t(Ti.customs&&Ti.customs.sendGAEvent&&Ti.customs.getPreferencesDefaultData&&Ti.customs.getPreferencesDefaultData("ScannedDocumentSettingDefaultData")||{},e?JSON.parse(e):{}),e},n}(fi.IStateHandler);var Di=Ri;let Fi=0;function ji(e,t=0,n=1e3){let o=e.getPDFDocRender();return o&&delete o.matrixes,"page-editor"!==e.getStateHandlerManager().currentStateHandler.getStateName()&&1!=t||Fi?Promise.resolve():new Promise((e=>Fi=setTimeout(e,n))).then((()=>{let n=e.$ui[0].parentElement,i=n.getBoundingClientRect();if(!o)return Fi=0,Promise.resolve();let r=o.doc,a=o.getContainerVisiblePageIndexes();return a.length?a.reduce((async(e,t)=>{let n=await e,r=o.getPDFPageRender(t);if(r.isRendering()&&await r.waitRendered(),await r.getPDFPage()){let e=r.$ui[0].getBoundingClientRect(),o=e.x-i.x,c=e.y-i.y,l=r.page.getDeviceMatrix(r.rotate),u=r.getScale();l.scale(u,u);let p=new h(l);l.translate(o,c);let d=(a=e,s=i,{left:Math.max(a.left,s.left),top:Math.max(a.top,s.top),right:Math.min(a.right,s.right),bottom:Math.min(a.bottom,s.bottom)});d={left:d.left-i.x,right:d.right-i.x,top:d.top-i.y,bottom:d.bottom-i.y},e={left:e.left-i.x,right:e.right-i.x,top:e.top-i.y,bottom:e.bottom-i.y},n[t]=[u,r.rotate,l,d,e,p]}var a,s;return n}),Promise.resolve({})).then((e=>(e.visibleIndexes=a,e.uiRect={left:i.left,top:i.top,width:n.clientWidth,height:n.clientHeight},e.dpr=devicePixelRatio||1,o.matrixes=e,Fi=0,r.api.updateWinlessMatrix(r.id,t,e)))):(Fi=0,Promise.resolve())})).finally((()=>{Fi=0}))}function Li(e,t){return{type:e,value:t}}async function Bi(e){e.getRootComponent().then((async t=>{const n=t.getComponentByName("edit-text"),o=t.getComponentByName("join-split"),i=t.getComponentByName("edit-tab"),r=await e.getStateHandlerManager();let a=t.getComponentByName("joinsplit-tab");if(!a){const e=t.getComponentByName("toolbar-tabs"),n=t.getComponentByName("toolbar-tab-bodies"),o=t.getComponentByName("fv--protect-tab-paddle"),i=o?o.index():0;n&&n.insert('<paddle exclude-devices="tablet" name="fv--joinsplit-tab-paddle" visible="false">\n                <group-list name="joinsplit-toolbar-group-list">\n                    <group name="joinsplit-tab-group-join">\n                        <page-editor:join></page-editor:join>\n                        <page-editor:split></page-editor:split>\n                    </group>\n                    <group name="joinsplit-tab-group-link">\n                        <page-editor:link></page-editor:link>\n                        <page-editor:unlink></page-editor:unlink>\n                    </group>\n                    <group name="joinsplit-tab-group-select">\n                        <page-editor:select-none></page-editor:select-none>\n                    </group>\n                    <group name="joinsplit-tab-group-exit">\n                        <page-editor:edit-text @async class="fv__ui-toolbar-show-text-button"></page-editor:edit-text>\n                        <page-editor:close></page-editor:close>\n                    </group>\n                </group-list>\n            </paddle>',i+1),e&&e.insert('<gtab group="toolbar-tab" body="fv--joinsplit-tab-paddle" name="joinsplit-tab" text="toolbar.tabs.join&split.title" @portfolio.unsupport visible="false"></gtab>',6),a=t.getComponentByName("joinsplit-tab")}const s=r.getCurrentStates();if(s!==Di||s.isAddingText())n&&n.deactive(),o&&o.deactive(),a&&a.hide();else{let e=Di.getType();"touchup"===e||"findReplace"==e?(i&&i.active(),n&&n.active(),o&&o.deactive(),a&&a.hide()):"joinSplit"===e&&(n&&n.deactive(),a&&a.show(),a&&a.active(),o&&o.active())}const c=t.getComponentByName("fv--plugin-PageEditor-add-text");c&&(s===Di&&s.isAddingText()?c.active():c.deactive())}))}function Ni(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var o=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}(t,void 0!==n&&n<o?n:o)}return e(t,n)}const{getClientX:Ui,getClientY:Vi}=PDFViewCtrl.shared,Hi=u.UIEvents;let zi=function(){function e(){this.cache={}}var t=e.prototype;return t.destroy=function(){this.docRender=null},t.setDocRender=function(e,t="pageEditor"){this.docRender=e,this.type=t},t.getPageIndex=function(e){let t=this.docRender.pagesRender.pageDOMs.findIndex((t=>{let n=t.getBoundingClientRect(),o=Ui(e),i=Vi(e);return void 0===o&&(o=this._clientX),void 0===i&&(i=this._clientY),o>n.left&&o<n.right&&i>n.top&&i<n.bottom}));return t<0?0:t},t.getArgs=function(e=-1,t=null,n=0,o=-1){let i=this.docRender,r=[];if(r.push(Li("EditorPage",e)),t){let e=i.pdfViewer.$ui[0].parentElement.getBoundingClientRect();const n=Ui(t),o=Vi(t);let a=devicePixelRatio||1,s=(n-e.x)*a,c=(o-e.y)*a;r.push(Li("PointF",[s,c]))}return n&&r.push(n),-1!==o&&r.push(o),r},t.trigger=function(e,t=[],n=0){if(!this.docRender)return;let{doc:o,pdfViewer:i}=this.docRender;const r=document.activeElement;let a=r===I.getElement()[0];const s=r&&r.getComponent&&r.getComponent();if(s&&"contextmenu"===s.nodeName&&(a=!0),"pageEditor"==this.type){let r=[o.id,e,n].concat(Ni(f,t));return o.api.handlePageEditorEvent.apply(o.api,r).then((()=>{["OnKeyUp","OnLButtonUp"].includes(e)&&setTimeout((()=>{a=document.activeElement===I.getElement()[0],o.api.handlePageEditorEvent.apply(o.api,[o.id,"GetUndoManager",void 0,a]).then((e=>{i.eventEmitter.emit(Hi.undoRedoStoreChange,e,"pageEditor",a)}))}),500)}))}{"OnChar"===e&&i.eventEmitter.emit(Hi.paragraphTextOnChar,{char:t[0]});let n=[o.id,e].concat(Ni(f,t));return o.api.handleTouchUpEvent.apply(o.api,n).then((t=>{["OnKeyUp","OnLButtonUp"].includes(e)&&o.api.handleTouchUpEvent.apply(o.api,[o.id,"GetUndoManager"]).then((e=>{i.eventEmitter.emit(Hi.undoRedoStoreChange,e,"touchUp")}))}))}},t.cacheMouseCoord=function(e){this._clientX=Ui(e),this._clientY=Vi(e)},t.clearPageEditorTouchupRedo=function(e,t){const{doc:n,pdfViewer:o}=this.docRender,i=document.activeElement===I.getElement()[0],r=this.cache.pageEditor,a=(r?r[0].length:0)+(r?r[1].length:0),s=t[0].length,c=t[1].length;a&&a!==s+c?n.api.handlePageEditorEvent.apply(n.api,[n.id,"ClearRedo",void 0,i]).then((e=>{o.eventEmitter.emit(Hi.undoRedoStoreChange,e,"pageEditor",i)})):"pageEditor"===e&&o.eventEmitter.emit(Hi.undoRedoStoreChange,t,"pageEditor",i);const l=this.cache.touchup,u=(l?l[0].length:0)+(l?l[1].length:0),p=t[0].length,d=t[1].length;u&&u!==p+d?n.api.handleTouchUpEvent.apply(n.api,[n.id,"ClearRedo"]).then((e=>{o.eventEmitter.emit(Hi.undoRedoStoreChange,e,"touchUp")})):"touchup"===e&&o.eventEmitter.emit(Hi.undoRedoStoreChange,t,"touchUp"),this.cache[e]=t},e}();var Gi=new zi,Wi=i(7665),Ki=i.n(Wi),$i=i(8649),Yi=i.n($i),Ji=i(7297),qi=i.n(Ji),Xi=i(4945),Qi=i.n(Xi),Zi={1:"crosshair",3:"nesw-resize",4:"ns-resize",5:"nwse-resize",6:"ew-resize",11:"no-drop",24:"text"};const er=UIExtension.vendors.jQuery;let tr=er('<div class="pe_tip"></div>');er("body").append(tr);var nr=tr;const or={Courier:{regular:"Courier",bold:"Courier-Bold",italic:"Courier-Oblique",bolditalic:"Courier-BoldOblique"},Helvetica:{regular:"Helvetica",bold:"Helvetica-Bold",italic:"Helvetica-Oblique",bolditalic:"Helvetica-BoldOblique"},"Times-Roman":{regular:"Times-Roman",bold:"Times-Bold",italic:"Times-Italic",bolditalic:"Times-BoldItalic"}},ir={"Foxit Fixed OTF":"Courier","Foxit Sans OTF":"Helvetica","Foxit Serif OTF":"Times-Roman",FoxitSansOTF:"Helvetica"};const rr={popMenu:{activeObject:null,editingObject:null,position:null,pageIndex:null},addingText:!1,shapeElement:null};function ar(){return rr.addingText}function sr(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function cr(e){const t=e.length,n=[];for(let o=0;o<t-1;o++)n.push({fromColor:e[o].color,from:e[o].offset,toColor:e[o+1].color,to:e[o+1].offset});return n}function lr(e){return"transparent"===e?0:parseInt("FF"+e.slice(1),16)}function ur(e,t="HTML",n=1){var o,i,r,a="";let s;switch("number"==typeof e&&(e=["int",e]),e[0]){case"int":o=(16711680&e[1])>>16,i=(65280&e[1])>>8,r=255&e[1];break;case"T":o=0,i=0,r=0,n=0;break;case"G":o=i=r=255*e[1];break;case"RGB":o=255*e[1],i=255*e[2],r=255*e[3];break;case"CMYK":o=(1-e[4])*(1-e[1])*255,i=(1-e[4])*(1-e[2])*255,r=(1-e[4])*(1-e[3])*255;break;case"r":s=e.match(/rgba?\((\d*),\s*(\d*),\s*(\d*),?\s*([\.0-9]*)?\)/),o=+s[1],i=+s[2],r=+s[3];break;case"#":let t=4==e.length?/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/:/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/;s=e.match(t),o=parseInt(s[1],16),i=parseInt(s[2],16),r=parseInt(s[3],16);break;default:throw new Error("Unsupported color format")}switch(t){case"HTML":a=o===i&&i===r&&-1===r?"transparent":"rgba("+parseInt(o)+","+parseInt(i)+","+parseInt(r)+","+n+")";break;case"RGB":a=["RGB",o/255,i/255,r/255];break;case"#":a+=o<16?"#0"+o.toString(16):"#"+o.toString(16),a+=i<16?"0"+i.toString(16):i.toString(16),a+=r<16?"0"+r.toString(16):r.toString(16);break;case"int":a=0,a|=(n*=255)<<24,a|=o<<16,a|=i<<8,a|=r,a>>>=0}return a}async function pr(e,t,n){if(t===X.Text){const t=await e.getDefaultProperty(q.Text);vr({fontName:(o=t).fontName||"Helvetica",fontSize:o.fontSize||18,rtl:o.rtl||!1,charSpace:o.charSpace||0,wordSpace:o.wordSpace||0,fontColor:o.fillColor||"#000000",horzScale:o.horzScale||100,isBold:o.isBold||!1,isItalic:o.isItalic||!1,isCross:o.isCross||!1,isUnderline:o.isUnderline||!1,scriptType:o.scriptType||oe.None,alignment:o.alignment||Z.Left,isAdding:ar(),lineSpace:0},n)}var o}function dr(e,t,n=!1){const[o,i,r]=function(e){const t=or[e.baseFontName];let n,o;return t?(n=t.bold===e.fontName||t.bolditalic===e.fontName,o=t.italic===e.fontName||t.bolditalic===e.fontName):(n=e.fontIsBold,o=e.fontIsItalic),[e.baseFontName,n,o]}(e),a={effectClippingType1:{enable:1===e.count},effectClippingType2:{enable:1===e.count},effectClippingType3:{enable:1===e.count},effectClippingType4:{enable:1===e.count},effectClippingType5:{enable:1===e.count},effectClippingType6:{enable:1===e.count},effectEditClipping:{enable:Pr(e)},effectClearClipping:{enable:xr(e)},fontFamily:{enable:!0,value:o},fontSize:{enable:!0,value:Math.round(100*e.fontSize)/100},fontBold:{enable:!0,value:i},fontItalic:{enable:!0,value:r},fontColor:{enable:!0,value:ur(e.fillColor,"#")},fontUnderline:{enable:!1},fontStrikethrough:{enable:!1},fontSuperSubScript:{enable:!1},fontCharacterSpacing:{enable:!1},fontWritingDirection:{enable:!1},paragraphBullets:{enable:!1},paragraphNumbering:{enable:!1},paragraphAlign:{enable:!1},paragraphIncrease:{enable:!1},paragraphDecrease:{enable:!1},paragraphLineSpacing:{enable:!1},paragraphSpacing:{enable:!1},paragraphCharacterScale:{enable:!0,value:e.horizontalScale},paragraphWordSpacing:{enable:e.isWordSpaceValid},splitMergeText:{enable:e.canMergeText},splitRemoveKerning:{enable:e.canRemoveTextKerning},splitText:{enable:e.canSplitText,value:e.text},splitToShape:{enable:e.canText2Path},arrangeAlignmentVertically:{enable:e.count>1},arrangeAlignmentHorizontally:{enable:e.count>1},arrangeAlignmentLeft:{enable:e.count>1},arrangeAlignmentRight:{enable:e.count>1},arrangeAlignmentTop:{enable:e.count>1},arrangeAlignmentBottom:{enable:e.count>1},arrangeDistributeVertically:{enable:e.count>2},arrangeDistributeHorizontally:{enable:e.count>2},arrangeZorderToBack:{enable:e.canChangeBack},arrangeZorderToFront:{enable:e.canChangeFront},effectOpacity:{enable:!0,value:e.opacity},arrangeRotateMoreOptions:{enable:!0,value:e.rotateOption},arrangeRotateMoreOptionsInput:{enable:!0,value:e.rotateOption}};n||yr(t,a,e.type)}function gr(e,t,n=!1){const o=ae,i=J.LineCap,r=se,a=J.LineJoin;let s,c,l;switch(e.lineCap){case o.Butt:s=i.Butt;break;case o.Round:s=i.Round;break;case o.ProjectingSquareCap:s=i.ProjectingSquareCap}switch(e.lineJoin){case r.Miter:c=a.Miter;break;case r.Round:c=a.Round;break;case r.Bevel:c=a.Bevel}sr(e.lineStyle,[])?l=1:sr(e.lineStyle,[2,2])?l=2:sr(e.lineStyle,[3,3])?l=3:sr(e.lineStyle,[4,4])?l=4:sr(e.lineStyle,[4,3,2,3])?l=5:sr(e.lineStyle,[4,3,16,3])?l=6:sr(e.lineStyle,[8,4,4,4])&&(l=7);const u={effectClippingType1:{enable:1===e.count},effectClippingType2:{enable:1===e.count},effectClippingType3:{enable:1===e.count},effectClippingType4:{enable:1===e.count},effectClippingType5:{enable:1===e.count},effectClippingType6:{enable:1===e.count},effectEditClipping:{enable:Pr(e)},effectClearClipping:{enable:xr(e)},shapeStyleLineColor:{enable:!0,value:ur(e.strokeColor,"#")},shapeStyleFillColor:{enable:!0,value:ur(e.fillColor,"#")},shapeStyleMiterLimit:{enable:!0,value:e.miterLimit},shapeStyleLineJoin:{enable:!0,value:c},shapeStyleLineCap:{enable:!0,value:s},shapeStyleDashType:{enable:!0,value:l},shapeStyleOpacity:{enable:!0,value:e.opacity},shapeStyleLineWidth:{enable:!0,value:e.lineWidth},arrangeAlignmentVertically:{enable:e.count>1},arrangeAlignmentHorizontally:{enable:e.count>1},arrangeAlignmentLeft:{enable:e.count>1},arrangeAlignmentRight:{enable:e.count>1},arrangeAlignmentTop:{enable:e.count>1},arrangeAlignmentBottom:{enable:e.count>1},arrangeDistributeVertically:{enable:e.count>2},arrangeDistributeHorizontally:{enable:e.count>2},arrangeZorderToBack:{enable:e.canChangeBack},arrangeZorderToFront:{enable:e.canChangeFront},effectOpacity:{enable:!0,value:e.opacity},arrangeRotateMoreOptions:{enable:!0,value:e.rotateOption},arrangeRotateMoreOptionsInput:{enable:!0,value:e.rotateOption}};n||yr(t,u,e.type)}function fr(e,t,n=!1){const o=function(e){const t=e.length,n=[];for(let o=0;o<t;o++)n.push({color:e[o].fromColor,offset:e[o].from}),o===t-1&&n.push({color:e[o].toColor,offset:e[o].to});return n}(e.gradientArray),i={effectClippingType1:{enable:1===e.count},effectClippingType2:{enable:1===e.count},effectClippingType3:{enable:1===e.count},effectClippingType4:{enable:1===e.count},effectClippingType5:{enable:1===e.count},effectClippingType6:{enable:1===e.count},effectEditClipping:{enable:Pr(e)},effectClearClipping:{enable:xr(e)},shadingStyleGradientStops:{enable:!0,value:o},arrangeAlignmentVertically:{enable:e.count>1},arrangeAlignmentHorizontally:{enable:e.count>1},arrangeAlignmentLeft:{enable:e.count>1},arrangeAlignmentRight:{enable:e.count>1},arrangeAlignmentTop:{enable:e.count>1},arrangeAlignmentBottom:{enable:e.count>1},arrangeDistributeVertically:{enable:e.count>2},arrangeDistributeHorizontally:{enable:e.count>2},arrangeZorderToBack:{enable:e.canChangeBack},arrangeZorderToFront:{enable:e.canChangeFront},effectOpacity:{enable:!0,value:e.opacity},arrangeRotateMoreOptions:{enable:!0,value:e.rotateOption},arrangeRotateMoreOptionsInput:{enable:!0,value:e.rotateOption}};n||yr(t,i,e.type)}function hr(e,t,n=!1){const o={effectClippingType1:{enable:1===e.count},effectClippingType2:{enable:1===e.count},effectClippingType3:{enable:1===e.count},effectClippingType4:{enable:1===e.count},effectClippingType5:{enable:1===e.count},effectClippingType6:{enable:1===e.count},effectEditClipping:{enable:Pr(e)},effectClearClipping:{enable:xr(e)},arrangeAlignmentVertically:{enable:e.count>1},arrangeAlignmentHorizontally:{enable:e.count>1},arrangeAlignmentLeft:{enable:e.count>1},arrangeAlignmentRight:{enable:e.count>1},arrangeAlignmentTop:{enable:e.count>1},arrangeAlignmentBottom:{enable:e.count>1},arrangeDistributeVertically:{enable:e.count>2},arrangeDistributeHorizontally:{enable:e.count>2},arrangeZorderToBack:{enable:e.canChangeBack},arrangeZorderToFront:{enable:e.canChangeFront},effectOpacity:{enable:!0,value:e.opacity}};n||yr(t,o,q.Image)}function mr(e,t,n=!1){const o={effectClippingType1:{enable:1===e.count},effectClippingType2:{enable:1===e.count},effectClippingType3:{enable:1===e.count},effectClippingType4:{enable:1===e.count},effectClippingType5:{enable:1===e.count},effectClippingType6:{enable:1===e.count},effectEditClipping:{enable:Pr(e)},effectClearClipping:{enable:xr(e)},arrangeAlignmentVertically:{enable:e.count>1},arrangeAlignmentHorizontally:{enable:e.count>1},arrangeAlignmentLeft:{enable:e.count>1},arrangeAlignmentRight:{enable:e.count>1},arrangeAlignmentTop:{enable:e.count>1},arrangeAlignmentBottom:{enable:e.count>1},arrangeDistributeVertically:{enable:e.count>2},arrangeDistributeHorizontally:{enable:e.count>2},arrangeZorderToBack:{enable:e.canChangeBack},arrangeZorderToFront:{enable:e.canChangeFront},effectOpacity:{enable:!0,value:e.opacity},arrangeRotateMoreOptions:{enable:!0,value:e.rotateOption},arrangeRotateMoreOptionsInput:{enable:!0,value:e.rotateOption}};n||yr(t,o,e.type)}function vr(e,t){let n;switch(e.scriptType){case oe.None:n="";break;case oe.Sub:n="font-subscript";break;case oe.Super:n="font-superscript"}const o={fontFamily:{enable:!0,value:ir[e.fontName]||e.fontName},fontSize:{enable:!0,value:e.fontSize},fontColor:{enable:!0,value:ur(e.fontColor,"#")},fontBold:{enable:!0,value:e.isBold},fontItalic:{enable:!0,value:e.isItalic},fontStrikethrough:{enable:!0,value:e.isCross},fontUnderline:{enable:!0,value:e.isUnderline},fontSuperSubScript:{enable:!0,value:n},fontCharacterSpacing:{enable:!0,value:e.charSpace},fontWritingDirection:{enable:e.isAdding,value:e.isAdding?e.rtl?"rtl":"ltr":""},paragraphWordSpacing:{enable:!0,value:e.wordSpace},paragraphCharacterScale:{enable:!0,value:e.horzScale},paragraphAlign:{enable:!0,value:["left","center","right","justify"][e.alignment]},paragraphBullets:{enable:!1},paragraphNumbering:{enable:!1},paragraphIncrease:{enable:!1},paragraphDecrease:{enable:!1},paragraphLineSpacing:{enable:!0,value:e.lineSpace},paragraphSpacing:{enable:!1},splitMergeText:{enable:!1},splitRemoveKerning:{enable:!1},splitText:{enable:!1},splitToShape:{enable:!1},effectClippingType1:{enable:!1},effectClippingType2:{enable:!1},effectClippingType3:{enable:!1},effectClippingType4:{enable:!1},effectClippingType5:{enable:!1},effectClippingType6:{enable:!1},effectEditClipping:{enable:!1},effectClearClipping:{enable:!1},effectOpacity:{enable:!1},effectShear:{enable:!1},arrangePagecenterVertically:{enable:!1},arrangePagecenterHorizontally:{enable:!1},arrangePagecenterBoth:{enable:!1},arrangeAlignmentVertically:{enable:!1},arrangeAlignmentHorizontally:{enable:!1},arrangeAlignmentLeft:{enable:!1},arrangeAlignmentRight:{enable:!1},arrangeAlignmentTop:{enable:!1},arrangeAlignmentBottom:{enable:!1},arrangeDistributeVertically:{enable:!1},arrangeDistributeHorizontally:{enable:!1},arrangeRotateClockwise:{enable:!1},arrangeRotateCounterClockwise:{enable:!1},arrangeRotateMoreOptions:{enable:!1},arrangeFlipVertically:{enable:!1},arrangeFlipHorizontally:{enable:!1},arrangeZorderToBack:{enable:!1},arrangeZorderToFront:{enable:!1}};So&&(o.showKeyboard=!0),yr(t,o,q.Text)}function br(e){if(!e)return;const t=e.getComponentByName("edit-properties");if(t){if(t.formatTab&&t.formatTab.$element){const e=t.formatTab.$element.find('[name="arrange-rotate-more-options-input"]');e&&e.val("")}t.disable()}}function yr(e,t={},n=1){if(!e)return;let o=e.getComponentByName("sidebar-right");if(!o){let o=e.getComponentByName("edit-properties");if(!o)return;return o.enable(),void o.setHost(t,n)}o.show();let i=e.getComponentByName("sidebar-right-tabs");i.openTab("edit-properties-panel"),i.setActivetab("edit-properties-panel"),e.getComponentByName("edit-properties").setHost(t,n)}function Pr(e){return!(e.count>1)&&(e.type===q.Shading||e.clipPathCount>0)}function xr(e){return!(e.count>1)&&(e.type!==q.Shading&&e.clipPathCount>0)}async function Cr(e){const t=await e.getEditingObject();return e.createEditingObjectProxy(t)}async function Er(e,t){await e.setOpacity(t)}async function wr(e,t){await e.rotate(parseFloat(t))}async function Sr(e,t){await e.flip(t)}async function Ir(e,t){await e.align(t)}async function Ar(e,t){await e.center(t)}async function Tr(e,t){return await e.distribute(t)}async function kr(e,t){await e.changeRenderingOrder(t)}async function _r(e,t){return await e.addClipPath(t)}i(5137);async function Mr(e,t,n,o,i){return e.setFont(t,n,o,i)}async function Or(e,t){return await e.setLineCap(t)}async function Rr(e,t){return await e.setLineJoin(t)}async function Dr(e,t,n=!1){return e.setColorSpace("fillColorSpace",2),await e.setFillColor(lr(t),n)}async function Fr(e,t,n=!1){return e.setColorSpace("strokeColorSpace",2),e.setStrokeColor(lr(t),n)}async function jr(e,t){return e.changeShadingColor(t)}async function Lr(e,t){return e.setGradientColorShowRect(t)}async function Br(e,t){return e.setGradientCurrentInfo(t)}async function Nr(e,t){return(await Cr(e)).OnAlignChanged(t)}async function Ur(e,t){return(await Cr(e)).OnSuperScriptChanged(t)}async function Vr(e,t){return(await Cr(e)).OnSubScriptChanged(t)}async function Hr(e,t){return(await Cr(e)).OnWritingDirectionChanged(t)}async function zr(e,t,n,o,i,r=!1){let a,s={};e&&(s=e.json,a=s.type);const c=i.getComponentByName("edit-properties").formatTab;switch(a){case q.Text:await async function(e,t,n,o,i){let{fontFamily:r,fontBold:a,fontItalic:s}=await t&&t.getStates(["fontFamily","fontBold","fontItalic"])||{};switch(o){case"font-family":a=void 0===a?n.json.fontIsBold:a,s=void 0===s?n.json.fontIsItalic:s,await Mr(n,i,a,s,0);break;case"font-bold":{s=void 0===s?n.json.fontIsItalic:s;let e=r||n.json.baseFontName;if(0==e.length)return;await Mr(n,e,i,s,1)}break;case"font-italic":if(a=void 0===a?n.json.fontIsBold:a,0==(r||n.json.baseFontName).length)return;await Mr(n,r||n.json.baseFontName,a,i,2);break;case"font-size":await async function(e,t){return await e.setFontSize(parseInt(t))}(n,parseInt(i));break;case"font-color":await async function(e,t,n){return e.json.fillColorSpace=2,await e.setFillColor(lr(t),n)}(n,i,!0);break;case"font-character-spacing":await async function(e,t){return await e.setCharSpace(t)}(n,parseInt(i));break;case"paragraph-word-spacing":await async function(e,t){return await e.setWordSpace(t)}(n,parseInt(i));break;case"paragraph-character-scale":await async function(e,t){return await e.setHorizontalScale(t)}(n,parseInt(i));break;case"split-merge-text":await async function(e,t){const n=await async function(e){return await e.mergeText()}(e);if(!n){const e=t.pdfUI;e.alert(e.i18n.t("page-editor:alert.mertTextFaided"))}}(n,t);break;case"split-remove-kerning":await async function(e){return await e.removeTextKerning()}(n);break;case"split-text":await async function(e,t){return t=t.sort(((e,t)=>e-t)),await e.splitText(t)}(n,i);break;case"split-to-shape":await e.text2Path()}await Wr(e,n,o,i),await Kr(e,n,o,i)}(t,c,e,n,o);break;case q.Path:await async function(e,t,n,o,i){const r=J.LineCap,a=ae,s=J.LineJoin,c=se;switch(o){case"shape-style-color":"string"==typeof i.borderColor&&await Fr(n,i.borderColor),"string"==typeof i.backgroundColor&&await Dr(n,i.backgroundColor);break;case"shape-style-line-color":await Fr(n,i);break;case"shape-style-fill-color":await Dr(n,i);break;case"shape-style-opacity":await Er(n,parseFloat(i));break;case"shape-style-line-width":await async function(e,t){return await e.setLineWidth(t)}(n,parseInt(i));break;case"shape-style-dash-type":await async function(e,t){let n={1:[],2:[2,2],3:[3,3],4:[4,4],5:[4,3,2,3],6:[4,3,16,3],7:[8,4,4,4]}[t];await async function(e,t){return e.setLineStyle(t)}(e,n)}(n,i);break;case"shape-style-line-cap":switch(i){case r.ProjectingSquareCap:await Or(n,a.ProjectingSquareCap);break;case r.Round:await Or(n,a.Round);break;case r.Butt:await Or(n,a.Butt)}break;case"shape-style-line-join":switch(i){case s.Miter:await Rr(n,c.Miter);break;case s.Round:await Rr(n,c.Round);break;case s.Bevel:await Rr(n,c.Bevel)}break;case"shape-style-miter-limit":await async function(e,t){return await e.setMiterLimit(t)}(n,parseInt(i))}await Wr(n,n,o,i),await Kr(n,n,o,i)}(0,0,e,n,o);break;case q.Shading:await async function(e,t,n,o,i){switch(o){case"shading-style-gradient-stops":case"shading-style-color":await Lr(n,{left:0,bottom:60,right:225,top:40}),await Br(n,cr(i)),await jr(n,!0);break;case"shading-style-reference-line":!async function(e){e.editReferenceLine()}(n)}await Wr(e,n,o,i),await Kr(e,n,o,i)}(t,0,e,n,o);break;case q.Image:case q.Mixed:await async function(e,t,n,o,i){await Wr(e,n,o,i),await Kr(e,n,o,i)}(t,0,e,n,o);break;default:const i=await t.getEditingObject();if(!i)return;i.type===X.Text&&await Gr(t,c,i,n,o)}const l=await t.getActiveObject();if(!l)return;let u=l.json;"arrange-rotate-more-options"===n&&(u.rotateOption=o),async function(e,t,n=!1){if(e){const o=e.type;o===q.Text?dr(e,t,n):o===q.Path?gr(e,t,n):o===q.Shading?fr(e,t,n):o===q.Mixed?hr(e,t,n):o===q.Image&&mr(e,t,n)}}(u,i,r)}async function Gr(e,t,n,o,i){let{fontBold:r}=await t&&t.getStates(["fontBold"])||{};switch(o){case"font-family":r=void 0===r?selection.json.fontIsBold:r,async function(e,t,n){(await Cr(e)).OnFontNameChanged(t,n)}(e,i,r);break;case"font-size":!async function(e,t){(await Cr(e)).OnFontSizeChanged(t)}(e,parseInt(i));break;case"font-color":!async function(e,t){(await Cr(e)).OnTextColorChanged(lr(t))}(e,i);break;case"font-bold":!async function(e,t){(await Cr(e)).OnBoldChanged(t)}(e,i);break;case"font-italic":!async function(e,t){(await Cr(e)).OnItalicChanged(t)}(e,i);break;case"font-underline":!async function(e,t){(await Cr(e)).OnUnderlineChanged(t)}(e,i);break;case"font-strikethrough":!async function(e,t){(await Cr(e)).OnCrossChanged(t)}(e,i);break;case"font-super-sub-script":i.indexOf("font-superscript")>=0?(Vr(e,!1),Ur(e,!0)):i.indexOf("font-subscript")>=0?(Ur(e,!1),Vr(e,!0)):(Vr(e,!1),Ur(e,!1));break;case"font-character-spacing":!async function(e,t){(await Cr(e)).OnCharSpaceChanged(t)}(e,i);break;case"font-writing-direction":i.indexOf("rtl")>=0?Hr(e,re.Right2Left):i.indexOf("ltr")>=0&&Hr(e,re.Left2Right);break;case"paragraph-align":switch(i){case"left":Nr(e,Z.Left);break;case"right":Nr(e,Z.Right);break;case"center":Nr(e,Z.Center);break;case"justify":Nr(e,Z.Justify)}break;case"paragraph-word-spacing":!async function(e,t){(await Cr(e)).OnWordSpaceChanged(t)}(e,parseFloat(i));break;case"paragraph-character-scale":!async function(e,t){(await Cr(e)).OnCharHorzScaleChanged(t)}(e,parseFloat(i));break;case"paragraph-line-spacing":!async function(e,t){(await Cr(e)).OnLineLeadingChanged(t)}(e,parseFloat(i))}}async function Wr(e,t,n,o){switch(n){case"effect-clipping-type1":await _r(t,ne.RoundRect);break;case"effect-clipping-type2":await _r(t,ne.Ellipse);break;case"effect-clipping-type3":await _r(t,ne.Rectangle);break;case"effect-clipping-type4":await _r(t,ne.Polygon);break;case"effect-clipping-type5":await _r(t,ne.Curve);break;case"effect-clipping-type6":await _r(t,ne.Freedom);break;case"effect-edit-clipping":await async function(e){return await e.editClipPath()}(t);break;case"effect-clear-clipping":await async function(e){return await e.clearClipPath()}(t);break;case"effect-opacity":await Er(t,parseFloat(o));break;case"effect-shear":await async function(e,t){return await e.shear(t)}(t,parseInt(o))}}async function Kr(e,t,n,o){switch(n){case"arrange-rotate-clockwise":wr(t,-Math.PI/2);break;case"arrange-rotate-counter-clockwise":wr(t,Math.PI/2);break;case"arrange-flip-vertically":Sr(t,!0);break;case"arrange-flip-horizontally":Sr(t,!1);break;case"arrange-rotate-more-options":wr(t,-parseFloat(o)/180*Math.PI);break;case"arrange-zorder-to-back":await kr(t,te.Back);break;case"arrange-zorder-to-front":await kr(t,te.Front);break;case"arrange-pagecenter-vertically":Ar(t,ee.Vertical);break;case"arrange-pagecenter-horizontally":Ar(t,ee.Horizontal);break;case"arrange-pagecenter-both":Ar(t,ee.Both);break;case"arrange-alignment-vertically":Ir(t,Q.Vertical);break;case"arrange-alignment-horizontally":Ir(t,Q.Horizontal);break;case"arrange-alignment-left":Ir(t,Q.Left);break;case"arrange-alignment-right":Ir(t,Q.Right);break;case"arrange-alignment-top":Ir(t,Q.Top);break;case"arrange-alignment-bottom":Ir(t,Q.Bottom);break;case"arrange-distribute-vertically":Tr(t,!0);break;case"arrange-distribute-horizontally":Tr(t,!1)}}const $r="unique_"+Date.now().toString(36);var Yr=0;const Jr=(qr="contextmenu",e=>`fv--plugin-${qr}-${e}`);var qr;function Xr(e){const{text:t,isEnabled:n,submenu:o}=e;let i="";!1===n&&(i=' disabled="true"');let r="";r+=`\n      <dropdown${i} separate='false' align='out-right' valign='top' text='${t}'>`;for(let e of o)e.submenu?r+=Xr(e):r+=Qr(e);return r+="\n      </dropdown>",r}function Qr(e){const{type:t,text:n,isEnabled:o,onClickId:i}=e;let r;if(t&&"default"!==t){if("separator"!==t)return"";r="contextmenu-separator"}else r="contextmenu-item";let a="";!1===o&&(a=' disabled="true"');let s="";return void 0!==i&&(s=` @on.click="ctrl.itemClick('${i}')"`),`\n      <${r}${a}${s} class='fv__plugin-contextmenu-item'>${n||""}</${r}>`}function Zr(e,t){const n=Jr([o||"",$r,Yr++].join("_"));var o;const i=function(e,t){let n="";n+=`<contextmenu name='${t||""}' @controller.alias='ctrl' @on.hide='ctrl.onClose'>`;for(let t of e)t.submenu?n+=Xr(t):n+=Qr(t);return n+="\n    </contextmenu>",n}(t,n);return e.rootComponent.append(i,[{target:n,config:{callback:function(t){function o(){return t.apply(this,arguments)||this}l(o,t);var i=o.prototype;return i.itemClick=function(t){switch(t){case"PopupMenuItem_e_PopupMenuItemProperties":e.openDialog("pageEditorProps");break;case"PopupMenuItem_e_PopupMenuItemShear":case"PopupMenuItem_e_PopupMenuItemRotateMoreOptions":break;default:e.pdfViewer.currentPDFDoc.pageEditor.triggerPopMenuAction(t)}},i.onClose=function(){!function(e,t){let n=e.getComponentByName(t);n.hide()}(e.rootComponent,n)},o}(u.Controller)}}]),n}const ea=["PopupMenuItem_e_PopupMenuItemShear","PopupMenuItem_e_PopupMenuItemRotateMoreOptions"];async function ta(e,t,n){let o=[];for(let i of e){const e=await na(i,t,n);e&&o.push(e)}return o=function(e){const t=[];let n=0,o=e.length-1;for(let t=0;t<e.length;t++){if("separator"!==e[t].type)break;n++}for(let t=e.length-1;t>=0;t--){if("separator"!==e[t].type)break;o--}if(o<n)return[];let i=!1;for(let r=n;r<=o;r++){let n=e[r];if("separator"===n.type){if(i)continue;i=!0}else i=!1;t.push(n)}return t}(o),o}async function na(e,t,n){const{activeObject:o}=t;if(!o)return;if(ea.indexOf(e.name)>=0)return;const i="-"===e.name?"separator":"default";if("separator"===i)return{type:i};const r=ce[e.name],a=r?"page-editor:popMenu."+r:"";let s;s=("EditObject"!==r||o.type!==X.Image)&&await oa(e,t,n);const c=e.name;let l;e.subItems&&(l=await ta(e.subItems,t,n));const u={text:a,isEnabled:s,onClickId:c};return l&&(u.submenu=l),u}async function oa(e,t,n){const{activeObject:o,editingObject:i}=t;if(0===Object.keys(o).length&&0===Object.keys(i).length){if("PopupMenuItem_e_PopupMenuItemPaste"===e.name){return await n.currentPDFDoc.pageEditor.canPaste()}return!1}return!(!e.enable&&void 0!==e.enable)&&(e.subItems?await async function(e){for(let o of e)if(await oa(o,t,n))return!0;return!1}(e.subItems):!(!e.enable&&void 0!==e.enable))}function ia(e){rr.addingText=e}const ra=u.vendors.jQuery,aa=u.PDFViewCtrl,{debounce:sa,ThrottleAsyncTaskExecutor:ca}=aa.shared,{Hammer:la}=u.vendors,ua=u.UIEvents;let pa=Promise.resolve();const{PDFViewCtrl:{DeviceInfo:{isTouchDevice:da,isMobile:ga,isTablet:fa},shared:{createDeferred:ha}}}=u,ma=(e,t="OnKeyDown")=>pa=pa.then((n=>Gi.trigger(t,[e.keyCode,_(e)])));let va=!0,ba=0;const ya=navigator.userAgent.toLowerCase(),Pa=/opera|opr/.test(ya),xa=/msie/.test(ya),Ca=(/trident/.test(ya)||xa)&&!Pa&&"msSaveBlob"in navigator;let Ea=function(e){function t(t){var n;return(n=e.call(this,t)||this).destroyHooks=[],n.hasSelection=!1,n.canScroll=!0,n.component=t.viewerUI.rootComponent.getComponentByName("fv--plugin-PageEditor-add-text"),n.disableToggleCaret=!1,n}l(t,e),t.getStateName=function(){return"page-editor"};var n=t.prototype;return n.goToPage=function(e,t,n){if(!this.docRender)return;let o=this.docRender.getPDFPageRender(e);if(!o)return;const[i,r]=o.getPDFPointFromClientPoint(t,n,!0),a=this.docRender.pdfViewer;let s=this.uiContainerRect.height||0;a.goToPage(e,r-s/4,i,!1)},n.hitTest=function(e,t,n){if(!this.docRender)return!1;let o=this.docRender.getPDFPageRender(e);if(!o)return!1;const[i,r]=o.getPDFPointFromClientPoint(t,n,!1);if(!this.selectionText)return!1;const{x:a,y:s,width:c,height:l}=this.selectionText;return i>=a&&i<=a+c&&r>=s&&r<=s+l},n.docHandler=function(e){this.documentMouseupFinalUpdateCount=0;let t=this.pdfViewer;this.docRender=e;(this.doc=e.doc).startPageEdit(Ki(),Yi(),qi(),Qi()).then((e=>{t.getEventEmitter().emit("pageeditor-started")}));Gi.setDocRender(this.docRender),this.keyMgr=new T({skipKey:e=>{let t=document.activeElement!==I.getElement()[0];return t?!O[e]&&void 0:t},keydown:e=>{let t=this.handleSystemCommand(e);if([37,38,39,40].indexOf(e.keyCode)>=0&&this.hasSelection&&(e.preventDefault(),e.stopPropagation()),8==e.keyCode&&Gi.trigger("OnChar",[String.fromCharCode(e.keyCode)]),t)return!1;ma(e).then((t=>this.actionFinalUpdate(e)))},keyup:e=>{13==e.keyCode?Gi.trigger("OnChar",[String.fromCharCode(e.keyCode)]).then((t=>this.actionFinalUpdate(e))):ma(e,"OnKeyUp").then((t=>this.actionFinalUpdate(e)));const t=document.activeElement===I.getElement()[0];!0!==this.doc.docModified&&t&&this.doc.setDocModified()}}),ra(document).on("focusin",this.focusin=e=>{ri(e,I,ba,(()=>this.keyMgr.start()),(()=>this.keyMgr.stop()),(()=>Gi.trigger("RestartEdit")))}),ra(document).on("mouseup",this.cancelDown=e=>{if(e.target.classList&&e.target.classList.contains("fv__pdf-doc-handler-container")||ra(e.target).hasClass("icon-btn")||ra(e.target).parents(".icon-btn").length||ra(e.target).parents('[name="fv--plugin-PageEditor-add-shape"]').length||2===e.button||this.documentMouseupFinalUpdateCount>0||ra(e.target).parents(".fv__ui-contextmenu-item").length||ra(e.target).parents(".fv__ui-layer"))return;let t=M(e,"Up");return setTimeout((()=>{this.docRender&&Gi.trigger(t,Gi.getArgs(0,e,0,_(e))).then((e=>this.actionFinalUpdate()))}),200)}),window.addEventListener("wheel",this.cancelWheel=e=>{this.canScroll||e.preventDefault()},{passive:!1}),this.setEditorNotifier();const n=(n=!0)=>{this.uiContainerRect=e.pdfViewer.$ui[0].parentElement.getBoundingClientRect();ji(t,0,0)};["fitWidthResizeViewport","zoomToSuccess","afterDocumentRotation"].map((e=>aa.Events[e])).forEach((e=>{this.destroyHooks.push(t.addEventListener(e,n))}));const o=()=>{const e=["","Text","Path","Image","Shading","XObject","Size"].map((e=>t.i18n.t("page-editor:"+e)));Gi.trigger("ChangeLanguage",[e])};this.destroyHooks.push(t.addEventListener("change-language-success",o)),o(),this.destroyHooks.push(t.addEventListener("PageEditor_onStartClick",(()=>{this.disableRightPanel=!0})),t.addEventListener("PageEditor_onEndClick",(()=>{this.disableRightPanel=!1})),t.addEventListener("editPropertiesAction",(e=>{da?"font-family"!==e.name&&"paragraph-numbering"!==e.name&&"paragraph-align"!==e.name&&"paragraph-increase"!==e.name&&"paragraph-decrease"!==e.name||(this.disableToggleCaret=!0):ba+0&&("font-family"===e.name||"font-size"===e.name)&&I.getElement().focus();{const n=t.getCurrentPDFDoc();if(!n)return;if("page-editor"!==t.getStateHandlerManager().currentStateHandler.getStateName())return;const o=n.getPageEditor();o.getActiveObject().then((n=>{zr(n,o,e.name,e.value,t.viewerUI.rootComponent)}))}})),t.addEventListener("PE-mouseMoveEnd",(()=>{{let e=this.doc;if(!e)return;e.getPageEditor().getActiveObject().then((e=>{if(!e)return;let n=e.json;n.type===q.Text&&dr(n,t.viewerUI.rootComponent)}))}})),t.addEventListener("pageeditor-notify",((e,n)=>{{let o=this.doc;if(!o)return;const i=o.getPageEditor();switch(e){case"enterEdit":n===X.Text&&(I.getElement().focus(),jn&&this.tempInput&&this.tempInput.remove()),pr(i,n,t.viewerUI.rootComponent);break;case"exitEdit":ia(!1),br(t.viewerUI.rootComponent);break;case"selectionChange":i.getActiveObject().then((e=>{JSON.stringify((this.currActiveObject||{}).json)!==JSON.stringify((e||{}).json)&&(!async function(e,t,n,o){let i,r={};switch(e&&(r=e.json,i=r.type),i){case q.Text:dr(r,n,o);break;case q.Image:mr(r,n,o);break;case q.Path:gr(r,n,o);break;case q.Shading:fr(r,n,o);break;case q.Mixed:hr(r,n,o);break;default:const e=await t.getEditingObject();if(!e||e.type!==X.Text)return void br(n);if(e&&e.type===X.Text);}}(e,i,t.viewerUI.rootComponent,this.disableRightPanel),this.pdfViewer.eventEmitter.emit(ua.objectSelectionChanged,e?e.json:void 0)),this.currActiveObject=e}));break;case"showPopupMenu":i.getActiveObject().then((e=>{let o=Promise.resolve(!0);e||(o=i.getEditingObject().then((e=>!!e))),o.then((e=>{e&&ta(n.menu,n,t).then((e=>{let o=Zr(t.viewerUI,e);const{x:i,y:r}=n.position;!function(e,t,n,o){const{x:i,y:r}=document.querySelector(".fv__ui-pdfviewer").getBoundingClientRect();e.getComponentByName(t).showAt(n+i,o+r)}(t.viewerUI.rootComponent,o,i,r)}))}))}));break;case"caretChange":ga&&fa||I.getElement().focus(),sa(50,vr(function({charProp:e,wordProp:t,fontName:n}){return{fontName:n||"Helvetica",fontSize:t.fontSize||18,rtl:e.rtl||!1,charSpace:t.charSpace||0,wordSpace:t.wordSpace||0,fontColor:t.wordColor||"#000000",horzScale:t.horzScale||100,isBold:t.isBold||!1,isItalic:t.isItalic||!1,isCross:t.isCross||!1,isUnderline:t.isUnderline||!1,scriptType:t.scriptType,alignment:e.alignment||Z.Left,isAdding:ar(),lineSpace:e.lineLeading}}(n),t.viewerUI.rootComponent))}}})),t.addEventListener(ua.switchStateHandler,(()=>{this.selectionText=null})),da?t.addEventListener("refocusInput",(()=>{this.disableToggleCaret=!1,I.refocusInput()})):()=>{});let i=this.$handler=e.$container.siblings(".fv__pdf-doc-handler-container");i.css("z-index",82);const r=i.get(0);jn&&this.destroyHooks.push((()=>{this.tempInput&&this.tempInput.parentElement&&this.tempInput.remove()}),zo({target:r,onDoubleTap:e=>{this.triggerDoubleClick(e);let t=Gi.getPageIndex(e);this.selectionText&&this.hitTest(t,pi(e.srcEvent),di(e.srcEvent))&&(this.tempInput=document.createElement("div"),this.tempInput.contentEditable=!0,this.tempInput.style="pointer-events: none;position:absolute;left:0;top:0;right:0;bottom:0;opacity: 0.001;",r.appendChild(this.tempInput),this.tempInput.focus({preventScroll:!0}))},onSingleTap:e=>{this.triggerClick(e,1).then((t=>{let n=Gi.getPageIndex(e);this.doc.getPageEditor().getActiveObject().then((t=>{if(!t)return;this.goToPage(n,pi(e.srcEvent),di(e.srcEvent));let o=t.json;o.type===q.Text?this.selectionText={x:o.xPosition,y:o.yPosition,width:o.width,height:o.height}:this.selectionText=null}))}))}}));const a=this.hammer=new la.Manager(r,{recognizers:[[la.Pan,{direction:la.DIRECTION_ALL}]],time:150});let s,c,l=ra('<div class="pe_handler_container"></div>'),u=ra('<canvas class="pe_handler"></canvas>');l.append(u),i.before(l),i.on("mouseleave",this.mouseleave=e=>{nr.toggle(!1)}).on("mousemove",this.hover=e=>{if(Gi.cacheMouseCoord(e),va){let t=Gi.getPageIndex(e);-1!==t&&Gi.trigger("OnHitObjectTest",Gi.getArgs(t,e,0,-1),0)}}).on("mousedown",this.RButtionDown=e=>{2==e.button?Gi.trigger("OnRButtonDown",Gi.getArgs(Gi.getPageIndex(e),e,0,_(e))):0===e.button&&this.hasSelection&&(this.canScroll=!1)}).on("mouseup",this.RButtionUp=e=>{2==e.button?Gi.trigger("OnRButtonUp",Gi.getArgs(Gi.getPageIndex(e),e,0,_(e))):0===e.button&&(this.canScroll=!0)}).on("mousein",(e=>{this.hasSelection&&(this.canScroll=!1)})).on("mouseout",(e=>{this.canScroll=!0})).on("contextmenu",(e=>!1)),this.destroyHooks.push((()=>{i.css("z-index",0),ra(document).off("mouseup",this.cancelDown),i.off("mouseleave",this.mouseleave),i.off("mousemove",this.hover),i.off("mousedown",this.RButtionDown),i.off("mouseup",this.RButtionUp),window.removeEventListener("wheel",this.cancelWheel)})),a.add(new la.Tap({event:"doubletap",taps:2})),a.add(new la.Tap({event:"singletap"})),a.add(new la.Press);try{a.get("doubletap").recognizeWith("singletap"),a.get("singletap").requireFailure("doubletap"),a.on("hammer.input",(e=>{if(!da)return"pointerdown"==e.srcEvent.type?(va=!1,c=ha(),void(s=setTimeout((()=>{e=e.srcEvent;let t=M(e);Gi.trigger(t,Gi.getArgs(Gi.getPageIndex(e),e,0,_(e))).then((e=>c&&c.resolve(e)))}),520))):void("pointerup"==e.srcEvent.type&&(va=!0,c&&c.promise.then((t=>{e=e.srcEvent;let n=M(e,"Up");Gi.trigger(n,Gi.getArgs(Gi.getPageIndex(e),e,0,_(e)))}))))})),this.triggerClick=(e,t=0)=>{this.documentMouseupFinalUpdateCount=0,clearTimeout(s),this.component&&this.component.deactive();let n=Gi.getPageIndex(e);c=null,e=e.srcEvent;let o=Promise.resolve();return t&&(o=Gi.trigger("OnHitObjectTest",Gi.getArgs(n,e,0,-1),0)),o=o.then((t=>Gi.trigger(M(e),Gi.getArgs(n,e,0,_(e))))),o.then((t=>Gi.trigger(M(e,"Up"),Gi.getArgs(n,e,0,_(e)),2)))},this.triggerDoubleClick=e=>{this.documentMouseupFinalUpdateCount=0,clearTimeout(s),c=null,this.triggerClick(e).then((()=>{setTimeout((()=>{let t=Gi.getPageIndex(e.srcEvent);Gi.trigger("OnLButtonDoubleClick",Gi.getArgs(t,e.srcEvent,0,0)).then((n=>{da&&this.goToPage(t,pi(e.srcEvent),di(e.srcEvent)),this.actionFinalUpdate()}))}),100)}))},a.on("singletap",(e=>{da&&!jn&&this.triggerClick(e,1).then((t=>{let n=Gi.getPageIndex(e);this.doc.getPageEditor().getActiveObject().then((t=>{t&&this.goToPage(n,pi(e.srcEvent),di(e.srcEvent))}))}))})),a.on("panstart",(e=>{clearTimeout(s),c=null,da&&Gi.trigger("OnHitObjectTest",Gi.getArgs(Gi.getPageIndex(e.srcEvent),e.srcEvent,0,-1),0),Gi.trigger("OnLButtonDown",Gi.getArgs(Gi.getPageIndex(e.srcEvent),{clientX:e.srcEvent.clientX-e.deltaX,clientY:e.srcEvent.clientY-e.deltaY},0,_(e)))})),a.on("panmove",(e=>{e=e.srcEvent;let t=Gi.getPageIndex(e);-1!==t&&Gi.trigger("OnMouseMove",Gi.getArgs(t,e,0,_(e)),1)})),a.on("panend",(e=>{e=e.srcEvent;let t=M(e,"Up"),n=Gi.getPageIndex(e);-1!==n&&Gi.trigger(t,Gi.getArgs(n,e,0,_(e)),2).then((t=>this.actionFinalUpdate(e)))})),a.on("doubletap",(e=>{jn||this.triggerDoubleClick(e)})),a.on("press",(e=>{da&&(clearTimeout(s),Gi.trigger("OnRButtonUp",Gi.getArgs(Gi.getPageIndex(e.srcEvent),e.srcEvent,0,_(e.srcEvent))))}))}catch(e){console.error(e)}n(!1)},n.actionFinalUpdate=function(e){return this.pdfViewer.eventEmitter.emit("PE-mouseMoveEnd"),Promise.resolve()},n.setEditorNotifier=function(){let e;const t=(e,t)=>{this.pdfViewer.getEventEmitter().emit("pageeditor-notify",e,t)};let n={caretChange:e=>{t("caretChange",e)},propertyChanged:e=>{let{type:t,fn:n,param:o}=e,i=e=>{this.pdfViewer.getEventEmitter().emit(ua.objectPropertyChanged,{type:t,properties:e})};"SetGradientCurrentInfo"===n?i({gradientColor:o}):"SetStrokeColor"===n?i({strokeColor:o}):"SetFillColor"===n?i({fillColor:o}):"SetLineWidth"===n?i({lineWidth:o}):"SetLineStyle"===n?i({lineStyle:o}):"SetLineCap"===n?i({lineCap:o}):"SetLineJoin"===n?i({lineJoin:o}):"SetMiterLimit"===n?i({miterLimit:o}):"SetFont"===n?(o.pop(),i({font:o})):"SetFontSize"===n?i({fontSize:o}):"SetOpacity"===n?i({opacity:o}):"Shear"===n?i({shear:o}):"Center"===n?i({center:o}):"Align"===n?i({align:o}):"Distribute"===n?i({distribute:o}):"Rotate"===n?i({rotate:o}):"ChangeRenderingOrder"===n&&i({renderOrder:o})},contentChange:e=>{let t=this.pdfViewer.getPDFDocRender();if(!t)return;if(t.doc.setDocModified(),this.pdfViewer.redraw(1,0),!e)return;let{type:n,graphicsObject:o,pageIndex:i}=e;o&&o.type&&0===n&&this.pdfViewer.getEventEmitter().emit(ua.objectAdded,{pageIndex:i,graphicsObject:o})},toggleCaret:e=>{if(!da||!this.disableToggleCaret)if(e)va=!1,I.startInput(((e,t)=>Gi.trigger("OnChar",[e]).then((e=>Gi.trigger("OnMouseMove",Gi.getArgs(Gi.getPageIndex(t),t,0,0)))))),ba=3,jn&&this.tempInput&&this.tempInput.remove();else{if(ba=0,jn)return;I.endInput()}},updateView:({bitmapInfo:e})=>{this.displayImage(e),e.isRedraw&&(this.throttleExecutor||(this.throttleExecutor=new ca(100)),this.throttleExecutor.exec((e=>this.pdfViewer.redraw(1,0))))},moveTip:e=>{let t=this.uiContainerRect,n=t.left,o=t.top,i=devicePixelRatio||1;nr.css({left:e.x/i+15+n,top:e.y/i+20+o}),I.setPos(e.x+n-20,e.y+o+100)},setTipMsg:e=>{nr.html(e)},showTipMsg:t=>{nr.toggle(t),da&&t&&(e&&clearTimeout(e),e=setTimeout((()=>{nr.toggle(!1),clearTimeout(e)}),500))},showPopupMenu:e=>{t("showPopupMenu",e)},selectionChange:()=>{this.doc.getPageEditor().hasSelection().then((e=>this.hasSelection=e)),t("selectionChange")},setClipboardText:e=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("Copy"),t.remove()},enterEdit:e=>{t("enterEdit",e),this.pdfViewer.redraw(1,0)},exitEdit:e=>{this.selectionText=null,t("exitEdit",e),this.pdfViewer.redraw(1,0)},processEdit:e=>{t("processEdit",e)},cursorChange:e=>{this.$handler&&(7==e?this.$handler.addClass("fv__cursor-rotation"):(this.$handler.removeClass("fv__cursor-rotation"),this.$handler.css("cursor",Zi[e]||"")))}};this.doc.getPageEditor().setNotifier(n)},n.displayImage=function(e){let t=this.pdfViewer.getPDFDocRender();if(!e||!t.matrixes)return;let{width:n,height:o,buffer:i,left:r,top:a}=e;if(!i||!t)return;let s=t.$ui.find(".pe_handler"),c=t.$ui.find(".pe_handler_container"),l=t.$ui[0].getBoundingClientRect(),u=this.pdfViewer.$ui[0].parentElement;u.getBoundingClientRect();c.css({left:r-l.left+"px",top:a-l.top+"px",width:u.clientWidth+"px",height:u.clientHeight+"px"}),this.$handler&&this.$handler.css({left:r-l.left+"px",top:a-l.top+"px",width:u.clientWidth+"px",height:u.clientHeight+"px",right:"unset",bottom:"unset"});let p=s[0];if(!p)return;p.width=n,p.height=o;let d=p.getContext("2d");d.clearRect(0,0,n,o),Ca&&d.beginPath();let g=new(Uint8ClampedArray||Uint8Array)(i),f=d.createImageData(n,o);f.data.set(g),d.putImageData(f,0,0),da||!ba||document.activeElement!==document.body&&document.activeElement!==I.getElement()[0]||I.getElement().focus()},n.handleSystemCommand=function(e){let t=null,n=this.doc.getPageEditor();const o=e=>{t=n.getActiveObject().then((t=>{if(!t)return n.getEditingObject();t[e.toLowerCase()]()})).then((t=>{t&&n.createEditingObjectProxy(t)[e]()}))};if(e.ctrlKey||e.metaKey){let i=document.activeElement===I.getElement()[0];switch(e.keyCode){case 67:o("Copy");break;case 86:return i?t:n.getEditingObject().then((e=>{e?n.createEditingObjectProxy(e).Paste():n.paste()}));case 88:o("Cut");break;case 89:n.undoRedo(i,!1);break;case 90:e.shiftKey?n.undoRedo(i,!1):n.undoRedo(i,!0)}}return t},n.pageHandler=function(e){this.pageRender=e},n.destroyPageHandler=function(){},n.destroyDocHandler=function(){this.docRender&&(ra(document).off("focusin",this.focusin),this.doc.endPageEdit(),ba=0,Gi.destroy(),this.keyMgr.destroy(),this.hammer&&this.hammer.destroy(),this.destroyHooks.forEach((e=>e())),this.resetHandler(),this.docRender.$ui.find(".pe_handler_container").remove(),nr.hide(),this.component&&this.component.deactive(),this.docRender=null,this.destroyHooks=null,this.keyMgr=null,this.hasSelection=!1,this.$handler.get(0).style.cssText="",this.$handler=null,this.component=null)},n.out=function(){this.destroyDocHandler(),this.destroyPageHandler()},n.resetHandler=function(){},t}(aa.IStateHandler);var wa=Ea,Sa=i(6925),Ia=i.n(Sa);const Aa=u.PDFViewCtrl.shared.colorConvertor,Ta=u.PDFViewCtrl.Deps.jQuery,{isMatch:ka}=(u.UIConsts.COMPONENT_EVENTS,PDFViewCtrl.collab.COLLABORATION_ACTION,u.PDFViewCtrl.KeyboardUtils),{Enter:_a,Escape:Ma}=u.PDFViewCtrl.KeyboardUtils.matchers,Oa={0:[],1:[2,2],2:[3,3],3:[4,4],4:[4,3,2,3],5:[4,3,16,3],6:[8,4,4,4]},Ra=Object.keys(Oa).map((e=>Oa[e].join())),Da=(e,n)=>{t(e,{opacity:100*e.getPEObjectProp("getOpacity",0)|0,positionX:(e.getPEObjectProp("getXPosition",0)/72).toFixed(2)+" "+n,positionY:(e.getPEObjectProp("getYPosition",0)/72).toFixed(2)+" "+n,width:(e.getPEObjectProp("getWidth",0)/72).toFixed(2)+" "+n,height:(e.getPEObjectProp("getHeight",0)/72).toFixed(2)+" "+n,scaleX:"100%",scaleY:"100%",fontSize:e.getPEObjectProp("getFontSize").toFixed(2),horizonScale:e.getPEObjectProp("getHorizontalScale"),charSpace:e.getPEObjectProp("getCharSpace").toFixed(2),wordSpace:e.getPEObjectProp("getWordSpace").toFixed(2),strokeGray:e.getGrayColor("stroke"),fillGray:e.getGrayColor(),lineWidth:e.getPEObjectProp("getLineWidth"),miterLimit:e.getPEObjectProp("getMiterLimit")})},Fa={1:"GRAY",2:"RGB",3:"CMYK"},ja=(e,t)=>{if(1==t&&e<=1||!t)return[e];let n=e;if(e<=1){const t=255*(1-e)|0;n=4278190080|t<<16|t<<8|t}const o=Aa(n,Fa[t]);return o.splice(0,1),o};let La=function(e){function t(t){return e.call(this,t)||this}l(t,e),t.getName=function(){return"PropsDialogController"};var n=t.prototype;return n.getGrayColor=function(e="fill"){const t=this.obj;if(!t)return 1;const n="fill"==e?"fillColor":"strokeColor";return 1==t.json[n+"Space"]?1-(255&t.json[n])/255:1},n.getPEObjectProp=function(e,t=1){if(!this.obj||!this.obj[e])return t;return this.obj[e]()},n.setPEObjectProp=function(e,t,...n){var o;if(!isNaN(t)&&!this.syncingUI&&this.obj&&this.obj[e])return(o=this.obj)[e].apply(o,n)},n.forceSyncUI=function(){return this.pdfUI.pdfViewer.currentPDFDoc.pageEditor.getActiveObject().then((e=>this.syncUI(e)))},n.mounted=function(){const e=this.pdfUI.pdfViewer;e.getEventEmitter().on("pageeditor-notify",((e,t)=>{if("selectionChange"===e)this.forceSyncUI().then((e=>{e&&this.getComponentByName("general-tab").active()}))})),e.getEventEmitter().on("PE-mouseMoveEnd",(()=>{this.forceSyncUI()})),e.getEventEmitter().on("graphics-updated",(()=>{})),this.bindEvent(),e.currentPDFDoc&&this.forceSyncUI().then((e=>this.digest())),this.watch("ctrl.positionX",((e,t)=>{e.length&&!isNaN(e)&&this.setPEObjectProp("setXPosition",e,72*e)})),this.watch("ctrl.positionY",((e,t)=>{e.length&&!isNaN(e)&&this.setPEObjectProp("setYPosition",e,72*e)})),this.watch("ctrl.width",((e,t)=>{e.length&&!isNaN(e)&&this.setPEObjectProp("setWidth",e,72*e)})),this.watch("ctrl.height",((e,t)=>{e.length&&!isNaN(e)&&this.setPEObjectProp("setHeight",e,72*e)})),this.watch("ctrl.opacity",((e,t)=>{e.length&&!isNaN(e)&&(e>100&&(e=100),this.setPEObjectProp("setOpacity",e,e/100))})),[["ctrl.fontSize","setFontSize"],["ctrl.horizonScale","setHorizontalScale"],["ctrl.charSpace","setCharSpace"],["ctrl.wordSpace","setWordSpace"],["ctrl.lineWidth","setLineWidth"],["ctrl.miterLimit","setMiterLimit"]].forEach((([e,t])=>{this.watch(e,((e,n)=>{this.setPEObjectProp(t,e,+e)}))}))},n.blurInput=function(...e){const t=e[2].target,n=e[0];t.type="","%"==t.postfix?(e[0]="100",this.setPEObjectProp("scale",1,n/100-1,"horizon"==t.dataset.dir)):e[0]=(+e[0]).toFixed(2),t.value=e[0]+t.postfix},n.focusInput=function(...e){const t=parseFloat(e[0]),n=e[2].target;n.type="number",n.value=t,n.postfix=e[0].replace(""+t,""),"%"!==n.postfix&&(n.postfix=this.pdfUI.i18n.t("sidebar.layers.importDialog.inches"))},n.getEle=function(e,t){const n=this.component.getComponentByName(e);return t?n:Ta(n.element)},n.bindEvent=function(){Ta(this.component.element).find(".rangeLimit").on("keyup",(e=>{let t=Ta(e.target),n=t.val().split(".");n[1]&&n[1].length>2&&t.val(n[0]+"."+n[1].substring(0,2))})),Ta(this.component.element).find('[name="opacity"] input').on("keyup",(e=>{+e.target.value>=100&&(e.target.value="100")})),this.getEle("PE-fontName").on("change",(e=>{this.obj.setFont(e.target.value,this.obj.getFontIsBold(),this.obj.getFontIsItalic(),0).then((e=>this.forceSyncUI()))})),this.getEle("PE-textMode").on("change",(e=>{this.obj.setTextMode({type:"TextMode",value:+e.target.value}).then((e=>this.forceSyncUI()))})),[["PE-textStrokeColor","strokeColor"],["PE-textFillColor","fillColor"],["PE-pathStrokeColor","strokeColor"],["PE-pathFillColor","fillColor"]].forEach((([e,t])=>{this.getEle(e).find("select").on("change",(e=>{const n=this.obj,o=+e.target.value,i=t+"Space",r=n.json[t];n.setColorSpace(i,o);n["set"+t[0].toUpperCase()+t.substring(1)](ja(r,o),!0,r,o).then((e=>this.forceSyncUI()))}))})),this.getEle("PE-lineCap").on("change",(e=>{this.obj.setLineCap(+e.target.value)})),this.getEle("PE-lineJoin").on("change",(e=>{this.obj.setLineJoin(+e.target.value)})),this.component.getComponentByName("PE-lineStyle").on("change",(e=>{this.obj.setLineStyle(Oa[e]).then((e=>this.forceSyncUI()))})),this.component.querySelectorAll("@slider").forEach((e=>{switch(e.attrs["@model"]){case"ctrl.opacity":e.on("change",((e,t,n,o)=>{o.isMoving||this.setPEObjectProp("setOpacity",n,n/100)}));break;case"ctrl.fillGray":e.on("change",((e,t,n,o)=>{if(o.isMoving)return;const i=this.obj,r=Aa(["G",1-n],"int");i.setFillColor(ja(1-n,!0,i.json.fillColorSpace),!0,r,!0).then((e=>this.forceSyncUI()))}));break;case"ctrl.strokeGray":e.on("change",((e,t,n,o)=>{if(o.isMoving)return;const i=this.obj,r=Aa(["G",1-n],"int");i.setStrokeColor(ja(1-n,!0,i.json.strokeColorSpace),!0,r,!0).then((e=>this.forceSyncUI()))}))}})),this.pdfUI.addViewerEventListener("languageChangeFinished",(e=>{Da(this,this.pdfUI.i18n.t("sidebar.layers.importDialog.inches")),this.digest()}))},n.keyBoardHandler=function(e,t){ka(e,_a)&&this.showCP(t)},n.showCP=function(e){const t=this.getEle(e).find(".color-picker"),n=t.attr("disabled");if(n&&n.length)return;const o=this.obj,i=-1!=e.indexOf("StrokeColor"),r=-1!=e.indexOf("path"),a=i?o.getStrokeColor():o.getFillColor(),s=i?"setStrokeColor":"setFillColor",c=i?"strokeColorSpace":"fillColorSpace",l=o.json[c];if(2!=l&&3!=l)return;const u=this.pdfUI.colorSpectrum;r&&u.showTransparent(!0),u.setDefaultColor(Aa(a,"#")),u.show(t,(e=>{if(0===e)return o.setColorSpace(c,0),void o[s]([0],!0,4278190080,!1).then((e=>this.forceSyncUI()));const t=Aa(e,"int");o[s](ja(t,l),!0,t).then((e=>this.forceSyncUI()))}))},n.isCmpDisabled=function(e="PE-textStrokeColor"){const t=this.obj;if(1==t.getType()){const n=t.getTextMode();return"PE-textStrokeColor"==e?1!=n&&2!=n:0!=n&&2!=n}return!1},n.syncUI=function(e){if(!e)return this.obj=e,this.component.disable(),!0;this.component.enable(),this.syncingUI=!0;const t=!this.obj||e.getType()!==this.obj.getType();this.obj=e,Da(this,this.pdfUI.i18n.t("sidebar.layers.importDialog.inches"));const n="disabled",o=t=>{const o=this.getEle(t),i=o.find(".color-picker .color");i.css("background-color","#000");let r=this.getEle(t,!0).querySelector("@slider");if(this.isCmpDisabled(t))o.find("select,.color-picker").attr(n,n),o.find("select").val(1),r.show(),r.lock();else{o.find("select,.color-picker").removeAttr(n),r.unlock();const a=-1!==t.indexOf("StrokeColor")?"strokeColor":"fillColor",s=t.indexOf("path"),c=e.json[a+"Space"];o.find("select").val(c);const l=s&&!c?"#fff":"#"+((268435456|e.json[a])>>>0).toString(16).substr(2);i.css("background-color",l),1!==c?(i.removeAttr(n),r.hide()):(i.attr(n),r.setValue(this.getGrayColor(a.replace("Color",""))),r.show())}};let i="page-editor:";switch(e.getType()){case 1:const t=e.getFontName(),n=this.getEle("PE-fontName");n.find(".external").remove(),n.append(`<option class='external'>${t}</option>`),n.val(t);this.getEle("PE-textMode").val(e.getTextMode()),["PE-textStrokeColor","PE-textFillColor"].forEach((e=>{o(e)})),i+="TextProps";break;case 2:i+="PathProps";const a=e.getLineCap(),s=e.getLineJoin();this.getEle("PE-lineJoin").val(s),this.getEle("PE-lineCap").val(a),["PE-pathStrokeColor","PE-pathFillColor"].forEach((e=>{o(e)}));const c=0==(r=e.getLineStyle()).length?0:Ra.indexOf(r.join()),l=this.component.getComponentByName("PE-lineStyle");l&&l.setValue(c);break;case 3:i+="ImageProps";break;case 4:i+="ShadingProps";break;case 5:i+="MixedProps"}var r;return Ta(this.component.element).find(".fv__ui-layer-header-title").text(this.pdfUI.i18n.t(i)).attr("data-i18n",i),this.component.hasFocus()?(this.syncingUI=!1,!1):(this.digest(),this.syncingUI=!1,t)},n.getActiveType=function(){return this.obj?this.obj.getType():0},n.hideDialog=function(){this.component.hide()},t}(u.Controller);var Ba=i(9333),Na=i.n(Ba);const Ua=u.PDFViewCtrl.Events,Va=u.PDFViewCtrl.Consts.PDFDocPermission,Ha=u.vendors.jQuery,za=(u.PDFViewCtrl.shared.Store,{"home-tab":"home-toolbar-group-list","edit-tab":"edit-toolbar-group-list"}),Ga={"home-tab":"edit-object-ribbon-dropdown","edit-tab":"fv--plugin-PageEditor-edit"};let Wa=function(e){function t(){return e.apply(this,arguments)||this}l(t,e),t.getName=function(){return"EditObjectController"};var n=t.prototype;return n.mounted=function(){e.prototype.mounted.call(this),this.eventsHandler(),this.pdfUI.getStore().then((e=>{this.store=e})),this.addDestroyHook(this.getPDFUI().addViewerEventListener(Ua.toolbarTabsClicked,(e=>{e&&["edit-tab","home-tab"].includes(e.name)&&(this.changeBtnStatus(e.name),this.currentTabName=e.name)})))},n.changeBtnStatus=async function(e){const t=this.getPDFUI().pdfViewer.getStateHandlerManager().currentStateHandler.getStateName(),n=this.getPDFUI();if(!n.activeMainPageTab)return;const o=e||n.activeMainPageTab.name,i=Ga[o],r=za[o],a=await n.getComponentByName(r),s=await a.getComponentByName(i);s&&(this.component=s);const c=await n.getCurrentPDFDoc();if(!c)return;const l=c.getPageEditor(),u=Number(l.filter);if(u===ie.None||t!==wa.getStateName()){if(this.component.deactive(),"function"==typeof this.component.getDropdown){this.component.getDropdown().children().find((e=>e.deactive()))}this.removeAllActive()}else this.component.active(),this.setEditType(ie[""+u],e)},n.eventsHandler=function(){let e,t=this.getPDFUI();e=e=>{const t=this.store.getCurrentValue(pe);var n;if(e.getStateName()===wa.getStateName()&&t==le)this.component.active(),"function"==typeof this.component.getDropdown&&(null==(n=this.component.getDropdown())||n.children()[0].active());else if(this.component.deactive(),"function"==typeof this.component.getDropdown){var o;let e=null==(o=this.component.getDropdown())?void 0:o.children();null==e||e.find((e=>e.deactive()))}},this.addDestroyHook(t.addViewerEventListener(Ua.beforeSwitchStateHandler,e))},n.removeAllActive=function(){Ha(this.component.element).find(".fv__ui-dropdown-list li").removeClass("active"),Ha(this.component.element).find(".fv__ui-dropdown-list i.fv__ui-property-icon-selected-color-light").removeClass("fv__ui-property-icon-selected-color-light")},n.updateItemFromDropdown=function(){setTimeout((async()=>{const e=this.getPDFUI(),t=(await e.getCurrentPDFDoc()).getPageEditor(),n=Number(t.filter),o=ie[""+n],i="home-tab"===this.currentTabName?o:`fv--plugin-PageEditor-edit-${o.toLowerCase()}`;"home-tab"!==this.currentTabName&&this.removeAllActive();const r=Ha(this.component.element).find(`li[name="${i}"]`);Ha(this.component.element).find(".fv__ui-dropdown-list li").removeClass("active"),r.addClass("active").find("i").addClass("fv__ui-property-icon-selected-color-light")}))},n.setEditType=function(e,t){let n=this.getPDFUI();n.getCurrentPDFDoc().then((o=>{o&&n.getStateHandlerManager().then((n=>{this.store.dispatch(pe,le),n.switchTo(wa.getStateName());o.getPageEditor().setObjectFilter(Y[e]),this.updateItem(e,t)}))}))},n.updateItem=async function(e,t){{const t=this.component.getComponentByName(e);if(!t)return;Ha(t.element).addClass("active").siblings().removeClass("active")}},n.handle=function(){if("dropdown"===this.component.parent.nodeName)return e.prototype.handle.call(this);this.setEditType(this.component.getAttribute("edit-type"))},s(t,null,[{key:"permission",get:function(){return Va.ModifyDocument}}]),t}(u.Controller);const Ka=u.PDFViewCtrl.Events,$a=u.PDFViewCtrl.Consts.PDFDocPermission;let Ya=function(e){function t(){return e.apply(this,arguments)||this}l(t,e),t.getName=function(){return"AddTextController"};var n=t.prototype;return n.mounted=function(){e.prototype.mounted.call(this),this.eventsHandler(),this.pdfUI.getStore().then((e=>{this.store=e}))},n.eventsHandler=function(){let e=this.getPDFUI();this.addDestroyHook(e.addViewerEventListener(Ka.beforeSwitchStateHandler,((e,t)=>{const n=this.store.getCurrentValue(pe);e.getStateName()===Di.getStateName()&&n==ue?this.component.active():this.component.deactive()})))},n.handle=function(){let e=this.getPDFUI();e.getCurrentPDFDoc().then((t=>{if(t)return e.getStateHandlerManager().then((t=>{this.store.dispatch(pe,ue);let n=Di.getType();t.switchTo("touch-up-editor"),"touchup"!==n&&"touch-up-editor"===t.currentStateHandler.getStateName()&&this.openRightTextEditPanel(e,0),ia(!0),t.getCurrentStates().activateType(e,t.pdfViewer,"touchup",!0)}))}))},n.openRightTextEditPanel=async function(e,t){const n=await e.getComponentByName("sidebar-right");if(!n)return;n.show();const o=await e.getComponentByName("sidebar-right-tabs");if(!o)return;o.openTab("edit-properties-panel"),o.setActivetab("edit-properties-panel");const i=await e.getComponentByName("edit-properties");!t&&i&&(i.setHost({},L.TouchUp),i.disable())},s(t,null,[{key:"permission",get:function(){return $a.ModifyDocument}}]),t}(u.Controller);u.PDFViewCtrl.Events;const Ja=u.PDFViewCtrl.Consts.PDFDocPermission;let qa=function(e){function t(){return e.apply(this,arguments)||this}l(t,e),t.getName=function(){return"AddImageAdvController"};var n=t.prototype;return n.mounted=function(){e.prototype.mounted.call(this),this.pdfUI.getStore().then((e=>{this.store=e}))},n.handle=function(e){const t=this.getPDFUI(),n=new FileReader;n.readAsArrayBuffer(e),n.onload=e=>{try{t.getCurrentPDFDoc().then((n=>{n&&t.getStateHandlerManager().then((o=>{this.store.dispatch(pe,le),o.switchTo(wa.getStateName()),setTimeout((()=>n.getPageEditor().createImage(e.target.result).then((e=>{e||t.alert({message:"page-editor:alert.createImageFailed",level:"warning"})}))),0)}))}))}catch(e){t.alert({message:"page-editor:alert.createImageFailed",level:"warning"})}}},s(t,null,[{key:"permission",get:function(){return Ja.ModifyDocument}}]),t}(u.Controller);var Xa=i(1723),Qa=i.n(Xa);u.PDFViewCtrl.Events;const Za=u.PDFViewCtrl.Consts.PDFDocPermission;u.vendors.jQuery;let es=function(e){function t(){return e.apply(this,arguments)||this}l(t,e),t.getName=function(){return"AddShapesController"};var n=t.prototype;return n.mounted=function(){e.prototype.mounted.call(this),this.pdfUI.getStore().then((e=>{this.store=e}))},n.addPath=function(e){let t=this.getPDFUI();t.getCurrentPDFDoc().then((n=>{n&&t.getStateHandlerManager().then((t=>{this.store.dispatch(pe,le),t.switchTo(wa.getStateName());n.getPageEditor().createPath($[e]),this.updateUI(`path-${e}`)}))}))},n.addShading=function(e){let t=this.getPDFUI();t.getCurrentPDFDoc().then((n=>{n&&t.getStateHandlerManager().then((t=>{this.store.dispatch(pe,le),t.switchTo(wa.getStateName());n.getPageEditor().createShading($[e]),this.updateUI(`shading-${e}`)}))}))},n.updateUI=function(e){const t=(e,t="active")=>{const n=e.split("-"),o=this.component.getComponentByName(n[0]).getComponentByName(n[1]);o&&o[t]&&o[t]()};this.activeType&&t(this.activeType,"deactive"),t(e),this.activeType=e},s(t,null,[{key:"permission",get:function(){return Za.ModifyDocument}}]),t}(u.Controller);var ts=t({jrLicenseSuccess:"jr-license-success",srLicenseSuccess:"sr-license-success",beforeOpenFile:"before-open-file",openingFile:"opening-file",beforeLoadPDFDoc:"before-load-pdf-document",openFileSuccess:"open-file-success",openFileFailed:"open-file-failed",willCloseDocument:"will-close-document",renderFileSuccess:"render-file-success",renderFileFailed:"render-file-error",beforeRenderPage:"before-render-page",renderPageSuccess:"render-page-success",updateZoomMode:"update-zoom-mode",beforeZoomTo:"before-zoom-to",zoomToSuccess:"zoom-to-success",zoomToFailed:"zoom-to-failed",startChangeViewMode:"start-change-view-mode",changeViewModeSuccess:"change-view-mode-success",changeViewModeFailed:"change-view-mode-failed",pagesLayoutRedrawBegin:"pages-layout-redraw-begin",pageLayoutRedraw:"page-layout-redraw",pagesLayoutRedrawEnd:"pages-layout-redraw-end",copyTextSuccess:"copy-text-success",copyTextFailed:"copy-text-failed",tapPage:"tap-page",tapAnnotation:"tap-annotation",pressPage:"press-page",pressAnnotation:"press-annotation",pressText:"press-text",rightClickPage:"right-click-page",rightClickAnnotation:"right-click-annotation",doubleTapPage:"double-tap-page",doubleTapAnnotation:"double-tap-annotation",activeAnnotationBefore:"active-annotation-before",activeAnnotation:"active-annotation",activeAnnotationAfter:"active-annotation-after",panActiveAnnotation:"pan-active-annotation",doubleTapActiveAnnotation:"double-tap-active-annotation",contextMenuActiveAnnotation:"contextmenu-action-annotation",unActiveAnnotation:"unactive-annotation",updateActiveAnnotation:"update-action-annotation",updateActionAnnotation:"update-action-annotation",removeActiveAnnotationBefore:"remove-action-annotation-before",removeActionAnnotationBefore:"remove-action-annotation-before",removeActiveAnnotationSuccess:"remove-action-annotation-success",removeActionAnnotationSuccess:"remove-action-annotation-success",removeActiveAnnotationFailed:"remove-action-annotation-failed",removeActionAnnotationFailed:"remove-action-annotation-failed",beforeSwitchStateHandler:"before-switch-state-handler",switchStateHandler:"switch-state-handler",deactiveStateHandler:"deactive-state-handler",redactAnnotAllApplyed:"applyed-all-redaction",redactAnnotApplyed:"applyed-redaction",pageNumberChange:"page-number-change",beforeDocumentRotation:"before-document-rotation",afterDocumentRotation:"after-document-rotation",snapModeChanged:"snap-mode-changed",createPageAreaRenderer:"create-page-area-renderer",destroyPageAreaRenderer:"destroy-page-area-renderer",startUpdatePageAreaRenderer:"start-update-page-area-renderer",createSnapshotArea:"create-snapshot-area",updateSnapshotArea:"update-snapshot-area",stabilizedSnapshotArea:"stabilized-snapshot-area",switchPageAreaRenderer:"switch-page-area-renderer",fitWidthResizeViewport:"fit-width-resize-viewport",signatureFieldMouseLButtonDown:"signature-field-Lbutton-down",signatureFieldMouseLButtonUp:"signature-field-LButton-up",signatureFieldMouseEnter:"signature-field-mouse-enter",signatureFieldMouseExit:"signature-field-mouse-exit",visiblePagesRenderCompleted:"completed-render-visible-pages",marqueeZoomIn:"marquee-zoom-in",marqueeZoomOut:"marquee-zoom-out",inkSignAdded:"inkSign-added",inkSignDeleted:"inkSign-deleted",onlineSignAdded:"onlineSign-added",onlineSignDeleted:"onlineSign-deleted",pageMoved:"page-moved",pageRemoved:"page-removed",pageAdded:"page-added",customDataAdd:"custom-data-add",customDataImported:"custom-data-imported",customDataRemoved:"custom-data-removed",customDataUpdated:"custom-data-updated",distanceAnnotCreationStart:"distance-creation-start",perimeterAnnotCreationStart:"perimeter-creation-start",updateDistanceAnnot:"update-distance-annot",distanceAnnotCreationEnd:"distance-creation-end",distanceAnnotCreationCancel:"distance-creation-cancel",addEditImage:"add-edit-image",InkImageSelected:"ink-image-selected",OnlineImageSelected:"online-image-selected",checkTheSearch:"check-the-search",activeElementChanged:"active-element-changed",cancelCreatingDistance:"cancel-creating-measurement",completeCreatingDistance:"complete-creating-measurement",eraserSuccess:"eraser-success",addAnnotSuccess:"add-annot-success",cancelAddAnnot:"cancel-add-annot",globalAnnotFlagChanged:"global-annot-flag-changed",toolbarTabsClicked:"toolbar-tabs-clicked",sideBarChanged:"sidebar-changed",showWhatsNew:"show-whats-new",disableScroll:"disable-scroll",enableScroll:"enable-scroll",updateScrollableStatus:"update-scrollable-status",selectText:"select-text",changeEnableJS:"change-enable-js",toggleEngineSr2JrSuccess:"toggle-engine-sr-to-jr-success",iconInited:"iconInited",iconAdded:"iconAdded",iconRemoved:"iconRemoved",annotationPermissionChanged:"annotation-premission-changed",startScrollingPage:"pdfui-start-scrolling-page",scrollingPage:"pdfui-scrolling-page",endScrollingPage:"pdfui-end-scrolling-page",designerAssistantStatusChanged:"form-designer-assistant-status-changed",mouseEnter:"mouse-enter",mouseLeave:"mouse-leave",setFromFieldHighlight:"set_form_field_highlight",AddFontMaps:"set_font_map",thumbnailClicked:"thumbnail-clicked",layerActionActived:"layer-action-actived",redeModeShowSidebar:"rede-mode-show-sidebar",gridToggle:"grid-toggle",snapGridToggle:"snap-grid-toggle",toggleCollaborationMode:"toggleCollaborationMode",findReplaceDialogVisibleChange:"find-replace-dialog-visible-change",showAllComments:"show-all-comments",hideAllComments:"hide-all-comments",focusOnControl:"focus-on-control",blurFromObject:"blur-from-object",documentWillPrint:"document-will-print",documentDidPrint:"document-did-print",documentWillSave:"document-will-save",documentDidSave:"document-did-save",verifyDocSignatureEvent:"verify-doc-signature",verifySignatureEvent:"verify-signature",clearSignatureEvent:"clear-signature",viewSignedVersionDocEvent:"view-signed-version",showFieldPropertiesEvent:"show-field-properties",showSignatureVerifyInfoEvent:"show-signature-tusted-info",compareSignedVersionEvent:"compare-signed-version",showCompareSignedVersionResultEvent:"show-compare-signed-version-result",createInkSignSuccess:"createInkSignSuccess",galleryCreateStamp:"galleryCreateStamp",switchGalleryTabActive:"switchGalleryTabActive",mangeStampInner:"mangeStampInner",tapField:"tap-field",tapGraphicsObject:"tap-graphics-object",spawnPageSuccess:" spawn-page-success",progressChanged:"progress-changed",togglePageContextMenu:"toggle-page-contextmenu"},{annotationUpdated:"annotation-updated",annotationIDUpdated:"annotation-id-updated",annotationAppearanceUpdated:"annotation-appearance-updated",annotationReplyAdd:"annotation-reply-add",annotationReplyAdded:"annotation-reply-add",annotationReviewStateAnnotAdd:"annotation-review-state-annot-add",annotationReviewStateAnnotAdded:"annotation-review-state-annot-add",annotationMarkedStateAnnotAdd:"annotation-marked-state-annot-add",annotationMarkedStateAnnotAdded:"annotation-marked-state-annot-add",annotationStatesCleared:"annotation-states-cleared",annotationRemoved:"annotation-removed",annotationMovedPosition:"annotation-moved-position",annotationPositionMoved:"annotation-moved-position",annotationAdded:"annotation-add",annotationAdd:"annotation-add",moveAnnotsToPages:"moveAnnotsToPages",annotationImported:"annotation-imported",annotationImportedEx:"annotation-imported-ex",annotationLoaded:"annotation-loaded",actionUpdated:"action-updated",actionAdd:"action-add",actionAdded:"action-add",actionRemove:"action-remove",actionRemoved:"action-remove",layerVisibleChange:"layer-visible-change",layerVisibleChanged:"layer-visible-change",layerRemoved:"layer-removed",layerMerged:"layer-merged",bookmarkAdded:"bookmark-added",structureBookmarkAdded:"structure-bookmark-added",bookmarkUpdated:"bookmark-updated",bookmarkRemoved:"bookmark-removed",stateAnnotNameUpdated:"state-annot-name-updated",pageInfoChange:"page-info-change",pageInfoChanged:"page-info-change",pageRotationChange:"page-rotation-change",pageRotationChanged:"page-rotation-change",imageAdded:"image-added",watermarkAdded:"watermark-added",watermarkRemoved:"watermark-removed",graphicsUpdated:"graphics-updated",permissionChanged:"permission-changed",docPasswordChanged:"doc-password-changed",drmEncryptSuccess:"drm-encrypt-success",drmEncryptSucceeded:"drm-encrypt-success",drmEncryptFailed:"drm-encrypt-failed",removePwdAndPerm:"remove-password-and-permission",pwdAndPermRemoved:"remove-password-and-permission",securityTypeChanged:"security-type-changed",pageMoved:"page-moved",pageRemoved:"page-removed",pageAdded:"page-added",insertPages:"import-pages",pagesInserted:"import-pages",importPages:"import-pages",documentAttachmentAdd:"document-attachment-add",docAttachmentAdded:"document-attachment-add",documentAttachmentModify:"document-attachment-modify",docAttachmentModified:"document-attachment-modify",documentAttachmentRemove:"document-attachment-remove",docAttachmentRemoved:"document-attachment-remove",applyRedaction:"apply-redaction",redactionApplied:"apply-redaction",removeReviewState:"remove-review-state",reviewStateRemoved:"remove-review-state",removeMarkedState:"remove-marked-state",markedStateRemoved:"remove-marked-state",formValueChanged:"form-value-changed",metaDataChanged:"meta-data-changed",docModified:"doc-modified",flattened:"flattened",headerFooterUpdated:"headerFooterUpdated",headerFooterAdded:"headerFooterAdded",COChange:"COChange",COChanged:"COChange",pagesReversed:"pages-reversed",pagesMoved:"pages-moved",pagesRemoved:"pages-removed",pagesRotated:"pages-rotated",pageMeasureScaleRatioChanged:" page-measure-scale-ratio-changed",obtainsPageFromEngine:"obtains-page-from-engine",pagesBoxChange:"pages-box-changed",pagesBoxChanged:"pages-box-changed",pagesLabelChange:"pages-label-change",pagesLabelChanged:"pages-label-change",pagesLabelNeedUpdate:"pages-label-need-change",pagesLabelNeedUpdated:"pages-label-need-change",pagesReplace:"pages-replace",pagesReplaced:"pages-replace",recognitionForm:"recognition-form",removeEmbeddedPageThumbnail:"remove-embedded-page-thumbnail",embeddedPageThumbnailRemoved:"remove-embedded-page-thumbnail",objectStartEdit:"object-start-edit",objectEndEdit:"object-end-edit",objectSelectionChanged:"object-selection-changed",objectAdded:"object-added",objectPropertyChanged:"object-property-changed",paragraphTextOnActivate:"paragraph-text-on-activate",paragraphTextOnDeactivate:"paragraph-text-on-deactivate",paragraphTextEnterEdit:"paragraph-text-enter-edit",paragraphTextExitEdit:"paragraph-text-exit-edit",paragraphTextOnChar:"paragraph-text-on-char",articleThreadAdded:"article-thread-added",articleThreadUpdated:"article-thread-updated",articleThreadRemoved:"article-thread-removed",articleBeadAdded:"article-bead-added",articleBeadRemoved:"article-bead-removed",articleBeadUpdated:"article-bead-updated",articleEnterReadMode:"article-enter-read-mode",articleOutReadMode:"article-out-read-mode",signChinaNoApply:"sign-china-no-apply",signChinaFlowNoApply:"sign-china-flow-no-apply",signChinaLegalNoticeConfirm:"sign-china-legal-notice-confirm",invalidRect:"invalidRect",formReloaded:"formReloaded"}),ns=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))};let os=function(){function e(e,t){this.internalGraphicObject=e,this.pdfViewer=t}var t=e.prototype;return t.setProperties=function(e){return ns(this,void 0,void 0,(function*(){const t=this.pdfViewer.getCurrentPDFDoc();if(!t)throw new Error("Unable to apply property modifications. The document is either not open or has been closed. Please ensure the document is open and accessible for editing.");if("page-editor"!==this.pdfViewer.getStateHandlerManager().currentStateHandler.getStateName())throw new Error("Unable to apply property modifications. Current state handler is not page-editor!");const n=t.getPageEditor(),o=this.resolvePropertiesKeyName(e);for(const e in o){const t=o[e];if("shading-style-color"===e&&!(t instanceof Array))throw new Error("The value of the shading style color shoud be an array!");yield zr(this.internalGraphicObject,n,e,t,this.pdfViewer.viewerUI.rootComponent,!0)}}))},t.resolvePropertiesKeyName=function(e){const t={};["arrangeAlignment","arrangePagecenter","arrangeAlignment","arrangeDistribute","arrangeRotate","arrangeFlip","arrangeZorder"].forEach((n=>{if(n in e){const o=e[n],i=n.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+"-"+o;t[i]=!0,delete e[n]}}));for(const n in e){const o=n.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()));t[o]=e[n]}return t},e}(),is=function(e){function t(){return e.apply(this,arguments)||this}return l(t,e),s(t,[{key:"type",get:function(){return ie[ie.Text]}}]),t}(os),rs=function(e){function t(){return e.apply(this,arguments)||this}return l(t,e),t.prototype.resolvePropertiesKeyName=function(t){const n=e.prototype.resolvePropertiesKeyName.call(this,t),o=t.shapeBorderColor,i=t.shapeBackgroundColor;return(o||i)&&(n["shape-style-color"]={borderColor:o,backgroundColor:i}),delete n["shape-border-color"],delete n["shape-background-color"],n},s(t,[{key:"type",get:function(){return ie[ie.Path]}}]),t}(os),as=function(e){function t(){return e.apply(this,arguments)||this}return l(t,e),s(t,[{key:"type",get:function(){return ie[ie.Shading]}}]),t}(os),ss=function(e){function t(){return e.apply(this,arguments)||this}return l(t,e),s(t,[{key:"type",get:function(){return ie[ie.All]}}]),t}(os);var cs,ls,us,ps,ds,gs;!function(e){e.VERTICALLY="vertically",e.HORIZONTALLY="horizontally",e.BOTH="both"}(cs||(cs={})),function(e){e.VERTICALLY="vertically",e.HORIZONTALLY="horizontally",e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom"}(ls||(ls={})),function(e){e.VERTICALLY="vertically",e.HORIZONTALLY="horizontally"}(us||(us={})),function(e){e.CLOCKWISE="clockwise",e.COUNTERCLOCKWISE="counter-clockwise"}(ps||(ps={})),function(e){e.VERTICALLY="vertically",e.HORIZONTALLY="horizontally"}(ds||(ds={})),function(e){e.TO_BACK="to-back",e.TO_FRONT="to-front"}(gs||(gs={}));let fs=u.PDFViewCtrl.ViewerEvents;u.UIEvents;const hs=u.vendors.jQuery;let ms=function(e){function t(){return e.apply(this,arguments)||this}l(t,e),t.getName=function(){return"EditTextController"};var n=t.prototype;return n.changePermission=function(e){this.getPDFUI().getPDFDocRender().then((e=>{e.getUserPermission().getValue()&this.constructor.permission?this.component.unlock&&this.component.unlock():this.component.lock&&this.component.lock()}))},n.stateIn=function(){const e=this.component.parent;e.is("dropdown")&&e.selectable&&(e.select(this.component),e.separate&&e.iconElement.setAttribute("aria-pressed","true"),e.addCSSClass("selected"))},n.stateOut=function(){const e=this.component.parent;e.is("dropdown")&&e.selectable&&(e.separate&&e.iconElement.setAttribute("aria-pressed","false"),e.removeCSSClass("selected"))},n.changeBtnState=function(){"touch-up-editor"===this.getPDFUI().pdfViewer.getStateHandlerManager().currentStateHandler.getStateName()?(this.component.active(),this.stateIn()):(this.component.deactive(),this.stateOut())},n.mounted=function(){e.prototype.mounted.call(this),this.changeBtnState(),this.addDestroyHook(this.getPDFUI().addViewerEventListener(ts.toolbarTabsClicked,(e=>{e&&["edit-tab","home-tab"].includes(e.name)&&this.changeBtnState()})))},n.handle=function(e,t=!1,n){let o=this.getPDFUI();o.getStateHandlerManager().then((e=>{if(e.getCurrentStates()===Di){let t=Di.getType();Bi(o),"joinSplit"===t?Di.joinSplit2EditText(o,e.pdfViewer):Di.activateType(o,e.pdfViewer,"touchup",!1)}else{let i;if(t){let e,t;n.selectedPages.length>=1&&(e=n.selectedPages[0].pageRender,t=n.selectedPages[0].rectArray);i=[e.index],i.push([[t[0].start,t[0].end]])}Di.activateType(o,e.pdfViewer,"touchup",!1,i),e.switchTo(Di.getStateName())}this.changeBtnState()})),t||(this.openRightTextEditPanel(o,t),o.getPDFDocRender().then((e=>{e.$ui.find(".fv__mark-selection-blank").remove()})))},n.openRightTextEditPanel=async function(e,t){const n=await e.getComponentByName("sidebar-right");if(!n){const n=await e.getComponentByName("edit-properties");if(!n)return;return void(!t&&n&&(n.setHost({},L.TouchUp),n.disable()))}n.showRightFormatPanel(L.TouchUp);const o=await e.getComponentByName("sidebar-right-tabs");if(!o)return;o.openTab("edit-properties-panel"),o.setActivetab("edit-properties-panel");const i=await e.getComponentByName("edit-properties");!t&&i&&(i.setHost({},L.TouchUp),i.disable())},n.postlink=function(){this.addDestroyHook(this.getPDFUI().addViewerEventListener("switch-state-handler",((e,t,n)=>{if(Bi(this.getPDFUI()),["page-editor","touch-up-editor"].indexOf(e.getStateName())>-1){if(n&&n.disableRightPanel)return;if("findReplace"===Di.getType())return;this.openRightTextEditPanel(this.getPDFUI(),0)}})))},s(t,null,[{key:"permission",get:function(){return u.PDFViewCtrl.Consts.PDFDocPermission.ModifyDocument}}]),t}(u.Controller),vs=function(e){function t(){return e.apply(this,arguments)||this}l(t,e),t.getName=function(){return"JoinSplitController"};var n=t.prototype;return n.changePermission=function(e){this.getPDFUI().getPDFDocRender().then((e=>{e.getUserPermission().getValue()&this.constructor.permission?this.component.unlock&&this.component.unlock():this.component.lock&&this.component.lock()}))},n.handle=function(){let e=this.getPDFUI();e.getStateHandlerManager().then((t=>{t.getCurrentStates()===Di?("touchup"===Di.getType()&&Gi.trigger("OnDeactivate"),Bi(e),Di.activateType(e,t.pdfViewer,"joinSplit")):(Di.activateType(e,t.pdfViewer,"joinSplit"),t.switchTo(Di.getStateName()))}))},s(t,null,[{key:"permission",get:function(){return u.PDFViewCtrl.Consts.PDFDocPermission.ModifyDocument}}]),t}(u.Controller),bs=function(e){function t(){return e.apply(this,arguments)||this}l(t,e),t.getName=function(){return"page-editor"},t.getLoader=function(){return d()},t.initOnLoad=function(){const e=u.modular.module("page-editor",[]);e.registerController(ms),e.registerController(vs),e.registerPreConfiguredComponent("edit-text",{template:'<ribbon-button name="edit-text" icon-class="fv__icon-edit-touch-up" @tooltip text="page-editor:buttons.edit-text"></ribbon-button>',config:[{target:"edit-text",tooltip:{title:"page-editor:buttons.edit-text"},callback:ms}]}),e.registerPreConfiguredComponent("join-split",{template:'<ribbon-button name="join-split" icon-class="fv__icon-edit-join-split" @tooltip text="page-editor:buttons.join-split"></ribbon-button>',config:[{target:"join-split",tooltip:{title:"page-editor:buttons.join-split"},callback:vs}]}),e.registerPreConfiguredComponent("join",{template:'<ribbon-button name="join-split-join" class="fv__ui-toolbar-show-text-button" icon-class="fv__icon-join-split-join" @tooltip text="page-editor:buttons.join"></ribbon-button>',config:[{target:"join-split-join",tooltip:{title:"page-editor:buttons.join"},callback:function(e){function t(){return e.apply(this,arguments)||this}return l(t,e),t.getName=function(){return"join"},t.prototype.handle=function(){this.getPDFUI().getCurrentPDFDoc().then((e=>{e.getTouchup().handleEvent("JoinBoxes")}))},t}(u.Controller)}]}),e.registerPreConfiguredComponent("split",{template:'<ribbon-button name="join-split-split" class="fv__ui-toolbar-show-text-button" icon-class="fv__icon-join-split-split" @tooltip text="page-editor:buttons.split"></ribbon-button>',config:[{target:"join-split-split",tooltip:{title:"page-editor:buttons.split"},callback:function(e){function t(){return e.apply(this,arguments)||this}return l(t,e),t.getName=function(){return"split"},t.prototype.handle=function(){this.getPDFUI().getCurrentPDFDoc().then((e=>{e.getTouchup().handleEvent("SplitBoxes")}))},t}(u.Controller)}]}),e.registerPreConfiguredComponent("link",{template:'<ribbon-button name="join-split-link" class="fv__ui-toolbar-show-text-button" icon-class="fv__icon-join-split-link" @tooltip text="page-editor:buttons.link"></ribbon-button>',config:[{target:"join-split-link",tooltip:{title:"page-editor:buttons.link"},callback:function(e){function t(){return e.apply(this,arguments)||this}return l(t,e),t.getName=function(){return"link"},t.prototype.handle=function(){this.getPDFUI().getCurrentPDFDoc().then((e=>{e.getTouchup().handleEvent("LinkBoxes")}))},t}(u.Controller)}]}),e.registerPreConfiguredComponent("unlink",{template:'<ribbon-button name="join-split-unlink" class="fv__ui-toolbar-show-text-button" icon-class="fv__icon-join-split-unlink" @tooltip text="page-editor:buttons.unlink"></ribbon-button>',config:[{target:"join-split-unlink",tooltip:{title:"page-editor:buttons.unlink"},callback:function(e){function t(){return e.apply(this,arguments)||this}return l(t,e),t.getName=function(){return"unlink"},t.prototype.handle=function(){this.getPDFUI().getCurrentPDFDoc().then((e=>{e.getTouchup().handleEvent("UnlinkBoxes")}))},t}(u.Controller)}]}),e.registerPreConfiguredComponent("select-none",{template:'<ribbon-button name="join-split-select-none" class="fv__ui-toolbar-show-text-button" icon-class="fv__icon-join-split-select-none" @tooltip text="page-editor:buttons.select-none"></ribbon-button>',config:[{target:"join-split-select-none",tooltip:{title:"page-editor:buttons.select-none"},callback:function(e){function t(){return e.apply(this,arguments)||this}return l(t,e),t.getName=function(){return"select-none"},t.prototype.handle=function(){this.getPDFUI().getCurrentPDFDoc().then((e=>{e.getTouchup().handleEvent("SelectNone")}))},t}(u.Controller)}]}),e.registerPreConfiguredComponent("close",{template:'<ribbon-button name="join-split-close" class="fv__ui-toolbar-show-text-button" icon-class="fv__icon-join-split-close" @tooltip text="page-editor:buttons.close"></ribbon-button>',config:[{target:"join-split-close",tooltip:{title:"page-editor:buttons.close"},callback:function(e){function t(){return e.apply(this,arguments)||this}return l(t,e),t.getName=function(){return"close"},t.prototype.handle=function(){this.getPDFUI().getStateHandlerManager().then((e=>{e.switchTo("hand"),this.getPDFUI().getComponentByName("edit-tab").then((e=>{e.active()}))}))},t}(u.Controller)}]}),e.registerController(La),e.registerController(Wa),e.registerPreConfiguredComponent("edit-object-ribbon-dropdown",{template:Na()()}),e.registerController(Ya),e.registerPreConfiguredComponent("add-text-button",{template:'<ribbon-button name="fv--plugin-PageEditor-add-text" icon-class="fv__icon-menu-add-text" @controller="page-editor:AddTextController" @tooltip tooltip-title="page-editor:addText.title">page-editor:addText.title</ribbon-button>'}),e.registerController(qa),e.registerPreConfiguredComponent("add-image-button",{template:'<ribbon-button name="fv--plugin-PageEditor-add-image" icon-class="fv__icon-menu-add-image" @controller="page-editor:AddImageAdvController" @tooltip tooltip-title="page-editor:addImage.title" class="fx-ribbon-hidden-dropdown" @var.self="$component" not-dropdown="true">\n                <dropdown @on.selected="self.select($args[0])" selected="0">\n                    <file-selector ribbon-icon="fx-icon-ribbon_edit_add_images-32" icon-class="fv__icon-edit-add-image" accept=".bmp,.jpg,.jpeg,.jpf,.jpx,.jp2,.j2k,.jpc,.j2c,.png,.tiff,.tif,.exif,.gif" text="page-editor:addImage.title"></file-selector>\n                </dropdown>\n            </ribbon-button>'}),e.registerController(es),e.registerPreConfiguredComponent("add-shapes-ribbon-dropdown",{template:Qa()()})};var n=t.prototype;return n.destroy=function(){Di.prototype.getPDFUI=()=>{}},n.init=function(e){this.pdfUI=e,Di.prototype.getPDFUI=()=>e,e.getPDFViewer().then((e=>{this.viewer=e,e.getStateHandlerManager().register(wa),e.getStateHandlerManager().register(Di),e.getScrollWrap().addScrollEventListener((()=>this.updatePageMatrix(100)))})),e.getComponentByName("edit-properties").then((t=>{t&&hs(t.element).on("pointerup",".icon-btn[name]",(()=>{switch(e.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()){case"page-editor":case"touch-up-editor":break;default:return}I.getElement().focus()}))})),e.addViewerEventListener({[fs.zoomToSuccess]:()=>this.updatePageMatrix(100),[fs.changeViewModeSuccess]:()=>this.updatePageMatrix(100),[PDFViewCtrl.Events.openFileSuccess]:e=>nr.hide(),[fs.switchStateHandler]:(t,n)=>{["touch-up-editor","page-editor"].includes(t.getStateName())||e.getComponentByName("edit-properties").then((t=>{t&&[L.TextObject,L.PathObject,L.ImageObject,L.ShadingObject,L.FormXObject,L.TouchUp].indexOf(t.hostType)>-1&&e.getComponentByName("sidebar-right-tabs").then((e=>{e&&e.openTabs.length>1&&e.closeTab("edit-properties-panel")}))}))},"switch-touchup":({type:t="touchup"})=>{let n=e.pdfViewer.getStateHandlerManager();Di.setType(t),n.getCurrentStates()!==Di&&(Di.activateType(e,n.pdfViewer,t,!1),n.switchTo(Di.getStateName()))},[fs.pageAdded]:()=>{this.reInitPageEditor()},[fs.pageMoved]:()=>{this.reInitPageEditor()},[fs.pagesMoved]:()=>{this.reInitPageEditor()},[fs.pageRemoved]:()=>{this.reInitPageEditor()},[fs.pagesRemoved]:()=>{this.reInitPageEditor()},[fs.insertPages]:()=>{this.reInitPageEditor()},[fs.importPages]:()=>{this.reInitPageEditor()}}),e.registerDialog("pageEditorProps",(()=>{if(!this.dialog)return e.getComponentByName("template-container").then((e=>{let t=this.dialog=e.append(Ia()(),[{target:"PE-lineStyle",config:{selectorClass:"fv__ui-border-style-selector",options:[{value:0,class:"fv__ui-line-style-0",lable:!1},{value:1,class:"fv__ui-line-style-1",lable:!1},{value:2,class:"fv__ui-line-style-2",lable:!1},{value:3,class:"fv__ui-line-style-3",lable:!1},{value:4,class:"fv__ui-line-style-4",lable:!1},{value:5,class:"fv__ui-line-style-5",lable:!1},{value:6,class:"fv__ui-line-style-6",lable:!1}]}}]);t.open(document.body),t.show()}));this.dialog.show()}))},n.reInitPageEditor=function(){this.pdfUI.getCurrentPDFDoc().then((e=>{e.api.reInitPageEditor(e.id)}))},n.updatePageMatrix=function(e){let t=this.viewer;switch(t.getStateHandlerManager().currentStateHandler.getStateName()){case"page-editor":ji(t,0,e);break;case"touch-up-editor":ji(t,1,e)}},n.beforeMounted=function(e){},n.fragments=function(){return[]},n.receiveAction=function(e,t){let n=this[e];if("function"==typeof n)return n.apply(this,t)},n.getActiveObject=function(){const e=this.pdfUI.pdfViewer,t=e.getCurrentPDFDoc();if(!t)return Promise.resolve();if("page-editor"!==e.getStateHandlerManager().currentStateHandler.getStateName())return Promise.resolve();return t.getPageEditor().getActiveObject().then((t=>t&&function(e,t){switch(e.json.type){case 1:return new is(e,t);case 2:return new rs(e,t);case 4:return new as(e,t);default:return new ss(e,t)}}(t,e)))},n.onClick=function(e,t,n=!0){const o=this.pdfUI.pdfViewer;if(!o.getCurrentPDFDoc())return Promise.resolve();if("page-editor"!==o.getStateHandlerManager().currentStateHandler.getStateName())return Promise.resolve();let i;if(n){let n=o.getPDFPageRender(e);if(!n)return Promise.resolve();i=n.transformPoint({point:t,srcType:"pdf",destType:"PDFViewerPort"})}else i=Promise.resolve(t);return i.then((t=>{const n=devicePixelRatio||1,i=[{type:"EditorPage",value:e},{type:"PointF",value:[t.x*n,t.y*n]}];return o.eventEmitter.emit("PageEditor_onStartClick"),Gi.trigger("OnHitObjectTest",[].concat(i)).then((()=>Gi.trigger("OnLButtonDown",[].concat(i,[0])).then((()=>Gi.trigger("OnLButtonUp",[].concat(i,[0])).then((()=>{this.pdfUI.getComponentByName("sidebar-right").then((e=>{e&&e.hide()}))})))))).finally((()=>{o.eventEmitter.emit("PageEditor_onEndClick")}))}))},n.activate=function(e){return Promise.all([this.pdfUI.getCurrentPDFDoc(),this.pdfUI.getStore()]).then((([t,n])=>{if(t)return this.pdfUI.getStateHandlerManager().then((o=>{n.dispatch(pe,le),o.switchTo(wa.getStateName(),{disableRightPanel:!0});return t.getPageEditor().setObjectFilter(Y[e]).then((()=>(this.pdfUI.getComponentByName("sidebar-right").then((e=>{e&&e.hide()})),this.pdfUI.getComponentByName("edit-object-ribbon-dropdown").then((t=>{if(!t)return;const n=t.getComponentByName(e);n&&hs(n.element).addClass("active").siblings().removeClass("active")})))))}))}))},n.deactivate=function(){return this.pdfUI.getStateHandlerManager().then((e=>(e.switchTo("hand"),this.pdfUI.getComponentByName("edit-object-ribbon-dropdown").then((e=>{if(!e)return;const t=e.getComponentByName("All");t&&hs(t.element).removeClass("active").siblings().removeClass("active")})))))},s(t,null,[{key:"permission",get:function(){return u.PDFViewCtrl.Consts.PDFDocPermission.ModifyDocument}}]),t}(u.UIXAddon);t(u.addons,{},{page_editor:{...e,AddImageAdvController:qa,AddShapesController:es,AddTextController:Ya,EditObjectController:Wa,EditTextController:ms,JoinSplitController:vs}})}(),r=r.default}()}));