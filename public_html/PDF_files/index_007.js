!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],t):"object"==typeof exports?exports.ARIAUIXAddon=t(require("UIExtension")):e.ARIAUIXAddon=t(e.UIExtension)}(self,(function(e){return function(){var t={7511:function(e){e.exports=null},4616:function(t){"use strict";t.exports=e},509:function(e,t,n){"use strict";var i=n(9985),r=n(3691),o=TypeError;e.exports=function(e){if(i(e))return e;throw new o(r(e)+" is not a function")}},2655:function(e,t,n){"use strict";var i=n(9429),r=n(3691),o=TypeError;e.exports=function(e){if(i(e))return e;throw new o(r(e)+" is not a constructor")}},3550:function(e,t,n){"use strict";var i=n(9985),r=String,o=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw new o("Can't set "+r(e)+" as a prototype")}},7370:function(e,t,n){"use strict";var i=n(4201),r=n(5391),o=n(2560).f,a=i("unscopables"),s=Array.prototype;void 0===s[a]&&o(s,a,{configurable:!0,value:r(null)}),e.exports=function(e){s[a][e]=!0}},1514:function(e,t,n){"use strict";var i=n(730).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},767:function(e,t,n){"use strict";var i=n(3622),r=TypeError;e.exports=function(e,t){if(i(t,e))return e;throw new r("Incorrect invocation")}},5027:function(e,t,n){"use strict";var i=n(8999),r=String,o=TypeError;e.exports=function(e){if(i(e))return e;throw new o(r(e)+" is not an object")}},4328:function(e,t,n){"use strict";var i=n(5290),r=n(7578),o=n(6310),a=function(e){return function(t,n,a){var s,l=i(t),c=o(l),u=r(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},6834:function(e,t,n){"use strict";var i=n(3689);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){return 1},1)}))}},8820:function(e,t,n){"use strict";var i=n(509),r=n(690),o=n(4413),a=n(6310),s=TypeError,l=function(e){return function(t,n,l,c){i(n);var u=r(t),d=o(u),f=a(u),h=e?f-1:0,p=e?-1:1;if(l<2)for(;;){if(h in d){c=d[h],h+=p;break}if(h+=p,e?h<0:f<=h)throw new s("Reduce of empty array with no initial value")}for(;e?h>=0:f>h;h+=p)h in d&&(c=n(c,d[h],h,u));return c}};e.exports={left:l(!1),right:l(!0)}},6004:function(e,t,n){"use strict";var i=n(8844);e.exports=i([].slice)},6431:function(e,t,n){"use strict";var i=n(4201)("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!r)return!1}catch(e){return!1}var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},6648:function(e,t,n){"use strict";var i=n(8844),r=i({}.toString),o=i("".slice);e.exports=function(e){return o(r(e),8,-1)}},926:function(e,t,n){"use strict";var i=n(3043),r=n(9985),o=n(6648),a=n(4201)("toStringTag"),s=Object,l="Arguments"===o(function(){return arguments}());e.exports=i?o:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?n:l?o(t):"Object"===(i=o(t))&&r(t.callee)?"Arguments":i}},8758:function(e,t,n){"use strict";var i=n(6812),r=n(9152),o=n(2474),a=n(2560);e.exports=function(e,t,n){for(var s=r(t),l=a.f,c=o.f,u=0;u<s.length;u++){var d=s[u];i(e,d)||n&&i(n,d)||l(e,d,c(t,d))}}},1748:function(e,t,n){"use strict";var i=n(3689);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},7807:function(e){"use strict";e.exports=function(e,t){return{value:e,done:t}}},5773:function(e,t,n){"use strict";var i=n(7697),r=n(2560),o=n(5684);e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},5684:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},2148:function(e,t,n){"use strict";var i=n(8702),r=n(2560);e.exports=function(e,t,n){return n.get&&i(n.get,t,{getter:!0}),n.set&&i(n.set,t,{setter:!0}),r.f(e,t,n)}},1880:function(e,t,n){"use strict";var i=n(9985),r=n(2560),o=n(8702),a=n(5014);e.exports=function(e,t,n,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(i(n)&&o(n,c,s),s.global)l?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=n:r.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},5014:function(e,t,n){"use strict";var i=n(9037),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},7697:function(e,t,n){"use strict";var i=n(3689);e.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2659:function(e){"use strict";var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},6420:function(e,t,n){"use strict";var i=n(9037),r=n(8999),o=i.document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},6338:function(e){"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3265:function(e,t,n){"use strict";var i=n(6420)("span").classList,r=i&&i.constructor&&i.constructor.prototype;e.exports=r===Object.prototype?void 0:r},2532:function(e,t,n){"use strict";var i=n(8563),r=n(806);e.exports=!i&&!r&&"object"==typeof window&&"object"==typeof document},8563:function(e){"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},3221:function(e,t,n){"use strict";var i=n(71);e.exports=/ipad|iphone|ipod/i.test(i)&&"undefined"!=typeof Pebble},4764:function(e,t,n){"use strict";var i=n(71);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},806:function(e,t,n){"use strict";var i=n(9037),r=n(6648);e.exports="process"===r(i.process)},7486:function(e,t,n){"use strict";var i=n(71);e.exports=/web0s(?!.*chrome)/i.test(i)},71:function(e){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:function(e,t,n){"use strict";var i,r,o=n(9037),a=n(71),s=o.process,l=o.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(r=(i=u.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(r=+i[1]),e.exports=r},2739:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:function(e,t,n){"use strict";var i=n(9037),r=n(2474).f,o=n(5773),a=n(1880),s=n(5014),l=n(8758),c=n(5266);e.exports=function(e,t){var n,u,d,f,h,p=e.target,m=e.global,b=e.stat;if(n=m?i:b?i[p]||s(p,{}):(i[p]||{}).prototype)for(u in t){if(f=t[u],d=e.dontCallGetSet?(h=r(n,u))&&h.value:n[u],!c(m?u:p+(b?".":"#")+u,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),a(n,u,f,e)}}},3689:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},8678:function(e,t,n){"use strict";n(4043);var i=n(6576),r=n(1880),o=n(6308),a=n(3689),s=n(4201),l=n(5773),c=s("species"),u=RegExp.prototype;e.exports=function(e,t,n,d){var f=s(e),h=!a((function(){var t={};return t[f]=function(){return 7},7!==""[e](t)})),p=h&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!h||!p||n){var m=i(/./[f]),b=t(f,""[e],(function(e,t,n,r,a){var s=i(e),l=t.exec;return l===o||l===u.exec?h&&!a?{done:!0,value:m(t,n,r)}:{done:!0,value:s(n,t,r)}:{done:!1}}));r(String.prototype,e,b[0]),r(u,f,b[1])}d&&l(u[f],"sham",!0)}},1735:function(e,t,n){"use strict";var i=n(7215),r=Function.prototype,o=r.apply,a=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?a.bind(o):function(){return a.apply(o,arguments)})},4071:function(e,t,n){"use strict";var i=n(6576),r=n(509),o=n(7215),a=i(i.bind);e.exports=function(e,t){return r(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},7215:function(e,t,n){"use strict";var i=n(3689);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},2615:function(e,t,n){"use strict";var i=n(7215),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},1236:function(e,t,n){"use strict";var i=n(7697),r=n(6812),o=Function.prototype,a=i&&Object.getOwnPropertyDescriptor,s=r(o,"name"),l=s&&"something"===function(){}.name,c=s&&(!i||i&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},2743:function(e,t,n){"use strict";var i=n(8844),r=n(509);e.exports=function(e,t,n){try{return i(r(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},6576:function(e,t,n){"use strict";var i=n(6648),r=n(8844);e.exports=function(e){if("Function"===i(e))return r(e)}},8844:function(e,t,n){"use strict";var i=n(7215),r=Function.prototype,o=r.call,a=i&&r.bind.bind(o,o);e.exports=i?a:function(e){return function(){return o.apply(e,arguments)}}},6058:function(e,t,n){"use strict";var i=n(9037),r=n(9985);e.exports=function(e,t){return arguments.length<2?(n=i[e],r(n)?n:void 0):i[e]&&i[e][t];var n}},1664:function(e,t,n){"use strict";var i=n(926),r=n(4849),o=n(981),a=n(9478),s=n(4201)("iterator");e.exports=function(e){if(!o(e))return r(e,s)||r(e,"@@iterator")||a[i(e)]}},5185:function(e,t,n){"use strict";var i=n(2615),r=n(509),o=n(5027),a=n(3691),s=n(1664),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(r(n))return o(i(n,e));throw new l(a(e)+" is not iterable")}},4849:function(e,t,n){"use strict";var i=n(509),r=n(981);e.exports=function(e,t){var n=e[t];return r(n)?void 0:i(n)}},7017:function(e,t,n){"use strict";var i=n(8844),r=n(690),o=Math.floor,a=i("".charAt),s=i("".replace),l=i("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,i,d,f){var h=n+e.length,p=i.length,m=u;return void 0!==d&&(d=r(d),m=c),s(f,m,(function(r,s){var c;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,h);case"<":c=d[l(s,1,-1)];break;default:var u=+s;if(0===u)return r;if(u>p){var f=o(u/10);return 0===f?r:f<=p?void 0===i[f-1]?a(s,1):i[f-1]+a(s,1):r}c=i[u-1]}return void 0===c?"":c}))}},9037:function(e,t,n){"use strict";var i=function(e){return e&&e.Math===Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},6812:function(e,t,n){"use strict";var i=n(8844),r=n(690),o=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(r(e),t)}},7248:function(e){"use strict";e.exports={}},920:function(e){"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},2688:function(e,t,n){"use strict";var i=n(6058);e.exports=i("document","documentElement")},8506:function(e,t,n){"use strict";var i=n(7697),r=n(3689),o=n(6420);e.exports=!i&&!r((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},4413:function(e,t,n){"use strict";var i=n(8844),r=n(3689),o=n(6648),a=Object,s=i("".split);e.exports=r((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?s(e,""):a(e)}:a},6738:function(e,t,n){"use strict";var i=n(8844),r=n(9985),o=n(4091),a=i(Function.toString);r(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},618:function(e,t,n){"use strict";var i,r,o,a=n(9834),s=n(9037),l=n(8999),c=n(5773),u=n(6812),d=n(4091),f=n(2713),h=n(7248),p="Object already initialized",m=s.TypeError,b=s.WeakMap;if(a||d.state){var v=d.state||(d.state=new b);v.get=v.get,v.has=v.has,v.set=v.set,i=function(e,t){if(v.has(e))throw new m(p);return t.facade=e,v.set(e,t),t},r=function(e){return v.get(e)||{}},o=function(e){return v.has(e)}}else{var g=f("state");h[g]=!0,i=function(e,t){if(u(e,g))throw new m(p);return t.facade=e,c(e,g,t),t},r=function(e){return u(e,g)?e[g]:{}},o=function(e){return u(e,g)}}e.exports={set:i,get:r,has:o,enforce:function(e){return o(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw new m("Incompatible receiver, "+e+" required");return n}}}},3292:function(e,t,n){"use strict";var i=n(4201),r=n(9478),o=i("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[o]===e)}},9985:function(e,t,n){"use strict";var i=n(2659),r=i.all;e.exports=i.IS_HTMLDDA?function(e){return"function"==typeof e||e===r}:function(e){return"function"==typeof e}},9429:function(e,t,n){"use strict";var i=n(8844),r=n(3689),o=n(9985),a=n(926),s=n(6058),l=n(6738),c=function(){},u=[],d=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,h=i(f.exec),p=!f.test(c),m=function(e){if(!o(e))return!1;try{return d(c,u,e),!0}catch(e){return!1}},b=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!h(f,l(e))}catch(e){return!0}};b.sham=!0,e.exports=!d||r((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?b:m},5266:function(e,t,n){"use strict";var i=n(3689),r=n(9985),o=/#|\.prototype\./,a=function(e,t){var n=l[s(e)];return n===u||n!==c&&(r(t)?i(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},981:function(e){"use strict";e.exports=function(e){return null==e}},8999:function(e,t,n){"use strict";var i=n(9985),r=n(2659),o=r.all;e.exports=r.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:i(e)||e===o}:function(e){return"object"==typeof e?null!==e:i(e)}},3931:function(e){"use strict";e.exports=!1},734:function(e,t,n){"use strict";var i=n(6058),r=n(9985),o=n(3622),a=n(9525),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&o(t.prototype,s(e))}},8734:function(e,t,n){"use strict";var i=n(4071),r=n(2615),o=n(5027),a=n(3691),s=n(3292),l=n(6310),c=n(3622),u=n(5185),d=n(1664),f=n(2125),h=TypeError,p=function(e,t){this.stopped=e,this.result=t},m=p.prototype;e.exports=function(e,t,n){var b,v,g,y,E,_,x,w=n&&n.that,k=!(!n||!n.AS_ENTRIES),A=!(!n||!n.IS_RECORD),S=!(!n||!n.IS_ITERATOR),C=!(!n||!n.INTERRUPTED),D=i(t,w),L=function(e){return b&&f(b,"normal",e),new p(!0,e)},$=function(e){return k?(o(e),C?D(e[0],e[1],L):D(e[0],e[1])):C?D(e,L):D(e)};if(A)b=e.iterator;else if(S)b=e;else{if(!(v=d(e)))throw new h(a(e)+" is not iterable");if(s(v)){for(g=0,y=l(e);y>g;g++)if((E=$(e[g]))&&c(m,E))return E;return new p(!1)}b=u(e,v)}for(_=A?e.next:b.next;!(x=r(_,b)).done;){try{E=$(x.value)}catch(e){f(b,"throw",e)}if("object"==typeof E&&E&&c(m,E))return E}return new p(!1)}},2125:function(e,t,n){"use strict";var i=n(2615),r=n(5027),o=n(4849);e.exports=function(e,t,n){var a,s;r(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw n;return n}a=i(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw n;if(s)throw a;return r(a),n}},974:function(e,t,n){"use strict";var i=n(2013).IteratorPrototype,r=n(5391),o=n(5684),a=n(5997),s=n(9478),l=function(){return this};e.exports=function(e,t,n,c){var u=t+" Iterator";return e.prototype=r(i,{next:o(+!c,n)}),a(e,u,!1,!0),s[u]=l,e}},1934:function(e,t,n){"use strict";var i=n(9989),r=n(2615),o=n(3931),a=n(1236),s=n(9985),l=n(974),c=n(1868),u=n(9385),d=n(5997),f=n(5773),h=n(1880),p=n(4201),m=n(9478),b=n(2013),v=a.PROPER,g=a.CONFIGURABLE,y=b.IteratorPrototype,E=b.BUGGY_SAFARI_ITERATORS,_=p("iterator"),x="keys",w="values",k="entries",A=function(){return this};e.exports=function(e,t,n,a,p,b,S){l(n,t,a);var C,D,L,$=function(e){if(e===p&&O)return O;if(!E&&e&&e in P)return P[e];switch(e){case x:case w:case k:return function(){return new n(this,e)}}return function(){return new n(this)}},q=t+" Iterator",T=!1,P=e.prototype,I=P[_]||P["@@iterator"]||p&&P[p],O=!E&&I||$(p),N="Array"===t&&P.entries||I;if(N&&(C=c(N.call(new e)))!==Object.prototype&&C.next&&(o||c(C)===y||(u?u(C,y):s(C[_])||h(C,_,A)),d(C,q,!0,!0),o&&(m[q]=A)),v&&p===w&&I&&I.name!==w&&(!o&&g?f(P,"name",w):(T=!0,O=function(){return r(I,this)})),p)if(D={values:$(w),keys:b?O:$(x),entries:$(k)},S)for(L in D)(E||T||!(L in P))&&h(P,L,D[L]);else i({target:t,proto:!0,forced:E||T},D);return o&&!S||P[_]===O||h(P,_,O,{name:p}),m[t]=O,D}},2013:function(e,t,n){"use strict";var i,r,o,a=n(3689),s=n(9985),l=n(8999),c=n(5391),u=n(1868),d=n(1880),f=n(4201),h=n(3931),p=f("iterator"),m=!1;[].keys&&("next"in(o=[].keys())?(r=u(u(o)))!==Object.prototype&&(i=r):m=!0),!l(i)||a((function(){var e={};return i[p].call(e)!==e}))?i={}:h&&(i=c(i)),s(i[p])||d(i,p,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:m}},9478:function(e){"use strict";e.exports={}},6310:function(e,t,n){"use strict";var i=n(3126);e.exports=function(e){return i(e.length)}},8702:function(e,t,n){"use strict";var i=n(8844),r=n(3689),o=n(9985),a=n(6812),s=n(7697),l=n(1236).CONFIGURABLE,c=n(6738),u=n(618),d=u.enforce,f=u.get,h=String,p=Object.defineProperty,m=i("".slice),b=i("".replace),v=i([].join),g=s&&!r((function(){return 8!==p((function(){}),"length",{value:8}).length})),y=String(String).split("String"),E=e.exports=function(e,t,n){"Symbol("===m(h(t),0,7)&&(t="["+b(h(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||l&&e.name!==t)&&(s?p(e,"name",{value:t,configurable:!0}):e.name=t),g&&n&&a(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var i=d(e);return a(i,"source")||(i.source=v(y,"string"==typeof t?t:"")),e};Function.prototype.toString=E((function(){return o(this)&&f(this).source||c(this)}),"toString")},8828:function(e){"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?n:t)(i)}},231:function(e,t,n){"use strict";var i,r,o,a,s,l=n(9037),c=n(4071),u=n(2474).f,d=n(9886).set,f=n(4410),h=n(4764),p=n(3221),m=n(7486),b=n(806),v=l.MutationObserver||l.WebKitMutationObserver,g=l.document,y=l.process,E=l.Promise,_=u(l,"queueMicrotask"),x=_&&_.value;if(!x){var w=new f,k=function(){var e,t;for(b&&(e=y.domain)&&e.exit();t=w.get();)try{t()}catch(e){throw w.head&&i(),e}e&&e.enter()};h||b||m||!v||!g?!p&&E&&E.resolve?((a=E.resolve(void 0)).constructor=E,s=c(a.then,a),i=function(){s(k)}):b?i=function(){y.nextTick(k)}:(d=c(d,l),i=function(){d(k)}):(r=!0,o=g.createTextNode(""),new v(k).observe(o,{characterData:!0}),i=function(){o.data=r=!r}),x=function(e){w.head||i(),w.add(e)}}e.exports=x},8742:function(e,t,n){"use strict";var i=n(509),r=TypeError,o=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw new r("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new o(e)}},5391:function(e,t,n){"use strict";var i,r=n(5027),o=n(8920),a=n(2739),s=n(7248),l=n(2688),c=n(6420),u=n(2713),d="prototype",f="script",h=u("IE_PROTO"),p=function(){},m=function(e){return"<"+f+">"+e+"</"+f+">"},b=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;v="undefined"!=typeof document?document.domain&&i?b(i):(t=c("iframe"),n="java"+f+":",t.style.display="none",l.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F):b(i);for(var r=a.length;r--;)delete v[d][a[r]];return v()};s[h]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p[d]=r(e),n=new p,p[d]=null,n[h]=e):n=v(),void 0===t?n:o.f(n,t)}},8920:function(e,t,n){"use strict";var i=n(7697),r=n(5648),o=n(2560),a=n(5027),s=n(5290),l=n(300);t.f=i&&!r?Object.defineProperties:function(e,t){a(e);for(var n,i=s(t),r=l(t),c=r.length,u=0;c>u;)o.f(e,n=r[u++],i[n]);return e}},2560:function(e,t,n){"use strict";var i=n(7697),r=n(8506),o=n(5648),a=n(5027),s=n(8360),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",h="writable";t.f=i?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&h in n&&!n[h]){var i=u(e,t);i&&i[h]&&(e[t]=n.value,n={configurable:f in n?n[f]:i[f],enumerable:d in n?n[d]:i[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(a(e),t=s(t),a(n),r)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},2474:function(e,t,n){"use strict";var i=n(7697),r=n(2615),o=n(9556),a=n(5684),s=n(5290),l=n(8360),c=n(6812),u=n(8506),d=Object.getOwnPropertyDescriptor;t.f=i?d:function(e,t){if(e=s(e),t=l(t),u)try{return d(e,t)}catch(e){}if(c(e,t))return a(!r(o.f,e,t),e[t])}},2741:function(e,t,n){"use strict";var i=n(4948),r=n(2739).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},7518:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},1868:function(e,t,n){"use strict";var i=n(6812),r=n(9985),o=n(690),a=n(2713),s=n(1748),l=a("IE_PROTO"),c=Object,u=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=o(e);if(i(t,l))return t[l];var n=t.constructor;return r(n)&&t instanceof n?n.prototype:t instanceof c?u:null}},3622:function(e,t,n){"use strict";var i=n(8844);e.exports=i({}.isPrototypeOf)},4948:function(e,t,n){"use strict";var i=n(8844),r=n(6812),o=n(5290),a=n(4328).indexOf,s=n(7248),l=i([].push);e.exports=function(e,t){var n,i=o(e),c=0,u=[];for(n in i)!r(s,n)&&r(i,n)&&l(u,n);for(;t.length>c;)r(i,n=t[c++])&&(~a(u,n)||l(u,n));return u}},300:function(e,t,n){"use strict";var i=n(4948),r=n(2739);e.exports=Object.keys||function(e){return i(e,r)}},9556:function(e,t){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);t.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},9385:function(e,t,n){"use strict";var i=n(2743),r=n(5027),o=n(3550);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=i(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),o(i),t?e(n,i):n.__proto__=i,n}}():void 0)},5899:function(e,t,n){"use strict";var i=n(2615),r=n(9985),o=n(8999),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&r(n=e.toString)&&!o(s=i(n,e)))return s;if(r(n=e.valueOf)&&!o(s=i(n,e)))return s;if("string"!==t&&r(n=e.toString)&&!o(s=i(n,e)))return s;throw new a("Can't convert object to primitive value")}},9152:function(e,t,n){"use strict";var i=n(6058),r=n(8844),o=n(2741),a=n(7518),s=n(5027),l=r([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?l(t,n(e)):t}},9302:function(e){"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},7073:function(e,t,n){"use strict";var i=n(9037),r=n(7919),o=n(9985),a=n(5266),s=n(6738),l=n(4201),c=n(2532),u=n(8563),d=n(3931),f=n(3615),h=r&&r.prototype,p=l("species"),m=!1,b=o(i.PromiseRejectionEvent),v=a("Promise",(function(){var e=s(r),t=e!==String(r);if(!t&&66===f)return!0;if(d&&(!h.catch||!h.finally))return!0;if(!f||f<51||!/native code/.test(e)){var n=new r((function(e){e(1)})),i=function(e){e((function(){}),(function(){}))};if((n.constructor={})[p]=i,!(m=n.then((function(){}))instanceof i))return!0}return!t&&(c||u)&&!b}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:b,SUBCLASSING:m}},7919:function(e,t,n){"use strict";var i=n(9037);e.exports=i.Promise},2945:function(e,t,n){"use strict";var i=n(5027),r=n(8999),o=n(8742);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},562:function(e,t,n){"use strict";var i=n(7919),r=n(6431),o=n(7073).CONSTRUCTOR;e.exports=o||!r((function(e){i.all(e).then(void 0,(function(){}))}))},4410:function(e){"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},6100:function(e,t,n){"use strict";var i=n(2615),r=n(5027),o=n(9985),a=n(6648),s=n(6308),l=TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var c=i(n,e,t);return null!==c&&r(c),c}if("RegExp"===a(e))return i(s,e,t);throw new l("RegExp#exec called on incompatible receiver")}},6308:function(e,t,n){"use strict";var i,r,o=n(2615),a=n(8844),s=n(4327),l=n(9633),c=n(7901),u=n(3430),d=n(5391),f=n(618).get,h=n(2100),p=n(6422),m=u("native-string-replace",String.prototype.replace),b=RegExp.prototype.exec,v=b,g=a("".charAt),y=a("".indexOf),E=a("".replace),_=a("".slice),x=(r=/b*/g,o(b,i=/a/,"a"),o(b,r,"a"),0!==i.lastIndex||0!==r.lastIndex),w=c.BROKEN_CARET,k=void 0!==/()??/.exec("")[1];(x||k||w||h||p)&&(v=function(e){var t,n,i,r,a,c,u,h=this,p=f(h),A=s(e),S=p.raw;if(S)return S.lastIndex=h.lastIndex,t=o(v,S,A),h.lastIndex=S.lastIndex,t;var C=p.groups,D=w&&h.sticky,L=o(l,h),$=h.source,q=0,T=A;if(D&&(L=E(L,"y",""),-1===y(L,"g")&&(L+="g"),T=_(A,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==g(A,h.lastIndex-1))&&($="(?: "+$+")",T=" "+T,q++),n=new RegExp("^(?:"+$+")",L)),k&&(n=new RegExp("^"+$+"$(?!\\s)",L)),x&&(i=h.lastIndex),r=o(b,D?n:h,T),D?r?(r.input=_(r.input,q),r[0]=_(r[0],q),r.index=h.lastIndex,h.lastIndex+=r[0].length):h.lastIndex=0:x&&r&&(h.lastIndex=h.global?r.index+r[0].length:i),k&&r&&r.length>1&&o(m,r[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)})),r&&C)for(r.groups=c=d(null),a=0;a<C.length;a++)c[(u=C[a])[0]]=r[u[1]];return r}),e.exports=v},9633:function(e,t,n){"use strict";var i=n(5027);e.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},7901:function(e,t,n){"use strict";var i=n(3689),r=n(9037).RegExp,o=i((function(){var e=r("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),a=o||i((function(){return!r("a","y").sticky})),s=o||i((function(){var e=r("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},2100:function(e,t,n){"use strict";var i=n(3689),r=n(9037).RegExp;e.exports=i((function(){var e=r(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},6422:function(e,t,n){"use strict";var i=n(3689),r=n(9037).RegExp;e.exports=i((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4684:function(e,t,n){"use strict";var i=n(981),r=TypeError;e.exports=function(e){if(i(e))throw new r("Can't call method on "+e);return e}},4241:function(e,t,n){"use strict";var i=n(6058),r=n(2148),o=n(4201),a=n(7697),s=o("species");e.exports=function(e){var t=i(e);a&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},5997:function(e,t,n){"use strict";var i=n(2560).f,r=n(6812),o=n(4201)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!r(e,o)&&i(e,o,{configurable:!0,value:t})}},2713:function(e,t,n){"use strict";var i=n(3430),r=n(4630),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},4091:function(e,t,n){"use strict";var i=n(9037),r=n(5014),o="__core-js_shared__",a=i[o]||r(o,{});e.exports=a},3430:function(e,t,n){"use strict";var i=n(3931),r=n(4091);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.33.2",mode:i?"pure":"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"})},6373:function(e,t,n){"use strict";var i=n(5027),r=n(2655),o=n(981),a=n(4201)("species");e.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||o(n=i(s)[a])?t:r(n)}},730:function(e,t,n){"use strict";var i=n(8844),r=n(8700),o=n(4327),a=n(4684),s=i("".charAt),l=i("".charCodeAt),c=i("".slice),u=function(e){return function(t,n){var i,u,d=o(a(t)),f=r(n),h=d.length;return f<0||f>=h?e?"":void 0:(i=l(d,f))<55296||i>56319||f+1===h||(u=l(d,f+1))<56320||u>57343?e?s(d,f):i:e?c(d,f,f+2):u-56320+(i-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},146:function(e,t,n){"use strict";var i=n(3615),r=n(3689),o=n(9037).String;e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},9886:function(e,t,n){"use strict";var i,r,o,a,s=n(9037),l=n(1735),c=n(4071),u=n(9985),d=n(6812),f=n(3689),h=n(2688),p=n(6004),m=n(6420),b=n(1500),v=n(4764),g=n(806),y=s.setImmediate,E=s.clearImmediate,_=s.process,x=s.Dispatch,w=s.Function,k=s.MessageChannel,A=s.String,S=0,C={},D="onreadystatechange";f((function(){i=s.location}));var L=function(e){if(d(C,e)){var t=C[e];delete C[e],t()}},$=function(e){return function(){L(e)}},q=function(e){L(e.data)},T=function(e){s.postMessage(A(e),i.protocol+"//"+i.host)};y&&E||(y=function(e){b(arguments.length,1);var t=u(e)?e:w(e),n=p(arguments,1);return C[++S]=function(){l(t,void 0,n)},r(S),S},E=function(e){delete C[e]},g?r=function(e){_.nextTick($(e))}:x&&x.now?r=function(e){x.now($(e))}:k&&!v?(a=(o=new k).port2,o.port1.onmessage=q,r=c(a.postMessage,a)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&i&&"file:"!==i.protocol&&!f(T)?(r=T,s.addEventListener("message",q,!1)):r=D in m("script")?function(e){h.appendChild(m("script"))[D]=function(){h.removeChild(this),L(e)}}:function(e){setTimeout($(e),0)}),e.exports={set:y,clear:E}},7578:function(e,t,n){"use strict";var i=n(8700),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},5290:function(e,t,n){"use strict";var i=n(4413),r=n(4684);e.exports=function(e){return i(r(e))}},8700:function(e,t,n){"use strict";var i=n(8828);e.exports=function(e){var t=+e;return t!=t||0===t?0:i(t)}},3126:function(e,t,n){"use strict";var i=n(8700),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},690:function(e,t,n){"use strict";var i=n(4684),r=Object;e.exports=function(e){return r(i(e))}},8732:function(e,t,n){"use strict";var i=n(2615),r=n(8999),o=n(734),a=n(4849),s=n(5899),l=n(4201),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!r(e)||o(e))return e;var n,l=a(e,u);if(l){if(void 0===t&&(t="default"),n=i(l,e,t),!r(n)||o(n))return n;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},8360:function(e,t,n){"use strict";var i=n(8732),r=n(734);e.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},3043:function(e,t,n){"use strict";var i={};i[n(4201)("toStringTag")]="z",e.exports="[object z]"===String(i)},4327:function(e,t,n){"use strict";var i=n(926),r=String;e.exports=function(e){if("Symbol"===i(e))throw new TypeError("Cannot convert a Symbol value to a string");return r(e)}},3691:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},4630:function(e,t,n){"use strict";var i=n(8844),r=0,o=Math.random(),a=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++r+o,36)}},9525:function(e,t,n){"use strict";var i=n(146);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:function(e,t,n){"use strict";var i=n(7697),r=n(3689);e.exports=i&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1500:function(e){"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},9834:function(e,t,n){"use strict";var i=n(9037),r=n(9985),o=i.WeakMap;e.exports=r(o)&&/native code/.test(String(o))},4201:function(e,t,n){"use strict";var i=n(9037),r=n(3430),o=n(6812),a=n(4630),s=n(146),l=n(9525),c=i.Symbol,u=r("wks"),d=l?c.for||c:c&&c.withoutSetter||a;e.exports=function(e){return o(u,e)||(u[e]=s&&o(c,e)?c[e]:d("Symbol."+e)),u[e]}},752:function(e,t,n){"use strict";var i=n(5290),r=n(7370),o=n(9478),a=n(618),s=n(2560).f,l=n(1934),c=n(7807),u=n(3931),d=n(7697),f="Array Iterator",h=a.set,p=a.getterFor(f);e.exports=l(Array,"Array",(function(e,t){h(this,{type:f,target:i(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,c(void 0,!0);switch(e.kind){case"keys":return c(n,!1);case"values":return c(t[n],!1)}return c([n,t[n]],!1)}),"values");var m=o.Arguments=o.Array;if(r("keys"),r("values"),r("entries"),!u&&d&&"values"!==m.name)try{s(m,"name",{value:"values"})}catch(e){}},278:function(e,t,n){"use strict";var i=n(9989),r=n(8820).left,o=n(6834),a=n(3615);i({target:"Array",proto:!0,forced:!n(806)&&a>79&&a<83||!o("reduce")},{reduce:function(e){var t=arguments.length;return r(this,e,t,t>1?arguments[1]:void 0)}})},1692:function(e,t,n){"use strict";var i=n(9989),r=n(2615),o=n(509),a=n(8742),s=n(9302),l=n(8734);i({target:"Promise",stat:!0,forced:n(562)},{all:function(e){var t=this,n=a.f(t),i=n.resolve,c=n.reject,u=s((function(){var n=o(t.resolve),a=[],s=0,u=1;l(e,(function(e){var o=s++,l=!1;u++,r(n,t,e).then((function(e){l||(l=!0,a[o]=e,--u||i(a))}),c)})),--u||i(a)}));return u.error&&c(u.value),n.promise}})},5089:function(e,t,n){"use strict";var i=n(9989),r=n(3931),o=n(7073).CONSTRUCTOR,a=n(7919),s=n(6058),l=n(9985),c=n(1880),u=a&&a.prototype;if(i({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(e){return this.then(void 0,e)}}),!r&&l(a)){var d=s("Promise").prototype.catch;u.catch!==d&&c(u,"catch",d,{unsafe:!0})}},6697:function(e,t,n){"use strict";var i,r,o,a=n(9989),s=n(3931),l=n(806),c=n(9037),u=n(2615),d=n(1880),f=n(9385),h=n(5997),p=n(4241),m=n(509),b=n(9985),v=n(8999),g=n(767),y=n(6373),E=n(9886).set,_=n(231),x=n(920),w=n(9302),k=n(4410),A=n(618),S=n(7919),C=n(7073),D=n(8742),L="Promise",$=C.CONSTRUCTOR,q=C.REJECTION_EVENT,T=C.SUBCLASSING,P=A.getterFor(L),I=A.set,O=S&&S.prototype,N=S,R=O,F=c.TypeError,H=c.document,M=c.process,j=D.f,B=j,U=!!(H&&H.createEvent&&c.dispatchEvent),z="unhandledrejection",V=function(e){var t;return!(!v(e)||!b(t=e.then))&&t},G=function(e,t){var n,i,r,o=t.value,a=1===t.state,s=a?e.ok:e.fail,l=e.resolve,c=e.reject,d=e.domain;try{s?(a||(2===t.rejection&&J(t),t.rejection=1),!0===s?n=o:(d&&d.enter(),n=s(o),d&&(d.exit(),r=!0)),n===e.promise?c(new F("Promise-chain cycle")):(i=V(n))?u(i,n,l,c):l(n)):c(o)}catch(e){d&&!r&&d.exit(),c(e)}},K=function(e,t){e.notified||(e.notified=!0,_((function(){for(var n,i=e.reactions;n=i.get();)G(n,e);e.notified=!1,t&&!e.rejection&&Y(e)})))},W=function(e,t,n){var i,r;U?((i=H.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),c.dispatchEvent(i)):i={promise:t,reason:n},!q&&(r=c["on"+e])?r(i):e===z&&x("Unhandled promise rejection",n)},Y=function(e){u(E,c,(function(){var t,n=e.facade,i=e.value;if(X(e)&&(t=w((function(){l?M.emit("unhandledRejection",i,n):W(z,n,i)})),e.rejection=l||X(e)?2:1,t.error))throw t.value}))},X=function(e){return 1!==e.rejection&&!e.parent},J=function(e){u(E,c,(function(){var t=e.facade;l?M.emit("rejectionHandled",t):W("rejectionhandled",t,e.value)}))},Q=function(e,t,n){return function(i){e(t,i,n)}},Z=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,K(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new F("Promise can't be resolved itself");var i=V(t);i?_((function(){var n={done:!1};try{u(i,t,Q(ee,n,e),Q(Z,n,e))}catch(t){Z(n,t,e)}})):(e.value=t,e.state=1,K(e,!1))}catch(t){Z({done:!1},t,e)}}};if($&&(R=(N=function(e){g(this,R),m(e),u(i,this);var t=P(this);try{e(Q(ee,t),Q(Z,t))}catch(e){Z(t,e)}}).prototype,(i=function(e){I(this,{type:L,done:!1,notified:!1,parent:!1,reactions:new k,rejection:!1,state:0,value:void 0})}).prototype=d(R,"then",(function(e,t){var n=P(this),i=j(y(this,N));return n.parent=!0,i.ok=!b(e)||e,i.fail=b(t)&&t,i.domain=l?M.domain:void 0,0===n.state?n.reactions.add(i):_((function(){G(i,n)})),i.promise})),r=function(){var e=new i,t=P(e);this.promise=e,this.resolve=Q(ee,t),this.reject=Q(Z,t)},D.f=j=function(e){return e===N||undefined===e?new r(e):B(e)},!s&&b(S)&&O!==Object.prototype)){o=O.then,T||d(O,"then",(function(e,t){var n=this;return new N((function(e,t){u(o,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete O.constructor}catch(e){}f&&f(O,R)}a({global:!0,constructor:!0,wrap:!0,forced:$},{Promise:N}),h(N,L,!1,!0),p(L)},3964:function(e,t,n){"use strict";n(6697),n(1692),n(5089),n(8829),n(2092),n(7905)},8829:function(e,t,n){"use strict";var i=n(9989),r=n(2615),o=n(509),a=n(8742),s=n(9302),l=n(8734);i({target:"Promise",stat:!0,forced:n(562)},{race:function(e){var t=this,n=a.f(t),i=n.reject,c=s((function(){var a=o(t.resolve);l(e,(function(e){r(a,t,e).then(n.resolve,i)}))}));return c.error&&i(c.value),n.promise}})},2092:function(e,t,n){"use strict";var i=n(9989),r=n(2615),o=n(8742);i({target:"Promise",stat:!0,forced:n(7073).CONSTRUCTOR},{reject:function(e){var t=o.f(this);return r(t.reject,void 0,e),t.promise}})},7905:function(e,t,n){"use strict";var i=n(9989),r=n(6058),o=n(3931),a=n(7919),s=n(7073).CONSTRUCTOR,l=n(2945),c=r("Promise"),u=o&&!s;i({target:"Promise",stat:!0,forced:o||s},{resolve:function(e){return l(u&&this===c?a:this,e)}})},4043:function(e,t,n){"use strict";var i=n(9989),r=n(6308);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},7267:function(e,t,n){"use strict";var i=n(1735),r=n(2615),o=n(8844),a=n(8678),s=n(3689),l=n(5027),c=n(9985),u=n(981),d=n(8700),f=n(3126),h=n(4327),p=n(4684),m=n(1514),b=n(4849),v=n(7017),g=n(6100),y=n(4201)("replace"),E=Math.max,_=Math.min,x=o([].concat),w=o([].push),k=o("".indexOf),A=o("".slice),S="$0"==="a".replace(/./,"$0"),C=!!/./[y]&&""===/./[y]("a","$0");a("replace",(function(e,t,n){var o=C?"$":"$0";return[function(e,n){var i=p(this),o=u(e)?void 0:b(e,y);return o?r(o,e,i,n):r(t,h(i),e,n)},function(e,r){var a=l(this),s=h(e);if("string"==typeof r&&-1===k(r,o)&&-1===k(r,"$<")){var u=n(t,a,s,r);if(u.done)return u.value}var p=c(r);p||(r=h(r));var b,y=a.global;y&&(b=a.unicode,a.lastIndex=0);for(var S,C=[];null!==(S=g(a,s))&&(w(C,S),y);){""===h(S[0])&&(a.lastIndex=m(s,f(a.lastIndex),b))}for(var D,L="",$=0,q=0;q<C.length;q++){for(var T,P=h((S=C[q])[0]),I=E(_(d(S.index),s.length),0),O=[],N=1;N<S.length;N++)w(O,void 0===(D=S[N])?D:String(D));var R=S.groups;if(p){var F=x([P],O,I,s);void 0!==R&&w(F,R),T=h(i(r,void 0,F))}else T=v(P,s,I,O,R,r);I>=$&&(L+=A(s,$,I)+T,$=I+P.length)}return L+A(s,$)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!S||C)},6544:function(e,t,n){"use strict";var i=n(9989),r=n(7697),o=n(9037),a=n(8844),s=n(6812),l=n(9985),c=n(3622),u=n(4327),d=n(2148),f=n(8758),h=o.Symbol,p=h&&h.prototype;if(r&&l(h)&&(!("description"in p)||void 0!==h().description)){var m={},b=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=c(p,this)?new h(e):void 0===e?h():h(e);return""===e&&(m[t]=!0),t};f(b,h),b.prototype=p,p.constructor=b;var v="Symbol(description detection)"===String(h("description detection")),g=a(p.valueOf),y=a(p.toString),E=/^Symbol\((.*)\)[^)]+$/,_=a("".replace),x=a("".slice);d(p,"description",{configurable:!0,get:function(){var e=g(this);if(s(m,e))return"";var t=y(e),n=v?x(t,7,-1):_(t,E,"$1");return""===n?void 0:n}}),i({global:!0,constructor:!0,forced:!0},{Symbol:b})}},6265:function(e,t,n){"use strict";var i=n(9037),r=n(6338),o=n(3265),a=n(752),s=n(5773),l=n(4201),c=l("iterator"),u=l("toStringTag"),d=a.values,f=function(e,t){if(e){if(e[c]!==d)try{s(e,c,d)}catch(t){e[c]=d}if(e[u]||s(e,u,t),r[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var h in r)f(i[h]&&i[h].prototype,h);f(o,"DOMTokenList")}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}};return t[e].call(o.exports,o,o.exports,i),o.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var r={};return function(){"use strict";function e(t,n){return e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e(t,n)}function t(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,e(t,n)}i.d(r,{default:function(){return ca}});var n=i(4616),o=i(7511),a=i.n(o);let s=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.getName=function(){return"role"},n.prototype.init=function(t){e.prototype.init.call(this,t),this.attrValue&&t.setAttribute("role",this.attrValue)},n}(n.Directive);const l=n.PDFViewCtrl,c=l.PDF,{eventPath:u}=(c.form.constant.Field_Type,l.shared.browser),{Action_Trigger:d,Graphics_ObjectType:f}=c.constant,{BuiltinShortcutCommand:h,BuiltinShortcutContext:p,KeyboardUtils:m}=l.keyboard,b=l.ViewerEvents,v=n.UIConsts.COMPONENT_EVENTS,{debounce:g}=(n.Directive,l.shared),{PagePointType:y}=l.constants,{Lazy:E,attachKeypressEvent:_,preventFastClickByKeydown:x,createClickEvent:w}=l._internal.shared,{ThrottleAsyncTaskExecutor:k}=(n.PDFUI,l.shared),{STATE_HANDLER_HAND:A}=l.constants.STATE_HANDLER_NAMES,{isEditable:S}=l.commons,{jQuery:C}=l.vendors;function D(e,t){if(e)for(const n in t)L(e,n,t[n])}function L(e,t,n){null!=n&&e&&e.setAttribute(t,n)}function $(e,t){e&&t&&e.removeAttribute(t)}function q(e,...t){e&&t.forEach((t=>{t&&e.removeAttribute(t)}))}let T=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.getName=function(){return"toolbar"},n.prototype.componentMounted=function(){const e=this.component,{subName:t}=this;if("tablist"===t)L(e.element,"role","tablist");else if("tab"===t){const t=e.element.getAttribute("body");e.getRoot().getMountedComponentByName(t).then((t=>{this.isDestroyed||D(e.element,{role:"tab","aria-selected":"false","aria-controls":t.element.id})}))}else if("tabpanel"===t){const t=e.getRoot().getComponentByName("toolbar-tabs").element.querySelector(`[body=${e.name}]`);if(!t)return;D(e.element,{role:"tabpanel",tabindex:"0","aria-labelledby":t.id})}},n}(n.Directive);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function I(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}i(4043);const O="__aria_addon_override_methods__";function N(e,t){R(e.prototype,t,!0)}function R(e,t,n=!1){for(const i in t){const r=t[i];if(r[O])throw new Error(`The method '${i}' of ${clazz} has been overwrited more then once! Please confirm whether the'aria' addon has been loaded.`);const o=e[i];function a(...e){return r.call(this,((t=e)=>o.apply(this,t)),e)}a.$origin=o,e[i]=a,a[O]=!0,n||"function"!=typeof e.addDestroyHook||e.addDestroyHook((()=>{a[O]=!1,e[i]=o}))}}const F="unique_"+Date.now().toString(36);var H=0;function M(e){return[e||"",F,H++].join("_")}function j(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}(t,void 0!==n&&n<i?n:i)}return e(t,n)}const B=n.PDFViewCtrl.shared.isEditableElement,{match:U,matchers:z,isMatch:V}=m,{or:G,ArrowUp:K,ArrowDown:W,ArrowLeft:Y,ArrowRight:X,Enter:J,Space:Q,Home:Z,End:ee,Tab:te}=z;i(3964);function ne(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}(t,void 0!==n&&n<i?n:i)}return e(t,n)}const{match:ie,matchers:re}=m,{Enter:oe,ArrowUp:ae,ArrowDown:se,Escape:le}=re;i(752),i(6265);const{match:ce,matchers:ue}=m,{ArrowUp:de,ArrowDown:fe,Home:he,End:pe,Enter:me}=ue;let be=null;function ve(){be.querySelectorAll(".fv__ui-dialog-button").forEach((e=>{e.classList.contains("disabled")?(e===document.activeElement&&be.querySelector("[name=name]").focus(),D(e,{tabindex:-1,disabled:!0})):(L(e,"tabindex",0),$(e,"disabled"))}))}function ge(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}(t,void 0!==n&&n<i?n:i)}return e(t,n)}const{isMatch:ye,match:Ee,matchers:{or:_e,Space:xe,Enter:we}}=m;const{match:ke,matchers:{Enter:Ae,Space:Se,or:Ce}}=m;i(7267);const{match:De,matchers:Le,isMatch:$e}=m,{ArrowUp:qe,ArrowDown:Te,ArrowLeft:Pe,ArrowRight:Ie,or:Oe,Enter:Ne,Space:Re,Escape:Fe}=Le,He=15;function Me(e){if(e.isActive)if(e.selectable&&e.selectedItem&&!e.selectedItem.disabled)e.selectedItem.focus();else if(!e.selectable){const t=e.childAt(0);if(!t)return;let n=t,i=1;for(;n&&n.disabled;)n=e.childAt(i),i++;if(!n)return;if(n.focus(),!n.hasFocus()){const e=n.childAt&&n.childAt(0);e&&e.focus()}}}const{isMatch:je,matchers:Be}=m,{or:Ue,Enter:ze,Space:Ve}=Be;let Ge=0;function Ke(e){return e+(Ge++).toString(36)}function We(e){return e.separate?e.caretElement:e.togglerElement}function Ye(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}(t,void 0!==n&&n<i?n:i)}return e(t,n)}const{match:Xe,matchers:Je}=m,{Enter:Qe}=Je;const{match:Ze,matchers:et}=m,{Space:tt,Enter:nt,ArrowLeft:it,ArrowRight:rt,Home:ot,End:at,Tab:st,or:lt}=et;const{createFocusEvent:ct}=n.PDFViewCtrl.shared,{match:ut,matchers:dt}=m;function ft(e){const{width:t,height:n}=e.getBoundingClientRect();return t&&n}const{match:ht,matchers:pt}=m,{Enter:mt}=pt;const bt=["Static","SignHere","Dynamic","Favorite"];const{match:vt,matchers:{Enter:gt,Space:yt,Home:Et,End:_t,ArrowLeft:xt,ArrowRight:wt,or:kt}}=m;const{match:At,matchers:St,isMatch:Ct}=m,{Tab:Dt,Enter:Lt,Escape:$t,Home:qt,End:Tt,ArrowUp:Pt,ArrowDown:It,or:Ot}=St;const Nt=(e,t,n)=>{if(t.lable){const i=t.lable;n.addDestroyHook(n.localizer.watch(i,{},i,(t=>{e.setAttribute("aria-label",t)})))}else e.setAttribute("aria-label",t.value)};let Rt=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.getName=function(){return"attr"},n.prototype.init=function(t){e.prototype.init.call(this,t);const n=this.subName,i=this.attrValue;this.addDestroyHook(t.controller.watch(i,(e=>{t.setAttribute("aria-"+n,e)})))},n}(n.Directive),Ft=function(e){function i(t){var n;return(n=e.call(this,t)||this).order=1/0,n}return t(i,e),i.getName=function(){return"label"},i.prototype.componentMounted=function(){const e=this.component,t=e instanceof n.components.widgets.DropdownComponent,i=e instanceof n.components.widgets.RibbonButtonComponent,r=!t&&e instanceof n.components.widgets.SelectComponent,o=(()=>{if(t){switch(this.subName){case"caret":return e.caretElement;case"icon":return e.iconElement;case"editor":return e.editElement;case"list":return e.listElement}return e.togglerElement}if(i){if("list"===this.subName){const t=e.getDropdown();return t&&t.listElement}}else if(r)return e.element.querySelector(".fv__ui-select");return e.element})();let a=this.attrValue;a||(a=e.text),a||(a=e.getAttribute("tooltip-title"));const s=e.localizer.watch(a,{},a,(e=>{o.getAttribute("aria-labelledby")&&o.removeAttribute("aria-labelledby"),o.setAttribute("aria-label",e)}));this.addDestroyHook(s)},i}(n.Directive),Ht=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.getName=function(){return"describedby"},n.prototype.componentMounted=function(){const e=this.component,t=g((()=>{if(e.isDestroyed)return;const t=e.querySelectorAll(this.attrValue);if(t.length>0){const n=t.map((e=>e.id));e.setAttribute("aria-describedby",n.join(" "))}else e.removeAttribute("aria-describedby")}),100),n=e.context;this.addDestroyHook(n.onModifyTree(t),n.onStatusChange(t))},n}(n.Directive),Mt=function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i.getName=function(){return"labelledby"},i.prototype.componentMounted=function(){const e=this.component,t=e instanceof n.components.widgets.DropdownComponent,i=!t&&e instanceof n.components.widgets.SelectComponent,r=()=>{if(t){switch(this.subName){case"caret":return e.caretElement;case"icon":return e.iconElement;case"editor":return e.editElement}return e.togglerElement}return i?e.element.querySelector(".fv__ui-select"):e.element},o=g((()=>{if(e.isDestroyed)return;const t=e.querySelectorAll(this.attrValue),n=r();if(n)if(t.length>0){const e=t.map((e=>e.id));n.setAttribute("aria-labelledby",e.join(" "))}else n.removeAttribute("aria-labelledby")}),100),a=e.context;this.addDestroyHook(a.onModifyTree(o),a.onStatusChange(o))},i}(n.Directive),jt=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.getName=function(){return"rel"},n.prototype.componentMounted=function(){const e=this.component,t=g((()=>{if(e.isDestroyed)return;const t=e.querySelectorAll(this.attrValue),n=this.subName;switch(n){case"activedescendant":case"describedby":case"labelledby":case"flowto":case"owns":case"controls":break;default:throw new Error(`[ARIA]${this.attrName}: Unidentified relative aria property: ${n}`)}const i="aria-"+n;if(t.length>0){const n=t.map((e=>e.id));e.setAttribute(i,n.join(" "))}else e.removeAttribute(i)}),100),n=e.context;this.addDestroyHook(n.onModifyTree(t),n.onStatusChange(t))},n}(n.Directive),Bt=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.getName=function(){return"alt"},n.prototype.init=function(t){e.prototype.init.call(this,t),this.addDestroyHook(t.localizer.watch(this.attrValue,{},this.attrValue,(e=>{t.setAttribute("alt",e)})))},n}(n.Directive);i(278);const{match:Ut,matchers:zt}=m;let Vt=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.getName=function(){return"button"},n.prototype.componentMounted=function(){const e=this.component;D(e,{role:"button",tabindex:0});const t=setInterval((()=>{if(this.isDestroyed)return;const t=e.element;D(t,{"aria-disabled":t.classList.contains("disabled"),tabindex:t.classList.contains("disabled")?"-1":"0"})}),500);this.addDestroyHook((()=>{clearInterval(t)}))},n}(n.Directive);const Gt=["$"," DM","â¬","fl"," F"," kr","Lit. "," Pts","Â£","$A. ","$NZ. ","Ð ÑÐ± ","ESC. ","HK$ ","P. ","RMBÂ¥","NT$ ","S.$ ","W","Â¥","zÅ","SEK ","kr ","C$ "];let Kt=function(){function e(){}return e.GetSeperatorString=function(e,t){let n=""+e,i=n.length;return i>3?0==t?this.GetSeperatorString(parseInt(n.substr(0,i-3)),t)+"."+n.substr(i-3):1==t?this.GetSeperatorString(parseInt(n.substr(0,i-3)),t)+","+n.substr(i-3):this.GetSeperatorString(parseInt(n.substr(0,i-3)),t)+" "+n.substr(i-3):n},e.GetSampNumberFormat=function(e,t,n,i,r,o){let a="",s="",l=[];if(t>=0&&n>=0&&i>=0&&o>=0){s=""+e.toFixed(parseInt(t));let c="",u="",d=s.indexOf(".");d>0?(u=s.substr(0,d),c=s.substr(d)):(u=s,c="");let f="";for(0==n&&(f=this.GetSeperatorString(parseInt(u),1)+c),1==n&&(f=s),2==n&&(c=c.replace(".",","),f=this.GetSeperatorString(parseInt(u),0)+c),3==n&&(f=s,f=f.replace(".",",")),4==n&&(c=c.replace(".",","),f=this.GetSeperatorString(parseInt(u),2)+c);;){if(0==r){a="$";break}if(1==r){a="DM";break}if(2==r){a="â¬";break}if(3==r){a="f";break}if(4==r){a="F";break}if(5==r){a="kr";break}if(6==r){a="Lit.";break}if(7==r){a="Pts";break}if(8==r){l[0]=163,a=String.fromCharCode.apply(String,l);break}if(9==r){a="$A.";break}if(10==r){a="$NZ.";break}if(11==r){l[0]=1056,l[1]=1091,l[2]=1073,a=String.fromCharCode.apply(String,l);break}if(12==r){a="ESC.";break}if(13==r){a="HK$";break}if(14==r){a="P.";break}if(15==r){l[0]=65509,a=String.fromCharCode.apply(String,l);break}if(16==r){a="NT$";break}if(17==r){a="S.$";break}if(18==r){l[0]=8361,a=String.fromCharCode.apply(String,l);break}if(19==r){l[0]=165,a=String.fromCharCode.apply(String,l);break}if(20==r){l[0]=122,l[1]=322,a=String.fromCharCode.apply(String,l);break}if(21==r){a="SEK";break}if(22==r){a="kr";break}if(23==r){l[0]=67,l[1]=36,a=String.fromCharCode.apply(String,l);break}if(r>23||r<0)break}if(2&i){let e="";0==o?(e="(",s=e+f+" "+a+")"):(e="(%s",s="("+a+f+")")}else if(0==o)s=f+a;else{s=a+f}}return s},e.GetSampPercentFormat=function(e,t,n){let i="";if(t>=0&&n>=0){i=""+(100*e).toFixed(parseInt(t)),i+="%";let r="",o="",a=i.indexOf(".");a>0?(o=i.substr(0,a),r=i.substr(a)):(o=i,r="");let s="";0==n&&(s=this.GetSeperatorString(parseInt(o),1)+r),1==n&&(s=i),2==n&&(r=r.replace(".",","),s=this.GetSeperatorString(parseInt(o),0)+r),3==n&&(s=i,s=s.replace(".",",")),4==n&&(r=r.replace(".",","),s=this.GetSeperatorString(parseInt(o),2)+r),i=s}return i},e.GetFormatStringType=function(e){return e&&""!=e?0==e.indexOf("AFNumber_Format")?1:0==e.indexOf("AFPercent_Format")?2:0==e.indexOf("AFDate_FormatEx")?3:0==e.indexOf("AFTime_Format")?4:0==e.indexOf("AFSpecial_Format")?5:-1:0},e.GetKeystrokeStringType=function(e){return e&&""!=e?0==e.indexOf("AFNumber_Keystroke")?1:0==e.indexOf("AFPercent_Keystroke")?2:0==e.indexOf("AFDate_KeystrokeEx")?3:0==e.indexOf("AFTime_Keystroke")?4:0==e.indexOf("AFSpecial_Keystroke")?5:-1:0},e.GetPercentageValues=function(e){let t=-1,n=-1,i=e.length,r=e.indexOf("("),o=i-r-3,a=e.substr(r+1,o),s=a.split(","),l=a[0];t=Number(l);let c=0;for(;c<s.length&&(c++,!(c>=2))&&(l=s[c],""!=l);)1==c&&(n=Number(l));return{iDec:t,iSep:n}},e.StringFromUnicode=function(e){let t=!1,n="0x",i="";for(let r=0;r<e.length;r++){let o=e[r];"\\"==e[r]&&r+1<e.length&&("u"==e[r+1]||"U"==e[r+1])?(r+=1,t&&(i+=String.fromCharCode(n),n="0x"),t=!0):t?n+=o:(i+=o,t=!1)}return t&&(i+=String.fromCharCode(n)),i},e.GetNumberValues=function(e){let t=-1,n=1,i=-1,r=-1,o=-1,a=-1,s=e.length,l=e.indexOf("("),c=s-l-3,u=e.substr(l+1,c).split(",");t=Number(u[0]);let d=0;for(;d<u.length&&(d++,!(d>=6));){let e=u[d];if(""==e)break;if(1!=d)if(2!=d)if(3!=d)if(4!=d){if(5==d){a=e.indexOf("false")>=0?0:1}}else{let t=e;if(""==t){o=-1;continue}t=t.replace(/"/g,""),t=t.replace(/'/g,""),t=t.replace("\\u0020"," "),t=t.trim(),t=this.StringFromUnicode(t);let n=0;for(;n<24;n++){let e=Gt[n];if(e=e.replace(" "," "),e=e.trim(),t==e){o=n;break}}n>23&&(o=-1)}else r=0;else{let t=Number(e);0!=t&&1!=t&&2!=t&&3!=t||(i=t)}else n=Number(e)}return{iDec:t,iSep:n,iNeg:i,iDef:r,iMoney:o,iPre:a}},e.GetRangeValues=function(e){let t,n=!1,i=!1,r="",o="",a=e.indexOf("("),s=e.indexOf(")"),l=e.substr(a+1,s-a-1).split(","),c=0;for(;c<l.length;){t=l[c],t=t.trim(),0==c||2==c?"true"==t.toLowerCase()?0==c?n=!0:i=!0:0==c?n=!1:i=!1:1!=c&&3!=c||(1==c?r=t:o=t),c++}return{bFrom:n,bTo:i,csiFrom:r,csiTo:o}},e}();const{match:Wt,matchers:Yt}=m,{ArrowUp:Xt,ArrowDown:Jt}=Yt;const{match:Qt,matchers:{Enter:Zt,Space:en,ArrowUp:tn,ArrowDown:nn,ArrowLeft:rn,ArrowRight:on,or:an}}=m;function sn(e){if(!e)return;const{addon:t}=e;N(t.constructor,{getDialog(e){const t=e();return function(e){const t=e.$element;if(!t)return;if("field-pick-dialog"===e.dialog.attrs.name){ln(t);const e=t.find('input[type="radio"]');e.off("focus"),e.on("focus",(e=>{ln(t),function(e,t){const n=e.target.parentElement.querySelectorAll(".fv__pick-left input[type=radio] + label + .fv__submit-datas input");n.length>0&&n.forEach((e=>{e.removeAttribute("disabled")}))}(e)})),e.off("change"),e.on("change",(e=>{const n=t.find(".fv__fiels-bottom .fv__field-buttons #selectAll"),i=t.find(".fv__fiels-bottom .fv__field-buttons #deselectAll");"selectedFieldsButton"===e.target.id?(n.attr("tabindex","0"),i.attr("tabindex","0")):(n.attr("tabindex","-1"),i.attr("tabindex","-1"))}))}else if("multiple-copy-dialog"===e.dialog.attrs.name){const e=t.find(".fv__multiple-copy-position .bg-wrap");e.off("keydown"),e.on("keydown",cn)}const n=t.find("[role=button]");n.off("keyup",un),n.on("keyup",un)}(t),t}})}function ln(e){e.find(".fv__pick-left input[type=radio] + label + .fv__submit-datas input").attr("disabled","true")}function cn(e){Qt(e).when(rn,(()=>{this.querySelector(".left").focus()})).when(on,(()=>{this.querySelector(".right").focus()})).when(nn,(()=>{this.querySelector(".down").focus()})).when(tn,(()=>{this.querySelector(".up").focus()}))}function un(e){Qt(e.originalEvent).when(an(Zt,en),(()=>{this.click(e)}))}function dn(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}(t,void 0!==n&&n<i?n:i)}return e(t,n)}const fn=c.form.constant.Field_Type,hn=c.constant.Action_Trigger,{match:pn,matchers:mn}=m,{ArrowRight:bn,ArrowLeft:vn,Home:gn,End:yn,Enter:En}=mn;function _n(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}(t,void 0!==n&&n<i?n:i)}return e(t,n)}function xn(e){const t=document.activeElement,n=u(e.originalEvent).filter((e=>e.classList&&e.classList.contains("fv__action_tab")))[0];if("DIV"===t.tagName){n.querySelectorAll(".fv__action-delete,.fv__action-edit").forEach((e=>{L(e,"tabindex",0)}))}else if("LI"===t.tagName){const e=n.querySelector(".fv__action-edit"),t=n.querySelector(".fv__action-delete");L(e,"tabindex","-1"),L(t,"tabindex","0")}}function wn(e){e();const t=this.$element.find(".fv__action_list"),n=this.$element.find(".fv_action-info-toggler");t.find("[tabindex]").off("keydown",kn),n.off("click",Ln),t.find("[tabindex]").off("click",$n)}function kn(e){const t=function(e){let t=null,n={};if(void 0!==e.key)t="key",n={Enter:"Enter"," ":" ",End:"End",Home:"Home",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowDown:"ArrowDown",ArrowUp:"ArrowUp","*":"*"};else{if(void 0===e.keyCode)return"";t="keyCode",n={13:"Enter",32:" ",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",56:"*"}}return n[e[t]]}(e);if("Enter"===t)this.querySelector(":nth-child(2)").click(),this.focus();else if(" "===t)this.querySelector(":nth-child(2)").click(),this.focus();else if("End"===t){this.setAttribute("tabindex","-1");Dn(An(e,this))}else if("Home"===t){this.setAttribute("tabindex","-1");Dn(An(e,this,0))}else if("ArrowLeft"===t)if("div"===this.tagName.toLowerCase())Cn(this),e.stopPropagation();else{if("li"!==this.tagName.toLowerCase())return;if(this.querySelector(".fv_action-info-toggler").classList.contains("fv__minusonly_pc"))Cn(this),e.stopPropagation();else{const t=n=>{const i=An(e,n,-1);return"div"===i.tagName.toLowerCase()?i:t(i)};Dn(t(this))}}else if("ArrowRight"===t)if("div"===this.tagName.toLowerCase())if(this.querySelector(".fv_action-info-toggler").classList.contains("fv__plugonly_pc"))Sn(this),e.stopPropagation();else{const t=An(e,this,1);t&&Dn(t)}else{if("li"!==this.tagName.toLowerCase())return;Sn(this),e.stopPropagation()}else if("ArrowDown"===t){this.setAttribute("tabindex","-1");const t=An(e,this,1);t&&Dn(t)}else if("ArrowUp"===t){this.setAttribute("tabindex","-1");const t=An(e,this,-1);t&&Dn(t)}else{if("*"!==t)return;_n(I,this.parentElement.children).forEach((e=>{e.querySelector(".fv_action-info-toggler").classList.replace("fv__plugonly_pc","fv__minusonly_pc")}))}e.stopPropagation(),e.preventDefault()}function An(e,t,n){const i=u(e.originalEvent).filter((e=>e.classList&&e.classList.contains("fv__action_tab")))[0];if(!i)return;let r,o=i.querySelectorAll("[role='treeitem']");o=_n(I,o).filter((e=>{const{width:t,height:n}=e.getBoundingClientRect();return 0!==t||0!==n}));const a=o.indexOf(t),s=o.length;return r=0===n?o[0]:"number"==typeof n?o[(a+n+s)%s]:o[s-1],r}function Sn(e){e.querySelector(".fv_action-info-toggler").classList.replace("fv__plugonly_pc","fv__minusonly_pc"),e.setAttribute("aria-expanded","true")}function Cn(e){e.querySelector(".fv_action-info-toggler").classList.replace("fv__minusonly_pc","fv__plugonly_pc"),e.setAttribute("aria-expanded","false")}function Dn(e){e.setAttribute("tabindex","0"),setTimeout((()=>{e.focus()}))}function Ln(e){const t=u(e).filter((e=>!!(e.classList&&e.classList.length>0)&&e.classList.contains("fv_action-info-toggler")));t&&0!==t.length&&(t[0].classList.contains("fv__minusonly_pc")?t[0].parentElement.setAttribute("aria-expanded","false"):t[0].classList.contains("fv__plugonly_pc")&&t[0].parentElement.setAttribute("aria-expanded","true"),Dn(t[0].parentElement))}function $n(e){const t=u(e.originalEvent).filter((e=>e.classList&&e.classList.contains("fv__action_list")))[0];if(!t)return;_n(I,t.querySelectorAll("[role='treeitem'],[tabindex='0']")).filter((e=>e!==document.activeElement)).forEach((e=>{L(e,"tabindex","-1")}))}function qn(){return qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qn.apply(this,arguments)}const{match:Tn,matchers:Pn}=m,{Enter:In}=Pn,On="openSignAPDialog";const{match:Nn,matchers:Rn}=m,{ArrowUp:Fn,ArrowDown:Hn}=Rn;const{isMatch:Mn,match:jn,matchers:Bn}=m,{ArrowUp:Un,ArrowDown:zn,ArrowLeft:Vn,ArrowRight:Gn,Home:Kn,End:Wn,or:Yn,Enter:Xn}=Bn;function Jn(e,t){const n=e.target,i=n.parentElement.querySelectorAll("span");let r;jn(e).when(Yn(Un,Vn),(()=>{r=n.previousSibling?n.previousSibling:i[i.length-1]})).when(Yn(zn,Gn),(()=>{r=n.nextSibling?n.nextSibling:i[0]})).when(Kn,(()=>{r=i[0]})).when(Wn,(()=>{r=i[i.length-1]})),r&&(t(r),r.focus(),e.preventDefault(),e.stopPropagation())}function Qn(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}(t,void 0!==n&&n<i?n:i)}return e(t,n)}const{match:Zn,isMatch:ei,matchers:ti}=m,{Tab:ni,ArrowRight:ii,ArrowLeft:ri,ArrowUp:oi,ArrowDown:ai,Escape:si,Enter:li,or:ci}=ti,ui=[".flatpickr-prev-month",".flatpickr-next-month",".flatpickr-am-pm",".flatpickr-days","input","select"],di=[':not([tabindex^="-"])',":not([disabled])",":not(.fv__ui-aria-focus-secondary-node)"];function fi(e){const t=ui.map((e=>e+di.join(""))).join(",");return Qn(I,e.querySelectorAll(t)).filter((e=>{const{x:t,y:n,width:i,height:r}=e.getBoundingClientRect();return!!(t&&n&&i&&r)}))}let hi=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.getName=function(){return"auto-focus"},n.prototype.componentMounted=function(){this.component.once("enable",(()=>{this.component.element.focus()}))},n}(n.Directive);const{isMatch:pi,match:mi,matchers:bi}=m,{ArrowUp:vi,ArrowDown:gi,Home:yi,End:Ei,Enter:_i}=bi;let xi=null;function wi(e){const t=e.target,n=t.querySelector(".active");let i;mi(e).when(vi,(()=>{i=n.previousSibling?n.previousSibling:t.lastElementChild})).when(gi,(()=>{i=n.nextSibling?n.nextSibling:t.firstElementChild})).when(yi,(()=>{i=t.firstElementChild})).when(Ei,(()=>{i=t.lastElementChild})),i&&(i.focus(),i.click(),Ai(),ki(),e.stopPropagation(),e.preventDefault())}function ki(){const e=xi.$element[0].querySelectorAll(".fv__ui-dialog-button"),t=xi.$element[0].querySelector("#upButton"),n=xi.$element[0].querySelector("#downButton");document.activeElement===t&&t.classList.contains("disabled")&&!n.classList.contains("disabled")?n.focus():document.activeElement===n&&n.classList.contains("disabled")&&!t.classList.contains("disabled")&&t.focus(),e.forEach((e=>{L(e,"tabindex",e.classList.contains("disabled")?-1:0)}))}async function Ai(){await Promise.resolve();const e=xi.$element.find(".fv__fields-list");D(e[0],{"aria-activedescendant":e.find(".active").attr("id")});xi.$element.find(".fv_CO-item").each(((t,n)=>{D(n,{"aria-selected":n.id==e.find(".active").attr("id")})}))}const{match:Si,matchers:Ci}=m,{Space:Di}=Ci;const{match:Li,matchers:$i}=m;const qi=n.PDFViewCtrl.ViewerEvents;const{match:Ti,matchers:Pi}=m,{ArrowUp:Ii,ArrowDown:Oi,ArrowLeft:Ni,ArrowRight:Ri,Home:Fi,End:Hi,or:Mi}=Pi;const ji=n.components.Component,Bi="a,button,input,textarea,select,details,[contenteditable],[tabindex]".split(",").map((e=>e+':not([tabindex^="-"]):not([disabled]):not(.fv__ui-aria-focus-secondary-node)')).join(","),Ui={autoFocusFirst:!0};let zi=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.getName=function(){return"circular-focus"},n.prototype.componentMounted=function(){const e=this.component;let t,n=e.element,i=!0;const r=Vi(),o=Vi();let a=Ui;if(this.attrValue&&(a=this.controller.eval(this.attrValue)||Ui),a.selector){const t=e.querySelector(a.selector)||e;if(t instanceof ji)n=t.element;else{if(!(t instanceof HTMLElement))throw new Error(`Incorrect selector: ${a.selector}`);n=t}}const s=e=>{var i;i=n,t=Array.from(i.querySelectorAll(Bi)).filter((e=>e.getClientRects().length>0)),c()},l=()=>{t||s(),!1!==a.autoFocusFirst&&n===document.activeElement&&Promise.resolve().then((()=>{t[0]&&t[0].focus()}))},c=()=>{n.firstElementChild!==r&&(r.parentNode!==n&&r.remove(),n.childElementCount>0?n.firstElementChild.before(r):n.appendChild(r)),n.lastElementChild!==o&&(o.parentNode!==n&&o.remove(),n.appendChild(o))},u=g(s);if(window.MutationObserver){const e=new MutationObserver(u);e.observe(n,{subtree:!0,attributeFilter:["tabindex","contenteditable","style","class"],attributes:!0}),this.addDestroyHook((()=>{e.disconnect()}))}else{const e="DOMSubtreeModified";n.addEventListener(e,u),this.addDestroyHook((()=>{n.removeEventListener(e,u)}))}r.onfocus=e=>{e.relatedTarget&&n.contains(e.relatedTarget)&&!i?t[t.length-1]&&t[t.length-1].focus():(i=!1,t[0]&&t[0].focus())},o.onfocus=()=>{t[0]&&t[0].focus()},n.onfocus=()=>{i=!0},e.isVisible&&l(),this.addDestroyHook(e.on("shown",l),e.on("hidden",(()=>{r.remove(),o.remove()})))},n}(n.Directive);function Vi(){const e=document.createElement("div");return D(e,{tabindex:0,"aria-hidden":!0,class:"fv__ui-aria-focus-secondary-node"}),e}const{isMatch:Gi,matchers:Ki}=m;function Wi(e){if(e.isDestroyed)return;e.unwatchAriaI18n&&e.unwatchAriaI18n();const t=e.childAt(0),{disabled:n,notDropdown:i,element:r,eRibbonIcon:o,eRibbonText:a,selectedItem:s}=e;q(r,"tabindex","aria-label","aria-disabled"),q(o,"tabindex","role","aria-label","aria-disabled"),q(a,"tabindex","role","aria-label","aria-haspopup","aria-disabled");const l=e.localizer.translateSync(e.text||e.tooltipTitle);if(i||!t)D(r,{"aria-label":l,...!0===n?{tabindex:-1,"aria-disabled":!0}:{tabindex:0}});else if(t.separate){if(L(r,"tabindex",-1),s){const t=s.getText()||e.text;D(o,{role:"button","aria-label":e.localizer.translateSync(t),...!0===n?{tabindex:-1,"aria-disabled":!0}:{tabindex:0}})}D(a,{role:"button","aria-label":l,"aria-haspopup":"true",...!0===n?{tabindex:-1,"aria-disabled":!0}:{tabindex:0}})}else D(r,{"aria-label":l,...!0===n?{tabindex:-1,"aria-disabled":!0}:{tabindex:0}}),D(o,{"aria-hidden":!0}),D(a,{role:"presentation"})}function Yi(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}(t,void 0!==n&&n<i?n:i)}return e(t,n)}const{match:Xi,matchers:Ji}=m,{Enter:Qi}=Ji,{ArrowLeft:Zi,ArrowRight:er,Home:tr,End:nr}=Ji;function ir(e,t){const n=e.querySelector(".tabPanel").children,i=Yi(I,n).filter((e=>"none"!==e.style.display)),r=e.querySelector(".tabPanel > .active");let o=i.findIndex((e=>e.id===r.id));o=0===t?0:"number"==typeof t?(o+t+i.length)%i.length:i.length-1;const a=i[o],s=Yi(I,n).findIndex((e=>a.id===e.id)),l=Yi(I,n).findIndex((e=>r.id===e.id));D(r,{tabindex:"-1","aria-selected":!1}),r.classList.remove("active"),D(a,{tabindex:"0","aria-selected":!0}),a.classList.add("active"),e.querySelector(`.annot-properties-dialog-body > div:nth-child(${l+1})`).style.display="none",e.querySelector(`.annot-properties-dialog-body > div:nth-child(${s+1})`).style.display="block",setTimeout((()=>{a.focus()}))}function rr(e){Xi(e).when(Qi,(()=>{e.target.click(),e.stopPropagation(),e.target.removeEventListener("keyup",rr)}))}const or=UIExtension.vendors.jQuery,{match:ar,matchers:sr}=m,{ArrowRight:lr,ArrowLeft:cr,Home:ur,End:dr,Enter:fr}=sr;const{match:hr,matchers:pr}=m;function mr(e,t){const n=e.$html.find(".tree-item-main"),i=n.filter(".fv__active"),r=n.index(i);let o;o=1===t||-1===t?n.eq((r+t+n.length)%n.length):0===t?n.first():n.last();const a=o.attr("data-id");e.$html.children("ul.tree-list").attr({"aria-activedescendant":a}),e.activeItem(a),function(e){const t=e.closest(".fv__ui-sidebar-panel-body"),n=t.scrollTop(),{top:i}=t.offset(),{top:r}=e.offset();t.scrollTop(r-i+n)}(o)}const{match:br,matchers:vr}=m;function gr(e,t){const n=e.$html.find(".tree-item-main"),i=n.filter(".fv__active"),r=n.index(i);let o;o=1===t||-1===t?n.eq((r+t+n.length)%n.length):0===t?n.first():n.last();const a=o.attr("data-id"),s=o.closest("ul.tree-list");s.focus(),s.attr({"aria-activedescendant":a}),e.activeItem(a),function(e){const t=e.closest(".fv__ui-sidebar-panel-body"),n=t.scrollTop(),{top:i}=t.offset(),{top:r}=e.offset();t.scrollTop(r-i+n)}(s)}const{match:yr,matchers:Er}=m,{ArrowUp:_r,ArrowDown:xr,Home:wr,End:kr}=Er;function Ar(e,t){const n=e.$attachmentTable.find(".tr");let i=n.filter(".tr.selected");0===i.length&&(i=n.first());const r=n.index(i),o=n.eq((r+t+n.length)%n.length);return i.removeClass("selected"),o.addClass("selected"),o}const{match:Sr,matchers:Cr}=m,{Enter:Dr}=Cr;function Lr(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}(t,void 0!==n&&n<i?n:i)}return e(t,n)}const{match:$r,matchers:qr}=m,{ArrowUp:Tr,ArrowDown:Pr,Home:Ir,End:Or,Enter:Nr,Space:Rr}=qr;function Fr(e){$r(e).when(Nr,(()=>{e.target.click(),e.stopPropagation(),e.target.removeEventListener("keyup",Fr)}))}function Hr(e,t){const{target:n}=e.originalEvent,i=n.querySelector(".active");let r=Lr(I,n.children).indexOf(i);const o=n.children.length;let a;return a=0===t?n.children[t]:"number"==typeof t?n.children[(r+t+o)%o]:n.children[o-1],$(i,"aria-selected"),L(a,"aria-selected","true"),function(e,t){const{scrollTop:n}=e,{bottom:i}=t.getBoundingClientRect(),{top:r,height:o}=e.getBoundingClientRect();let a=n+i-r-o;a<0&&(a=0);e.scrollTo(0,a)}(n,a),a}const{match:Mr,matchers:jr}=m,{Enter:Br}=jr;function Ur(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}(t,void 0!==n&&n<i?n:i)}return e(t,n)}const{isMatch:zr,match:Vr,matchers:Gr}=m,{or:Kr,Space:Wr,Enter:Yr,ArrowDown:Xr,ArrowUp:Jr,Home:Qr,End:Zr}=Gr;const{match:eo,matchers:to,isMatch:no}=m,{or:io,Home:ro,End:oo,ArrowUp:ao,ArrowDown:so,Enter:lo,Space:co}=to;function uo(e,t){const n=e.$thumbImageContainer.find(".fv__thumb-page"),i=e.$thumbImageContainer.find(".fv__active");let r=0;n.each((e=>{n.eq(e).attr("id")===i.attr("id")&&(r=e)}));let o=0;o=1===t||-1===t?(r+t+n.length)%n.length:"number"==typeof t?(t+n.length)%n.length:n.length-1;const a=n.eq(o);return i.removeClass("fv__active"),a.addClass("fv__active"),function(e){const t=e.closest(".fv__thumb-image-container-box"),n=t.scrollTop(),{top:i}=t.offset(),{top:r}=e.offset();t.scrollTop(r-i+n)}(a),a}function fo(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}(t,void 0!==n&&n<i?n:i)}return e(t,n)}const{isMatch:ho,match:po,matchers:mo}=m,{or:bo,Home:vo,End:go,ArrowLeft:yo,ArrowRight:Eo,Escape:_o}=mo;const{isMatch:xo,matchers:wo,match:ko}=m,{or:Ao,Space:So,Enter:Co,ArrowLeft:Do,ArrowRight:Lo,Home:$o,End:qo,ArrowUp:To,ArrowDown:Po,PageUp:Io,PageDown:Oo}=wo;const{isMatch:No,matchers:Ro}=m,{Enter:Fo,Space:Ho,or:Mo}=Ro;const{isMatch:jo,match:Bo,matchers:Uo}=m,{Home:zo,End:Vo,ArrowUp:Go,ArrowDown:Ko,or:Wo}=Uo;i(6544);const{matchers:Yo,isMatch:Xo}=m,{Lazy:Jo}=n.PDFViewCtrl._internal.shared,{or:Qo,ArrowDown:Zo,ArrowUp:ea,ArrowLeft:ta,ArrowRight:na,PageDown:ia,PageUp:ra,Home:oa,End:aa}=Yo;const sa=[function(){const e=n.components.widgets.DropdownComponent;n.components.widgets.DropdownItemComponent,N(e,{doDestroy:function(e){this._unwatchAriaLabel&&this._unwatchAriaLabel(),e()},render:function(e){e();const t=Ke("dropd-tglr-"),n=Ke("dropd-caret-"),i=Ke("dropd-icon-"),r=Ke("dropd-list-");this.togglerElement.setAttribute("id",t),this.caretElement.setAttribute("id",n),this.iconElement.setAttribute("id",i);const o=We(this);this.element.setAttribute("role","presentation"),this.separate?this.listElement.setAttribute("aria-labelledby",n):this.listElement.setAttribute("aria-labelledby",t);const a=this.selectable;o.setAttribute("aria-haspopup",a?"listBox":"true"),this.listElement.setAttribute("role",a?"listbox":"menu"),a||(this.listElement.setAttribute("id",r),o.setAttribute("aria-controls",r)),this.separate&&D(this.togglerElement,{role:"group"});const s=()=>{Me(this)};this.attachEventToElement(this.togglerElement,"keyup",(e=>{je(e,Ue(ze,Ve))&&this.isActive&&s()}))},postlink:function(e){e();let t=this.text;!t&&this.texts[0]&&(t=this.texts[0].textContent),t||(t=this.getAttribute("tooltip-title")),t&&(this._unwatchThisLabel=this.localizer.watch(t,{},t,(e=>{this.iconElement.setAttribute("aria-label",e),this.editable&&this.editElement.setAttribute("aria-label",e),(this.separate||this.editable)&&this.caretElement.setAttribute("aria-label",e)})),this.addDestroyHook(this._unwatchThisLabel))},select:function(e,[t]){if(!t)return;const n=this.selectedItem;this.selectable&&(n&&n.element&&n.setAttribute("aria-selected","false"),t.setAttribute("aria-selected","true"));let i=t.text;return i||t.texts[0]&&(i=t.texts[0].textContent),i||(i=t.getAttribute("tooltip-title")),this._unwatchAriaLabel&&this._unwatchAriaLabel(),this._unwatchThisLabel&&this._unwatchThisLabel(),i?this._unwatchAriaLabel=this.localizer.watch(i,{},i,(e=>{this.editable&&this.caretElement.setAttribute("aria-label",e),this.separate?this.iconElement.setAttribute("aria-label",e):this.togglerElement.setAttribute("aria-label",e)})):(this.caretElement.removeAttribute("aria-label"),this.togglerElement.removeAttribute("aria-label"),this.iconElement.removeAttribute("aria-label")),e()},doActive(e){e();We(this).setAttribute("aria-expanded","true")},doDeactive(e){e();We(this).setAttribute("aria-expanded","false")},mounted(e){if(e(),this.isInsideOtherDropdown()){const e=this.element.parentElement;e.getAttribute("role")||e.setAttribute("role","none"),this.setAttribute("role","menuitem")}},setEditValue(e,t){let n;e(),this.numberInput&&"string"==typeof this.numberInput.template?n=this.localizer.translateSync(this.numberInput.template):this.numberInput&&"function"==typeof this.numberInput.template&&(n=this.localizer.translateSync(this.numberInput.template(t))),this.editElement.setAttribute("aria-label",n)}})},function(){N(n.components.Component,{doDisable:function(e){e(),this.setAttribute("aria-disabled","true")},doEnable:function(e){e(),this.removeAttribute("aria-disabled")}})},function(){const e=n.components.widgets.ButtonComponent,t=n.components.widgets.DropdownComponent;N(e,{doActive(e){e(),this.parent instanceof t&&this.parent.selectable?this.setAttribute("aria-selected","true"):this.setAttribute("aria-pressed","true")},doDeactive(e){e(),this.parent instanceof t&&this.parent.selectable?this.setAttribute("aria-selected","false"):this.setAttribute("aria-pressed","false")},doEnable(e){e(),this.setAttribute("tabindex","0")},doDisable(e){e(),this.setAttribute("tabindex","-1")},render:function(e){e(),"button"!==this.element.nodeName.toLowerCase()&&(this.element.getAttribute("role")||(this.setAttribute("role","button"),this.setAttribute("tabindex","0"))),this.iconElement.setAttribute("aria-hidden",!0)},postlink:function(e){e();let t=this.text;!t&&this.texts[0]&&(t=this.texts[0].textContent),t||(t=this.getAttribute("tooltip-title")),t&&this.addDestroyHook(this.localizer.watch(t,{},t,(e=>{this.element.setAttribute("aria-label",e)})))},mounted:function(e){e(),this.parent instanceof t&&(this.parent.selectable?this.setAttribute("role","option"):this.setAttribute("role","menuitem"))}})},function(){N(n.components.widgets.LoadingComponent,{postlink(e){e();const t=this.querySelector(">@ul");L(t,"role","status");t.querySelectorAll(">@li").forEach((e=>{L(e,"role","presentation")}));D(this,{"aria-busy":!0,role:"alert","aria-describedby":this.querySelector(">@span").id}),this.statusComponent=t},doHidden:function(e){e();const t=this.element.parentElement;t&&t.setAttribute("aria-busy","false"),this.activeElement&&this.activeElement.focus()},doShown:function(e){this.activeElement=document.activeElement,e();const t=this.element.parentElement;t&&t.setAttribute("aria-busy","true")}})},function(){N(n.components.widgets.ProgressComponent,{postlink(e){e(),D(this.circlePath,{role:"progressbar","aria-label":"Progress","aria-valuemin":"0","aria-valuemax":"100"})},doHidden:function(e){e();const t=this.element.parentElement;t&&t.setAttribute("aria-busy","false"),this.activeElement&&this.activeElement.focus()},doShown:function(e){this.activeElement=document.activeElement,e();const t=this.element.parentElement;t&&t.setAttribute("aria-busy","true"),D(this.circlePath,{"aria-valuenow":`${this.textElement.innerText}`})},updateProgress:function(e){e();this.element.parentElement;D(this.circlePath,{"aria-valuenow":`${this.textElement.innerText}`})}})},function(){N(n.components.widgets.GTabItemComponent,{init:function(e){e(),D(this,{role:"tab",tabindex:"-1"}),this.bodyComponentPromise.then((e=>{D(e,{"aria-labelledby":this.id,role:"tabpanel"}),L(this,"aria-controls",e.id)}))},doDisable(e){e(),$(this.element,"tabindex")},doEnable(e){e(),L(this,"tabindex",this.isActive?"0":-1)},doActive:function(e){e(),L(this,"aria-selected","true"),L(this,"tabindex",0)},doDeactive:function(e){e(),L(this,"aria-selected","false"),L(this,"tabindex",-1)}})},function(){N(n.components.widgets.DropdownButtonComponent,{mounted:function(e){e();const t=this.parent.selectable,n=t?"option":"menuitem";this.setAttribute("role",n),t||this.setAttribute("tabindex","0")},postlink:function(e){e();let t=this.text;!t&&this.texts[0]&&(t=this.texts[0].textContent),t||(t=this.getAttribute("tooltip-title")),t&&this.addDestroyHook(this.localizer.watch(t,{},t,(e=>{this.element.setAttribute("aria-label",this.textElement.innerText)})))},doDisable(e){e(),this.element.setAttribute("tabindex","-1")},doEnable(e){e(),this.element.setAttribute("tabindex","0")}})},function(){N(n.components.widgets.ContextMenuComponent,{render(e){e(),L(this,"role","application"),D(this.containerElement,{role:"context menu",tabindex:"-1","aria-atomic":"true"})},doShown(e){e(),L(this,"aria-hidden","true"),this.containerElement.focus()},doHidden(e){e(),L(this,"aria-hidden","false")},rerenderChildren(e){e();const t=this.children().filter((e=>"contextmenu-separator"!==e.constructor.getName())),n=t.map((e=>e.id));t.forEach(((e,n)=>{L(e,"aria-posinset",n+""),L(e,"aria-setsize",t.length)})),D(this.containerElement,{"aria-owns":n.join(" "),"aria-describedby":n.join(" ")})}})},function(){N(n.components.widgets.ContextMenuItemComponent,{doDestroy(e){e(),this.unwatchAriaLabel&&this.unwatchAriaLabel()},render(e){e(),this.setAttribute("role","menuitem"),this.setAttribute("tabindex","0")},setText(e){e();let t=this.text;t||this.texts[0]&&(t=this.texts[0].textContent),this.unwatchAriaLabel&&this.unwatchAriaLabel(),t&&(this.unwatchAriaLabel=this.localizer.watch(t,{},"",(e=>{this.setAttribute("aria-label",e)})))}})},function(){N(n.components.widgets.ContextMenuSeparatorComponent,{render(e){e(),this.setAttribute("role","menuitem")}})},function(){const e=n.components.widgets.LayerComponent;R(e,{preprocess(e,[t]){e(),t.vnode.setAttribute("@aria:circular-focus","{autoFocusFirst: false}")}}),N(e,{render(e){e();const t=M("layer-inner-");this.containerElement.setAttribute("id",t),D(this,{role:"dialog",tabindex:-1,"aria-modal":!!this.modal})},mounted(e){e();this.element.querySelectorAll("input[type=file]").forEach((e=>{e.removeEventListener("click",n),e.addEventListener("click",n)}));let t=!1;function n(){t=!0}function i(e){ut(e).when(dt.Escape,(()=>{t&&(e.stopPropagation(),t=!1)}))}this.element.addEventListener("keyup",i),this.addDestroyHook((()=>{this.element.removeEventListener("keyup",i)}))},show(e){this.currentFocusElement=document.activeElement,e(),this.focusOnShown&&this.element.focus({preventScroll:!0}),this.element.dispatchEvent(ct(this.element))},doHidden(e){if(!this.currentFocusElement)return void e();const t=this.currentFocusElement;if(this.currentFocusElement=document.activeElement,e(),t.getClientRects().length>0)t.focus({preventScroll:!0});else{const e=function(e,t){let n=t;for(;n;){if(n.id){const t=e.querySelector(`[id=${n.id}]`);if(t)return t}n=n.parentElement}}(this.getRoot(),t);if(e)if(ft(e.element))e.element.focus();else{let t=e.parent;for(;t;){if(ft(t.element)){t.focus();break}t=t.parent}}else{let e=t.parentElement;for(;e;){if(ft(e)){e.focus();break}e=e.parentElement}}}}})},function(){const e=n.components.widgets.LayerHeaderComponent,t=n.components.widgets.LayerComponent;N(e,{mounted(e){e();const n=this.getClosestComponentByClass(t),i=this.element.querySelector("[action=close]"),r=this.titleElement;n&&i.setAttribute("aria-controls",n.id),this.addDestroyHook(this.localizer.watch("aria:labels.close-layer-btn",{},"",(e=>{i.setAttribute("aria-label",e)})),this.localizer.watch("aria:labels.promptTitle",{},"",(e=>{if(r.innerText){const e=M("layer-title");r.setAttribute("id",e),n.setAttribute("aria-labelledby",e)}else n.setAttribute("aria-label",e)})))}})},function(){N(n.components.widgets.AlertComponent,{postlink(e){e(),this.setAttribute("role","alertdialog"),this.setAttribute("aria-describedby",this.body.id)}})},function(){N(n.components.widgets.SidebarComponent,{render(e){e(),this.togglerElement.setAttribute("aria-hidden","true"),this.navElement.setAttribute("role","tablist"),this.navElement.setAttribute("tabindex","-1")}})},function(){N(n.components.widgets.SidebarPanelComponent,{render(e){e(),this.ctrlElement.setAttribute("role","tab"),this.ctrlElement.setAttribute("aria-controls",this.element.id),this.ctrlElement.setAttribute("tabindex",0);const t=M("sidebar-panel-title-");this.titleElement.id=t,this.ctrlElement.setAttribute("aria-labelledby",t),this.bodyElement.setAttribute("tabindex",-1),this.bodyElement.setAttribute("aria-labelledby",t)},mounted(e){e(),this.ctrlElement.addEventListener("keydown",(e=>{ht(e).when(mt,(()=>{this.disabled||(this.isActive?this.parent.collapse():this.active())}))}))},doActive(e){e(),this.ctrlElement.setAttribute("aria-expanded","true")},doDeactive(e){e(),this.ctrlElement.setAttribute("aria-expanded","false")}})},function(){N(n.components.widgets.GroupComponent,{render(e){e();const t=this.btnList.moreElement,n=M("aria-group-more");this.on("shrink",(e=>{const i=e=>{Xe(e).when(Qe,(()=>{e.target.click(),e.stopPropagation(),e.preventDefault()})),e.currentTarget.removeEventListener("keyup",i)},r=e=>{Xe(e).when(Qe,(()=>{u(e).every((e=>"option"!==e.getAttribute("role")||(e.addEventListener("keyup",i,!0),!1))),e.stopPropagation(),e.preventDefault()}))};if(e){D(t,{role:"button",tabindex:0,"aria-haspopup":"listbox","aria-controls":this.btnList.id,id:n}),D(this.btnList.element,{role:"listbox",tabindex:-1,"aria-labelledby":n});const e=this.btnList.element.children,i=e=>{Ye(I,e).forEach((e=>{if(e.classList.contains("fv__ui-grp-btn-list-title"))D(e,{"aria-hidden":!0});else if("button"===e.getAttribute("role")||"BUTTON"===e.tagName||"LI"===e.tagName)D(e,{role:"option"}),this.attachEventToElement(e,"keydown",r);else if(e.classList.contains("fx-ribbon-items-sm")){const t=e.children;i(t)}}))};i(e)}else{q(t,"aria-haspopup","role","tabindex","aria-controls"),q(this.btnList.element,"role","tabindex","aria-labelledby");Ye(I,this.btnList.element.querySelectorAll("[role=option]")).forEach((e=>{"BUTTON"!==e.tagName&&"LI"!==e.tagName&&D(e,{role:"button"}),e.removeEventListener("keydown",r)}))}})),this.btnList.on("active",(()=>{D(t,{"aria-expanded":!0})})),this.btnList.on("deactive",(()=>{D(t,{"aria-expanded":!1})})),this.addDestroyHook(this.localizer.watch("",{},"",(()=>{D(t,{"aria-label":this.localizer.translateSync(this.shrinkTitle||"toolbar.more.document.title")})})))}})},function(){N(UIExtension.components.widgets.SliderComponent,{render(e){e();const t=this.$options.label||this.attrs.label,n=M("slider-label"),i=document.createElement("div");D(i,{"data-i18n":t,id:n}),i.classList.add("fv__ui-aria-sr-only"),this.element.appendChild(i),L(this.element,"tabindex","-1");const r=M("slider-unit");D(this.unitElement,{id:r});const o=M("slider-input");D(this.inputElement,{id:o}),D(this.cursorElement,{role:"slider","aria-valuemin":this.range.min,"aria-valuemax":this.range.max,tabindex:"0","aria-describedby":r,"aria-labelledby":n}),D(this.inputElement,{"aria-labelledby":`${n} ${o} ${r}`})},sync(e,[t,n]){const i=e();return"label"===t?(o=n,(r=this).labelElement.setAttribute("data-i18n",o),r.localize(),!0):i;var r,o},doDisable(e){e(),D(this.cursorElement,{"aria-disabled":!0,tabindex:-1})},doEnable(e){e(),D(this.cursorElement,{"aria-disabled":!1,tabindex:0})},setValue(e){e(),this.cursorElement&&this.cursorElement.setAttribute("aria-valuetext",this.value)}})},function(){N(UIExtension.components.widgets.TabItemComponent,{render(e){e();const t=M("tab"),n={role:"tab","aria-controls":this.id,id:t};D(this.tabElement,n),D(this,{role:"tabpanel","aria-labelledby":t})},doActive(e){e(),L(this.tabElement,"aria-selected","true")},doDeactive(e){e(),L(this.tabElement,"aria-selected","false")},mounted(e){e(),this.on(v.ACTIVE,(e=>{this.parent&&this.parent.$container&&this.parent.$container.$children&&this.parent.$container.$children.forEach&&setTimeout((()=>{this.tabElement.focus()}))})),this.attachEventToElement(this.tabElement,"keyup",(e=>{const t=this.parent;let n;vt(e).when(kt(gt,yt),(()=>{this.active()})).when(Et,(()=>{n=t.getFirstTab()})).when(_t,(()=>{n=t.getLastTab()})).when(xt,(()=>{n=t.getPreviousOf(this)})).when(wt,(()=>{n=t.getNextOf(this)})),n&&(n.tabElement.focus(),n.tabElement.click())}))}})},function(){function e(e){const t=e.element,n=e.colors,i=e.localizer;D(t.querySelector(".fv__ui-colors-picker"),{role:"listbox"});t.querySelectorAll(".fv__ui-picker-color").forEach((t=>{const r=+t.dataset.index,o=n[r],a=function(e){e=e.replace("#","");const t=parseInt(e,16);return`RGB(${255&t}, ${t>>8&255}, ${t>>16&255})`}(o);let s,l;s=e.isEditing?i.translateSync("aria:labels.color-picker-remove-item",{color:a}):i.translateSync("aria:labels.color-picker-item",{color:a}),l=o===e.value?{"aria-label":s,role:"option","aria-posinset":r,"aria-selected":!0,tabindex:0}:{"aria-label":s,role:"option","aria-posinset":r,"aria-selected":!1},D(t,l)}));e.getPDFUI();D(t.querySelector(".fv__ui-picker-addcolor"),{"aria-label":i.translateSync("aria:labels.color-picker-add-color")});const r=t.querySelector(".fv__ui-property-icon-nocolor");let o;const a=i.translateSync("aria:labels.color-picker-transparent");o=0===e.value?{role:"option","aria-label":a,"aria-selected":!0,tabindex:0}:{role:"option","aria-label":a},D(r,o);const s=t.querySelector(".fv__ui-picker-removecolor");let l;l=e.isEditing?i.translateSync("aria:labels.color-picker-confirm-remove"):i.translateSync("aria:labels.color-picker-removecolor"),D(s,{role:"option","aria-label":l})}N(n.components.widgets.ColorPickerComponent,{render(t){t(),e(this)},_activeDom(e){e();const t=this.element.querySelector("[aria-selected=true]");t&&L(t,"aria-selected",!1);L(this.element.querySelector(".fv__ui-property-icon-nocolor"),"aria-selected",0===this.value);const n=this.colors.indexOf(this.value);if(n>-1){const e=this.element.querySelectorAll(".fv__ui-picker-color")[n];e&&D(e,{"aria-selected":"true",tabindex:0})}},_toggleEditingMode(t){t(),e(this)},mounted(t){t(),this.addDestroyHook(this.localizer.watch("",{},"",(()=>{e(this)})))}})},function(){N(n.components.widgets.ColorSpectrumComponent,{mounted(e){e(),this.$sliderHelper.attr({tabindex:0,"aria-valuenow":this.$active.css("background-color"),role:"slider"}),this.$draggerHelper.attr({tabindex:0,"aria-valuenow":this.$active.css("background-color"),role:"slider"}),this.$trans.attr({tabindex:0,role:"button"});const t="aria:labels.no-color";this._unwatchThisLabel=this.localizer.watch(t,{},t,(e=>{this.$trans.attr("aria-label",e)})),this.addDestroyHook(this._unwatchThisLabel),this._updateCurrentColor=g((()=>{const e=this.$active.css("background-color");this.$active.attr({"aria-label":e}),this.$sliderHelper.attr({"aria-valuetext":e}),this.$draggerHelper.attr({"aria-valuetext":e})}),100);const n=e=>{if(e=e.originalEvent||e,!$e(e,Oe(Te,qe,Pe,Ie)))return;const{left:t,top:n}=this.$dragger.offset(),{left:i,top:r}=this.$draggerHelper.offset();let o=i-t+this.$draggerHelper.outerWidth()/2,a=r-n+this.$draggerHelper.outerHeight()/2;const s=this.$dragger.height(),l=this.$dragger.width();De(e).switchers(!1).when(Pe,(()=>{o-=He,o<0&&(o=0)})).when(qe,(()=>{a-=He,a<0&&(a=0)})).when(Ie,(()=>{o+=He,o>l&&(o=l)})).when(Te,(()=>{a+=He,a>s&&(a=s)})),e.stopPropagation(),e.preventDefault(),this.currentSaturation=o/l,this.currentValue=(s-a)/s,this.updateColorLocation(),this.active()};this.$draggerHelper.on("keydown",n),this.$draggerHelper.on("click",(e=>e.target.focus())),this.$sliderHelper.on("keydown",(e=>{if(!$e(e,Oe(Te,qe)))return;const{top:t}=this.$sliderHelper.offset();let n=t-this.$slider.offset().top+Math.ceil(this.$sliderHelper.outerHeight()/2),i=this.$slider.height();De(e).when(qe,(()=>{n-=He,n<0&&(n=0)})).when(Te,(()=>{n+=He,n>i&&(n=i)})),this.currentHue=parseFloat(n/this.$slider.height()),this.updateHueLocation(),this.active(),e.stopPropagation(),e.preventDefault()})),this.$sliderHelper.on("click",(e=>e.target.focus())),this.attachEventToElement(this.element,"keydown",(e=>{$e(e,Oe(Re,Ne,Fe))&&e.stopPropagation()})),this.addDestroyHook(_(this.element,(e=>{e.stopPropagation(),this.$cancel.click()}),Fe,{capture:!0}),_(this.element,(e=>{if(e.target!==this.$cancel.get(0)){if(e.target===this.$trans[0])return this.$trans.click(),void e.stopPropagation();e.stopPropagation(),this.$choose.click()}}),Ne,{capture:!0}),(()=>{this.$draggerHelper.off("keydown",n),this.$draggerHelper.off("click",(e=>e.target.focus())),this.$sliderHelper.off("keydown",n),this.$sliderHelper.off("click",(e=>e.target.focus()))}));const i=e=>{this.attachEventToElement(e,"keydown",(e=>{$e(e,Oe(Ne,Re))&&(e.preventDefault(),e.stopPropagation())})),this.attachEventToElement(e,"keyup",(t=>{if($e(t,Oe(Ne,Re))){const n=w(t);t.stopPropagation(),e.dispatchEvent(n)}}))};i(this.$choose.get(0)),i(this.$cancel.get(0))},updateColorLocation(e){e()},active(e){e(),this.$sliderHelper.attr("tabindex",0),this._updateCurrentColor()},show(e){e(),this.previousFocusEle=document.activeElement;const t=this.element.querySelector("#foxit-spectrum-color-dragger");t&&setTimeout((()=>{t.focus()}))},hide(e){e(),this.previousFocusEle&&this.previousFocusEle.focus()}})},function(){N(n.PDFViewCtrl.printer.PrintProgress,{reset(e){this.progressBarElement=this.element.querySelector(".fv__ui-print-process-bar"),e(),D(this.progressBarElement,{tabindex:"-1",role:"progressbar","aria-label":this.title})},show(e){e(),this.progressBarElement.focus()},updateProgress(e,[t,n]){e(),D(this.progressBarElement,{"aria-valuemin":"0","aria-valuenow":t,"aria-valuemax":n})}})},function(){N(n.components.widgets.SelectComponent,{render:function(e){e();const t=M("select-btn-"),n=this.element.querySelector(".fv__ui-select"),i=document.createElement("span");this.selectedLabel=i,D(i,{id:M("selected"),"data-i18n":"[aria-label]aria:labels.select.selectedLabel",class:"fv__ui-aria-sr-only"}),this.element.appendChild(i),D(n,{id:t,role:"listbox","aria-haspopup":"listbox","aria-expanded":"false",tabindex:0}),this.$selector.setAttribute("aria-labelledby",t),this.$selector.setAttribute("role","listbox"),this.$selector.setAttribute("tabindex","-1");this.$selector.querySelectorAll("li").forEach(((e,t)=>{const n=this.$options.options[t];Nt(e,n,this),e.setAttribute("role","option"),e.setAttribute("tabIndex","-1")}))},setValue:function(e){const t=e();if(!this.$selector)return t;const n=this.$selector.querySelector(`li[data-value="${this.value}"]`);if(n){n.setAttribute("aria-selected","true"),n.id||(n.id=M("sel-opt-"));D(this.element.querySelector(".fv__ui-select"),{"aria-describedby":`${this.selectedLabel.id} ${n.id}`})}return t},mounted(e){e();const t=e=>{Ct(e,Ot(Dt,Lt,$t,qt,Tt,Pt,It))&&(e.preventDefault(),e.stopPropagation(),At(e).switchers(!1).when(Lt,(()=>{e.target.click()})).when(Pt,(()=>{let e=!1;const t=document.activeElement.previousElementSibling;if(t)t.focus(),e=this.setValue(+(t.dataset?t.dataset.value:t.getAttribute("data-value")));else{const t=document.activeElement.parentElement.lastElementChild;t.focus(),e=this.setValue(+(t.dataset?t.dataset.value:t.getAttribute("data-value")))}e&&this.trigger("change",this.value)})).when(It,(()=>{let e=!1;const t=document.activeElement.nextElementSibling;if(t)t.focus(),e=this.setValue(+(t.dataset?t.dataset.value:t.getAttribute("data-value")));else{const t=document.activeElement.parentElement.firstElementChild;t.focus(),e=this.setValue(+(t.dataset?t.dataset.value:t.getAttribute("data-value")))}e&&this.trigger("change",this.value)})).filter((()=>this.$selector.children.length>5)).when(qt,(()=>{const e=this.$selector.firstElementChild;e.focus();this.setValue(+(e.dataset?e.dataset.value:e.getAttribute("data-value")))&&this.trigger("change",this.value)})).when(Tt,(()=>{const e=this.$selector.lastElementChild;e.focus();this.setValue(+(e.dataset?e.dataset.value:e.getAttribute("data-value")))&&this.trigger("change",this.value)})))},n=e=>{At(e).when(Lt,(()=>{this.element.click()}))},i=e=>{this.element.querySelector(".fv__ui-select").setAttribute("aria-expanded","true");const t=this.$selector.querySelector(`li[data-value="${this.value}"]`);setTimeout((()=>{t.focus()}))},r=e=>{"none"!==this.$selector.style.display&&At(e).when($t,(()=>{e.stopPropagation();const t=this.element.querySelector(".fv__ui-select");t.setAttribute("aria-expanded","false"),this.$selector.style.display="none",t.focus()}))},o=e=>{if(this.disabled)return;const t=this.element.querySelector(".fv__ui-select");t.setAttribute("aria-expanded","false");const n=this.$selector.querySelectorAll('li[aria-selected="true"]');n.length>0&&n.forEach((e=>e.removeAttribute("aria-selected"))),u(e).every((e=>!e.classList.contains("fv__ui-select-option")||(e.setAttribute("aria-selected",!0),e.click(),!1))),this.$selector.style.display="none",t&&t.focus()};this.$selector.querySelectorAll("li").forEach((e=>{e.addEventListener("keydown",t),e.addEventListener("click",o),this.addDestroyHook((()=>{e.removeEventListener("keydown",t),e.addEventListener("click",o)}))})),this.element.addEventListener("keydown",n),this.element.addEventListener("click",i),this.element.addEventListener("keyup",r),this.addDestroyHook((()=>{this.element.removeEventListener("keydown",n),this.element.removeEventListener("keydown",i),this.element.removeEventListener("keyup",r)}))},doActive(e){e();this.element.querySelector(".fv__ui-select").setAttribute("aria-expanded","true")},doDisable(){D(this.element.querySelector(".fv__ui-select"),{"aria-disabled":!0,tabindex:-1})},doEnable(){D(this.element.querySelector(".fv__ui-select"),{"aria-disabled":!1,tabindex:0})}})},function(){const e=UIExtension.modular.root(),t=e.getComponentClass("listbox"),n=e.getComponentClass("listbox-item");t&&(N(t,{updateListData(e){e(),D(this,{role:"presentation"});this.children().forEach(((e,t)=>{"listbox-item"===e.nodeName&&(D(e,{"aria-posinset":t}),t++)})),this.childAt(0)&&this.childAt(0).childAt(1)&&this.childAt(0).childAt(1).childAt(0)&&this.childAt(0).childAt(1).childAt(0).element.focus()}}),N(n,{render(e){e();if(!this.listdata.url)return;const t=this.path;this.addDestroyHook(this.localizer.watch("",{},"",(()=>{const e=t.slice(0,t.length-1).map((e=>bt.indexOf(e)>-1?this.localizer.translateSync("stamp.category."+e):e)).join(",");D(this,{"aria-label":e});this.element.querySelector("img").alt=this.element.title+", "+e})));D(this.element.querySelector(".stamp-preview"),{"aria-hidden":"true"}),D(this,{role:"option"})},doActive(e){e(),D(this,{"aria-selected":!0})},doDeactive(e){e(),D(this,{"aria-selected":!1})}}))},function(){const e=n.modular.root().getComponentClass("field-panel"),t=(e,t)=>{const n=e.$html.find(".fv__field-item:visible"),r=n.filter(".focus"),o=n.index(r);let a;a=1===t||-1===t?n.eq((o+t+n.length)%n.length):0===t?n.first():n.last(),r.removeClass("focus"),a.addClass("focus");const s=a.attr("id");a.closest(".fv__ui-field-container").attr({"aria-activedescendant":s}),i(a)},i=e=>{const t=e.closest(".fv__ui-sidebar-panel-body"),n=t.scrollTop(),{top:i}=t.offset(),{top:r}=e.offset();t.scrollTop(r-i+n)},r=e=>{const t=e.$html.find(".fv__field-item");let n=t.filter(".fv__active:visible");0===n.length&&(n=t.eq(0)),t.filter(".focus").removeClass("focus"),n.addClass("focus");const i=n.attr("id");e.$html.attr("aria-activedescendant",i)},o=(e,t,n,...i)=>{t.on.apply(t,[n].concat(i)),e.addDestroyHook((()=>{t.off.apply(t,[n].concat(i))}))},a=(e,t,...n)=>o.apply(void 0,[e,e.$html,t].concat(n)),s=(e,t,n,i)=>{const r=n.id;D(t,{id:r,"aria-label":e.localizer.i18next.t("aria:labels.field.widget",{type:n.type,name:n.title,page:i}),role:"option"});D(t.querySelector("input"),{"aria-labelledby":r})},l=(e,t)=>{const n=e.element,i=t.page,r=n.querySelector(`.fv__field-item[data-deep="0"][data-page="${i}"]`);if(!r||r.getAttribute("role"))return;const o=r.id||M("page-item");D(r,{id:o,role:"option",tabindex:0});D(r.querySelector("input"),{"aria-labelledby":o}),e.attachEventToElement(r.previousElementSibling,"click",(()=>{((e,t,n)=>{const i=t.parentElement.nextElementSibling,r=n.page,o=i.querySelectorAll(".fv__field-item:not([role=option])"),a=n.children.reduce(((e,t)=>(e[t.id]=t,e)),{});o.forEach((t=>{const n=t.getAttribute("data-id"),i=a[n];s(e,t,i,r)}))})(e,r,t)}))};N(e,{addField(e,[t]){e();const n=t.children[0];((e,t,n)=>{const i=e.element.querySelector(`.fv__field-item[data-deep="0"][data-page="${t}"]`);if(!i)return;const r=i.parentElement.nextElementSibling.querySelector(`.fv__field-item[data-id="${n.id}"]`);s(e,r,n,t)})(this,t.page,n)},updatePage(e,[t]){e();let n=!t||!t.children||!t.children.length;this.$html.attr("tabindex",n?"-1":"0"),n||l(this,t)},render(e){e(),this.$html.attr({role:"listbox",tabindex:"-1"}),a(this,"focus",(()=>{r(this)})),a(this,"click",".fv__field-item",(()=>{r(this)}))},mounted(e){e();const{ArrowUp:n,ArrowDown:r,ArrowRight:o,ArrowLeft:s,Home:l,End:c,Space:u,Enter:d}=zt;a(this,"keydown",(e=>{Ut(e.originalEvent).when(n,(()=>{t(this,-1),e.preventDefault(),e.stopPropagation()})).when(r,(()=>{t(this,1),e.preventDefault(),e.stopPropagation()})).when(o,(()=>{let t=this.$html.find(".fv__field-item:visible").filter(".focus");const n=t.closest(".fv__fields_list"),r=n.next();if(r.length>0&&r.hasClass("fv__hide")){const e=n.find(".fv__tree-icon"),o=e.attr("class");e.attr("class",o.replace("fv__plug","fv__minus")),r.removeClass("fv__hide"),t.removeClass("focus"),t=r.find(".fv__field-item:visible").eq(0),t.addClass("focus");const a=t.attr("id");t.closest(".fv__ui-field-container").attr({"aria-activedescendant":a}),i(t)}e.preventDefault(),e.stopPropagation()})).when(s,(()=>{const t=this.$html.find(".fv__field-item:visible").filter(".focus");let n=t.closest(".fv__field-child");const r=n.prev();let o;if(r.length>0&&!r.hasClass("fv__hide")){o=r.find(".fv__tree-icon");const e=r.find(".fv__field-item:visible").eq(0);e.removeClass("focus"),e.addClass("focus");const t=e.attr("id");e.closest(".fv__ui-field-container").attr({"aria-activedescendant":t}),i(e)}else 0===r.length&&t.length>0&&(n=t.closest(".fv__fields_list").next(),n.length>0&&(o=n.find(".fv__tree-icon")));const a=o.attr("class");o.attr("class",a.replace("fv__minus","fv__plug")),n.addClass("fv__hide"),e.preventDefault(),e.stopPropagation()})).when(l,(()=>{t(this,0),e.preventDefault(),e.stopPropagation()})).when(c,(()=>{t(this),e.preventDefault(),e.stopPropagation()})).when(u,(()=>{this.$html.find(".fv__field-item:visible").filter(".focus").trigger("click"),this.pdfUI.eventEmitter.once("active-annotation",(()=>{e.target.focus()})),e.preventDefault(),e.stopPropagation()})).when(d,(()=>{this.$html.find(".fv__field-item:visible").filter(".focus").trigger("click"),this.pdfUI.eventEmitter.once("active-annotation",(()=>{e.target.focus()})),e.preventDefault(),e.stopPropagation()}))}))}})},function(){const e=n.components.widgets.FileSelectorComponent,t=n.components.widgets.DropdownComponent;N(e,{postlink(e){e(),this.addDestroyHook(this.localizer.watch("",{},"",(()=>{D(this.inputElement,{"aria-label":this.element.getAttribute("aria-label")})})))},mounted:function(e){e(),this.parent instanceof t&&(this.parent.selectable?this.setAttribute("role","option"):this.setAttribute("role","menuitem"));const n=e=>{e.pointerType&&"mouse"===e.pointerType&&(this.inputElement.click(),e.stopPropagation(),e.preventDefault())};"button"===this.element.getAttribute("role")&&(this.element.addEventListener("click",n),this.addDestroyHook((()=>{this.element.removeEventListener("click",n)})))},doDisable(e){e(),this.element.setAttribute("tabindex","-1")},doEnable(e){e(),this.element.setAttribute("tabindex","0")}})},function(){N(n.components.widgets.CheckboxComponent,{render:function(e){e(),this.attachEventToElement(this.element,"keyup",(e=>{Si(e).when(Di,(()=>{this.inputElement.click(),e.preventDefault()}))}))}})},function(){N(n.components.widgets.RibbonButtonComponent,{mounted:function(e){e(),this.on("child_inserted",g((()=>{Wi(this)}))),this.watchI18n("",(()=>{Wi(this)}));const t=e=>{if(this.notDropdown)return;if(!Gi(e,Ki.or(Ki.Space,Ki.Enter))&&"click"!==e.type)return;const t=this.getDropdown();t&&t.isActive&&(t.once("deactive",(()=>{t.separate?this.eRibbonText.focus():this.element.focus()})),Me(t))};this.attachEventToElement(this.eRibbonText,"click",t),this.attachEventToElement(this.element,"click",t);const n=this.eRibbonText.id||M("ribbon-text");L(this.eRibbonText,"id",n);const i=this.getDropdown();if(i){i.listElement["aria-label"]||L(i.listElement,"aria-labelledby",n),i.separate||i.editable?L(i.caretElement,"aria-labelledby",n):L(i.togglerElement,"aria-labelledby",n),this.notDropdown,L(this.element,"role","button");const e=i.separate?this.eRibbonText:this.element;this.attachEventToElement(e,"keyup",(n=>{n.target===e&&Gi(n,Ki.or(Ki.Space,Ki.Enter))&&t(n)})),this.addDestroyHook(i.on("active",(()=>{q(this.eDropdownContainer,"aria-hidden"),L(e,"aria-expanded","true")})),i.on("deactive",(()=>{L(this.eDropdownContainer,"aria-hidden","true"),L(e,"aria-expanded","false")})))}else L(this.eDropdownContainer,"aria-hidden","true"),L(this.element,"role","button")},select(e){e(),Wi(this)},doDisable:function(e){e(),Wi(this)},doEnable:function(e){e(),Wi(this)},setText:function(e){e(),Wi(this)}})},function(){N(n.modular.module("layer").getComponentClass("pdflayers"),{update(e){e();const t=this.$html.children(".tree-wrapper>ul.tree-list");t.attr({role:"listbox",tabindex:"0","aria-multiselectable":"true"});const n=t.find(".tree-item-main");let i=0;const r=n.filter((e=>!!n[e].classList.contains(".fv__active")&&(i=e,!0))),o=n[i]&&n[i].getAttribute("data-id");t.attr("aria-activedescendant",o),0===r.length&&this.activeItem(o);const a=t.find("ul.tree-list"),s=t.find(".tree-item");a.attr({role:"group"}),s.attr({role:"option",tabindex:-1}).attr("id",(e=>s.eq(e).find(":nth-child(2)").attr("data-id"))).attr("aria-selected",(e=>{const t=s.eq(e).find("input[type=checkbox]").prop("checked");return!!s.eq(e).find("input[type=checkbox]").hasClass("vb-hidden")||(t?(s.eq(e).attr("aria-checked",!0),!0):(s.eq(e).removeAttr("aria-checked"),!1))})),s.find("input[type=checkbox]").attr("tabindex","-1");n.on("click",(function(e){const n=this.getAttribute("data-id");t.attr("aria-activedescendant",n)}))},events(e){e();const{ArrowUp:t,ArrowDown:n,ArrowLeft:i,ArrowRight:r,Space:o,Home:a,End:s,Enter:l}=pr;this.$html.on("keydown",(e=>{hr(e.originalEvent).when(t,(()=>{mr(this,-1),e.preventDefault(),e.stopPropagation()})).when(n,(()=>{mr(this,1),e.preventDefault(),e.stopPropagation()})).when(a,(()=>{mr(this,0),e.preventDefault(),e.stopPropagation()})).when(s,(()=>{mr(this),e.preventDefault(),e.stopPropagation()})).when(i,(()=>{e.stopPropagation()})).when(r,(()=>{e.stopPropagation()})).when(o,(()=>{const t=this.$html.find(".tree-item-main").filter(".fv__active"),n=t.children(".tree-item-checkbox");n.hasClass("vb-hidden")||(n.prop("checked")?(t.closest("li.tree-item").attr("aria-selected",!1),t.closest("li.tree-item").removeAttr("aria-checked")):(t.closest("li.tree-item").attr("aria-selected",!0),setTimeout((()=>{t.closest("li.tree-item").attr("aria-checked",!0)})))),n.trigger("click"),e.preventDefault(),e.stopPropagation()})).when(l,(()=>{const t=this.$html.find(".tree-item-main").filter(".fv__active"),n=t.children(".tree-item-checkbox");n.hasClass("vb-hidden")||(n.prop("checked")?(t.closest("li.tree-item").attr("aria-selected",!1),t.closest("li.tree-item").removeAttr("aria-checked")):(t.closest("li.tree-item").attr("aria-selected",!0),setTimeout((()=>{t.closest("li.tree-item").attr("aria-checked",!0)})))),n.trigger("click"),e.preventDefault(),e.stopPropagation()}))}))}})},function(){N(n.modular.module("bookmark").getComponentClass("bookmark-panel"),{update(e){e();const t=this.$html[0],n=C(t.querySelectorAll("ul.tree-list")),i=Array.from(t.querySelectorAll("ul.tree-list .tree-item"));n.attr({role:"listbox",tabindex:"0"}),i.forEach((e=>{const t=e.children[1];D(e,{role:"option",id:t?t.getAttribute("data-id"):null})})),n.on("focus",(()=>{const e=t.querySelector("ul.tree-list .tree-item>.tree-item-main.fv__active");if(!e)return;const n=e.getAttribute("data-id");L(e.closest("ul.tree-list"),"aria-activedescendant",n)}))},events(e){e();const{ArrowUp:t,ArrowDown:n,Home:i,End:r,Space:o,Enter:a}=vr;this.$html.on("keydown",(e=>{br(e.originalEvent).when(t,(()=>{gr(this,-1),e.preventDefault(),e.stopPropagation()})).when(n,(()=>{gr(this,1),e.preventDefault(),e.stopPropagation()})).when(i,(()=>{gr(this,0),e.preventDefault(),e.stopPropagation()})).when(r,(()=>{gr(this),e.preventDefault(),e.stopPropagation()})).when(o,(()=>{if(PDFViewCtrl.shared.isEditableElement(e.target))return;const t=this.$html[0].querySelector("ul.tree-list .tree-item>.tree-item-main.fv__active");t&&(C(t).click(),e.preventDefault(),e.stopPropagation())})).when(a,(()=>{if(PDFViewCtrl.shared.isEditableElement(e.target))return;const t=this.$html[0].querySelector("ul.tree-list .tree-item>.tree-item-main.fv__active");t&&(C(t).click(),e.preventDefault(),e.stopPropagation())}))}))}})},function(){N(n.modular.module("attachment").getComponentClass("attachment-panel"),{mounted(e){e(),this.$element.on("keydown",(e=>{yr(e.originalEvent).when(_r,(()=>{const e=Ar(this,-1);this.updateButton();const t=e.find(".td:nth-child(1)").attr("id");this.$element.find(".tbody").attr("aria-labelledby",t)})).when(xr,(()=>{const e=Ar(this,1);this.updateButton();const t=e.find(".td:nth-child(1)").attr("id");this.$element.find(".tbody").attr("aria-labelledby",t)}))}))},renderAttachmentTable(e){e();this.$attachmentTable.find(".tr>.td:nth-child(1)").each(((e,t)=>{t.id||D(t,{id:M()})}))}})},function(){N(n.modular.module("inksign").getComponentClass("signItem"),{mounted(e){e(),D(this.signItemBtn,{role:"menuitem",tabindex:0});const t=(e,t)=>{this.addDestroyHook(this.watchI18n(t,(t=>{e.setAttribute("aria-label",t)})))};t(this.element,"aria:labels.createSignature"),t(this.deleteSignBtn,"aria:labels.deleteSignature")}})},function(){const e=n.widgets.SidebarRightComponent,t=n.SeniorComponents.SidebarTabsComponent;e&&t&&(N(e,{show(e){e(),this.focusElement=document.activeElement!==document.body&&document.activeElement},collapse(e){const t=this.isExpanded;e(),t&&(this.focusElement?this.focusElement.focus():fo(I,document.querySelectorAll(".fx-ribbon-item-active")).every((e=>{const{width:t,height:n}=e.getBoundingClientRect();return!t||!n||(e.focus(),!1)})))}}),N(t,{mounted(e){e();const t=this.element.querySelector(".fv__ui-sidebar-right-navlist");D(t,{role:"tablist","aria-label":"right panel"});const n=e=>{const t=this.element.querySelectorAll(".fv__ui-sidebar-right-nav"),n=this.element.querySelector(".fv__ui-sidebar-right-nav.active");let i=fo(I,t).indexOf(n);i="number"==typeof e?-1===e||1===e?(i+e+t.length)%t.length:e:t.length-1;const r=this.openTabs[i];this.openTab(r),this.setActivetab(r)},i=()=>{const e=this.element.querySelectorAll(".fv__ui-sidebar-right-nav"),t=this.element.querySelector(".fv__ui-sidebar-right-nav.active");let n=fo(I,e).indexOf(t);const i=this.openTabs[n];this.closeTab(i)};this.attachEventToElement(this.element,"keydown",(e=>{S(e.target)||ho(e,bo(vo,go,Eo,yo,_o))&&(e.stopPropagation(),e.preventDefault())})),this.attachEventToElement(t,"keyup",(e=>{po(e).when(yo,(()=>{e.stopPropagation(),e.preventDefault(),n(-1)})).when(Eo,(()=>{e.stopPropagation(),e.preventDefault(),n(1)})).when(vo,(()=>{e.stopPropagation(),e.preventDefault(),n(0)})).when(go,(()=>{e.stopPropagation(),e.preventDefault(),n()})).when(_o,(()=>{e.stopPropagation(),e.preventDefault(),i()}))}),!0)},setActivetab(e,[t]){e();let n;fo(I,this.element.querySelectorAll(".fv__ui-sidebar-right-nav")).forEach((e=>{D(e.querySelector(".fv__ui-sidebar-nav-close"),{"aria-hidden":"true"}),e.classList.contains("active")?(D(e,{role:"tab",tabindex:"0","aria-selected":"true","aria-controls":this.getTabs().filter((e=>e.name===t))[0].element.id}),n=e):D(e,{tabindex:"-1",role:"tab","aria-selected":"false"})}))},closeTab(e,[t]){e();let n;fo(I,this.element.querySelectorAll(".fv__ui-sidebar-right-nav")).forEach((e=>{e.classList.contains("active")?(D(e,{role:"tab",tabindex:"0","aria-selected":"true","aria-controls":this.getTabs().filter((e=>e.name===t))[0].element.id}),n=e):D(e,{tabindex:"-1",role:"tab","aria-selected":"false"})})),n&&n.focus()}}))},function(){const e=7,t=9,i=n.modular.module("edit-properties").getComponentClass("edit-properties");i&&N(i,{setHost(n,[i,r]){if(n(),r===e){const e=this.measureTab.$element.find("[checkbox]");e.parent().attr("role","group"),e.attr({role:"checkbox",tabindex:"0","aria-checked":!1});const t=this.measureTab.getEleByName("measure-export");t.attr({role:"button",tabindex:"0"}).attr("aria-label",t.attr("title")),e.off("click"),e.on("click",(e=>{e.target.classList.contains("active")?D(e.target,{"aria-checked":!1}):D(e.target,{"aria-checked":!0})})),e.off("keydown"),e.on("keydown",(t=>{xo(t.originalEvent,Ao(So,Co))&&(t.preventDefault(),t.stopPropagation(),e.click())})),t.off("keydown"),t.on("keydown",(e=>{xo(e.originalEvent,Ao(So,Co))&&(e.preventDefault(),e.stopPropagation(),t.click())}))}else if(r===t){const e=e=>{e.target.classList.contains("disabled")||(e.target.classList.contains("up")?D(e.target,{"aria-expanded":!1}):D(e.target,{"aria-expanded":!0}))},t=e=>{if(xo(e.originalEvent,Ao(So,Co))){if(e.target.classList.contains("disabled"))return;e.target.click()}},{$element:n}=this.noteTab;N(this.noteTab.constructor,{getDialogInstance(e){const t=e();if(t&&t.name&&"color"===t.name){const{$element:e}=t,n=e.find(".fv__ui-layer-inner"),i=e.find(".item-btn");n.attr({tabindex:"0",role:"listbox","aria-labelledby":n.find(":first-child").id,"aria-activedescendant":i[0].id}),i.attr({role:"option"}).attr("aria-label",(e=>i[e].style.background)),i.eq(0).attr("aria-selected","true");const r=e=>{const i=t.$element.find(".item-btn:visible");let r,o=-1;i.each(((e,t)=>{t.getAttribute("aria-selected")&&(o=e,t.removeAttribute("aria-selected"))})),r="number"==typeof e?-1===e||1===e?(o+e+i.length)%i.length:(e+i.length)%i.length:i.length-1;const a=i.eq(r),s=a.attr("id");a.attr("aria-selected","true"),n.attr("aria-activedescendant",s)};e.off("keydown"),e.on("keydown",(e=>{ko(e.originalEvent).when(Do,(()=>{r(-1),e.stopPropagation(),e.preventDefault()})).when(Lo,(()=>{r(1),e.stopPropagation(),e.preventDefault()})).when($o,(()=>{r(0),e.stopPropagation(),e.preventDefault()})).when(qo,(()=>{r(),e.stopPropagation(),e.preventDefault()})),xo(e.originalEvent,Ao(So,Co))&&e.target.querySelector("[aria-selected]").click()}))}else if("opacity"===t.name){const{$element:e}=t,n=e.find(".trigger");n.attr({role:"slider",tabindex:"0","aria-valuemax":`${t.valueMax}%`,"aria-valuemin":`${t.valueMin}%`,"aria-valuenow":`${t.$label.text()}%`});const i=(n,i)=>{let r=+t.$label.text()+n*i;r>100?r=100:r<0&&(r=0),t.updateUI(r);const o=+r/100;t.callback&&t.oldValue!==o&&(t.oldValue=o,t.callback(o)),e.find(".trigger").attr({"aria-valuenow":`${r}%`})},r=e=>{xo(e.originalEvent,Ao(Lo,To))?(i(1,1),e.preventDefault(),e.stopPropagation()):xo(e.originalEvent,Ao(Po,Do))?(i(-1,1),e.preventDefault(),e.stopPropagation()):ko(e.originalEvent).when(Oo,(()=>{i(-1,10),e.preventDefault(),e.stopPropagation()})).when(Io,(()=>{i(1,10),e.preventDefault(),e.stopPropagation()})).when($o,(()=>{i(-100,1),e.preventDefault(),e.stopPropagation()})).when(qo,(()=>{i(100,1),e.preventDefault(),e.stopPropagation()}))};n.off("keydown"),n.on("keydown",r)}return t}});const i=n.find(".icon-btn");i.attr({role:"button"}).attr("tabindex",(e=>i[e].classList.contains("disabled")?"-1":"0")).attr("aria-disabled",(e=>i[e].classList.contains("disabled")?"true":"false")),i.off("keydown"),i.on("keydown",t);const r=n.find('[name="toolbar-caret"]');r.attr({role:"button",tabindex:"0","aria-label":"Toolbar Caret"}),r.off("keydown"),r.on("keydown",t),r.off("click",e),r.on("click",e);const o=n.find('[name="color"]');o.attr({tabindex:"0",role:"button","aria-label":"Color"}),o.off("keydown"),o.on("keydown",t);const a=n.find('[name="opacity"]');a.attr({tabindex:"0",role:"button","aria-label":"Opacity"}),a.off("keydown"),a.on("keydown",t)}},doDisable(e){e();this.$element.find("[tabindex=0]").attr({tabindex:-1,"aria-disabled":!0})},doEnable(e){e();const t=this.$element.find("[tabindex=-1]:not(.disabled)");t.attr({tabindex:0}),t.removeAttr("aria-disabled")}})},function(){const e=n.widgets.CollapsePanelComponent;e&&N(e,{mounted(e){e();const t=this.element.querySelector("[name=text]");D(t,{role:"button",tabindex:this.disabled?"-1":"0"}),this.attachEventToElement(t,"keydown",(e=>{No(e,Mo(Ho,Fo))&&(e.preventDefault(),e.stopPropagation(),e.target.click())}))},open(e){e();D(this.element.querySelector("[name=text]"),{"aria-expanded":!0})},close(e){e();D(this.element.querySelector("[name=text]"),{"aria-expanded":!1})}})},function(){n.modular.moduleAsync("thumbnail").then((e=>{e.getComponentDefAsync("thumbnail-list").then((({componentClass:e})=>{N(e,{render(e){e(),D(this.element,{role:"listbox",tabindex:0})}})})),e.getComponentDefAsync("thumbnail-item").then((({componentClass:e})=>{N(e,{render(e){e(),L(this.element,"role","option")},doActive(e){e();const t=this.parent.element,n=(t.getAttribute("aria-activedescendant")||"").split(/\s+/);n.push(this.id),L(t,"aria-activedescendant",n.join(" ")),L(this.element,"aria-selected",!0)},doDeactive(e){e();const t=this.parent.element,n=(t.getAttribute("aria-activedescendant")||"").split(/\s+/),i=n.indexOf(this.id);i>-1&&(n.splice(i,1),L(t,"aria-activedescendant",n.join(" "))),L(this.element,"aria-selected",!1)}})}))}))},function(){N(n.modular.root().getComponentClass("form-group"),{setDescription(e){if(e(),this.description){const e=this.descriptionElement.id||M("desc");L(this.element,"aria-describedby",e)}}})},function(){const{SelectListComponent:e,SelOptionComponent:t}=n.widgets;N(t,{setValue:function(e){e(),D(this.element,{title:this.value})},applyNewState:function(e){e(),D(this.element,{"aria-selected":this.isSelected()})}}),N(e,{mounted(e){e();const t=()=>{if(0===this.size())return 1;const e=this.element.clientHeight,t=this.childAt(0).element.clientHeight;return Math.ceil(e/t)};this.attachEventToElement(this.element,"keydown",(e=>{const n=this.getSelectedOptionChildren();let i=-1;const r=n[n.length-1],o=n[0]?n[0].index():-1,a=r?r.index():-1,s=this.children().length;let l=Jo.value(t);Xo(e,Qo(Zo,na))?0===n.length?i=0:n.length>1?i=a:(i=o+1,i>=s&&(i=0)):Xo(e,Qo(ea,ta))?0===n.length?i=s-1:n.length>1?i=o:(i=o-1,i<0&&(i=s-1)):Xo(e,oa)?i=0:Xo(e,aa)?i=s-1:Xo(e,ia)?i=0===n.length?0:o+(l.value-1):Xo(e,ra)&&(i=0===n.length?0:o-(l.value-1)),i=Math.max(Math.min(s-1,i),0);const c=this.childAt(i);c&&(c.select(!0),e.preventDefault())}),{})}})}],la=[async function(e,t){(await t.getAllMountedComponentsByName("fv--addon-textobject-font-family-size-dropdown")).forEach((e=>{e.querySelectorAll("@dropdown-button").forEach((e=>{e.setAttribute("role","option")}));const n=e.childAt(1),i="aria:labels.set-font-size";n.on("select",(()=>{n._unwatchAriaLabel&&n._unwatchAriaLabel(),n._unwatchThisLabel&&n._unwatchThisLabel();const e=t.localizer.translateSync(i);n.togglerElement.setAttribute("aria-label",e)})),t.localizer.watch(i,{},"",(e=>{n.togglerElement.setAttribute("aria-label",e)}))}))},function(e){const t=n.modular.module("comment-list"),i=t.getComponentClass("comment-list"),r=t.getComponentClass("comment-group-ex"),o=t.getComponentClass("comment"),a=t.getComponentClass("reply"),s=t.getComponentClass("search-comment"),l=t.getComponentClass("filter-dialog"),c=t.getDirectiveClass("search-comment"),u=t.getComponentClass("load-all");N(s,{mounted(e){e();D(this.element.querySelector(".fv__ui-commentlist-not-searching"),{id:M("fv__ui-commentlist-not-searching")})},doDisable(e){e(),D(this.openFilterBtnElement,{"aria-disabled":!0,tabindex:"-1"})},doEnable(e){e(),q(this.openFilterBtnElement,"aria-disabled"),D(this.openFilterBtnElement,{tabindex:"0"})}}),N(i,{render(e){e();const t=document.querySelector(".fv__ui-commentlist-not-searching");D(this.element,{role:"tree","aria-labelledby":t.id})},mounted(e){e(),this.attachEventToElement(this.element,"keydown",(e=>{const t=()=>{e.preventDefault(),e.stopPropagation()},n=e.target.closest(".fv__ui-accordion-card-header"),i=e.target.closest(".fv__ui-accordion-card-body"),r=!!n,o=!!i,a=this.children().filter((e=>e.isDOMVisible())),s=a.length,l=a.findIndex((e=>r?e.headerElement===n:e.bodyElement===i)),c=a[l];let u,d,f,h,p=!1;if(r)if(V(e,Z))d=0;else if(V(e,ee))d=s-1;else if(V(e,W)||V(e,te)&&!e.shiftKey)if(c.isActive)u=c.children().filter((e=>e.isDOMVisible())),f=0,p=V(e,te);else{if(V(e,te)&&(d=l+1,d>=s))return;d=(l+1)%s}else if(V(e,K)||V(e,te)&&e.shiftKey){if(V(e,te)){if(d=l-1,-1===d)return}else d=(l-1+s)%s;const t=a[d];t&&t.isActive&&(u=t.children().filter((e=>e.isDOMVisible())),d=void 0,f=u.length-1,p=V(e,te))}else V(e,X)?(c.active(),t()):V(e,Y)?(c.deactive(),t()):V(e,G(J,Q))&&(c.isActive?c.deactive():c.active());else if(o)if(u=c.children().filter((e=>e.isDOMVisible())),h=u.findIndex((e=>e.hasFocus())),p=V(e,te),V(e,W))f=h+1,f>=u.length&&(f=void 0,d=(l+1)%s);else if(V(e,K))f=h-1,f<0&&(d=l,f=void 0,h=0);else if(V(e,te)&&e.shiftKey){const t=u[h];if(e.target!==t.element)return;f=h-1,f<0&&(d=l,f=void 0,h=0)}else if(V(e,te)&&!e.shiftKey){const t=u[h];if(t&&e.target===t.replyEditorElement){t.replyEditorElement.innerText.trim()||(f=h+1,f>=u.length&&(f=void 0,d=(l+1)%s))}else h=void 0}else h=void 0;let m=!1;void 0!==d&&(a[d].headerElement.focus(),m=!0);const b=u?u[h]:void 0;b&&(b.deselect(),b.applyState(),m=!0);const v=u?u[f]:void 0;v&&(v.focus(),v.selected||p||v.trigger("click"),m=!0),m&&t()}))}}),N(r,{render(e){e(),D(this.headerElement,{role:"treeitem",tabindex:"0"}),D(this.headerButtonElement,{role:"none",tabindex:"-1"})},mounted(e){e(),this.attachEventToElement(this.headerElement,"focus",(()=>{this.headerElement.classList.add("selected"),D(this.headerElement,{"aria-selected":!0})})),this.attachEventToElement(this.headerElement,"blur",(()=>{this.headerElement.classList.remove("selected"),D(this.headerElement,{"aria-selected":!1})}))},doActive(e){e(),D(this.headerElement,{"aria-expanded":!0})},doDeactive(e){e(),D(this.headerElement,{"aria-expanded":!1})}}),N(a,{render(e){e(),D(this.element,{role:"treeitem",tabindex:"-1"})},mounted(e){e();const t=this.element.querySelector(".fv__ui-commentlist-comment-reply-menu");if(t){const e=t.querySelector(".fv__ui-dropdown-toggler");this.attachEventToElement(e,"focus",(()=>{this.element.focus()}))}const n=this.element.querySelector(".fv__ui-commentlist-reply-edit"),i=e=>{V(e,z.Tab)&&n&&!n.contains(document.activeElement)&&this.publishMessage(),document.removeEventListener("keyup",i)};this.attachEventToElement(this.element,"keydown",(e=>{V(e,z.Tab)&&document.addEventListener("keyup",i)}))},applyState(e){e(),document.activeElement.classList.contains("fv__ui-commentlist-btn")&&this.element.focus()},doDestroy(e){if(e(),document.activeElement!==document.body)return;let t=document.querySelector(".fv__biz-sidebar-comment-list.active .fv__ui-commentlist-comment.selected .fv__ui-commentlist-handler");if(t||(t=document.querySelector(".fv__biz-sidebar-comment-list.active .fv__ui-accordion-card-header")),t){D(t,{tabindex:"0"}),t.focus();f(document.querySelector('[name="comment-list-sidebar-panel"] .fv__ui-sidebar-panel-body'),t)}}}),N(o,{render(e){e(),this.commentContentElement=this.element.querySelector(".fv__ui-commentlist-comment-content"),this.on("intersection-visible",(()=>{D(this.element,{role:"group"}),D(this.addReplyContainerElement,{role:"treeitem",tabindex:"-1"}),D(this.handlerElement,{role:"treeitem",tabindex:"-1"}),D(this.checkMarkElement.parentElement,{tabindex:0}),D(this.commentContentElement,{tabindex:0})}))},mounted(e){e(),this.commentlist=this.parent.parent,this.group=this.parent,this.groupIndex=this.group.index(),this.on("intersection-visible",(()=>{this.attachEventToElement(this.handlerElement,"keydown",(e=>{V(e,Q)&&(e.preventDefault(),e.stopPropagation())})),this.attachEventToElement(this.commentContentElement,"keydown",(e=>{V(e,J)&&(this.trigger("dblclick",e),e.preventDefault(),e.stopPropagation())})),this.attachEventToElement(this.element,"keydown",(e=>{e.target===this.element&&(B(e.target)&&V(e,G(J,te,X,Y,K,W,Q,Z,ee))&&e.stopPropagation(),V(e,J)&&!this.selected&&this.trigger("click"))})),this.attachEventToElement(this.publishMessageBtn,"keydown",(e=>{V(e,G(J,Q))&&this.target.click()}));const e=this.handlerElement.querySelector(".fv__ui-commentlist-comment-item-menu"),t=e&&e.querySelector(".fv__ui-dropdown-toggler");e&&(this.attachEventToElement(e,"keyup",(t=>{U(t).when(Q,(()=>{"cancel-check-mark"===t.target.getAttribute("component-name")?e.querySelector('[component-name="add-check-mark"]').focus():"add-check-mark"===t.target.getAttribute("component-name")&&e.querySelector('[component-name="cancel-check-mark"]').focus()})),t.preventDefault(),t.stopPropagation()})),this.attachEventToElement(t,"focus",(()=>{this.handlerElement.focus()})));const n=()=>{if(document.activeElement!==document.body)return;j(I,document.querySelector('[name="fv--commentlist-search-load-all"]').children).every((e=>{const{width:t,height:n}=e.getBoundingClientRect();if(t&&n){e.focus();return f(document.querySelector('[name="comment-list-sidebar-panel"] .fv__ui-sidebar-panel-body'),e),!1}return!0}))};let i;const r=this.element.querySelector(".fv__ui-commentlist-comment-editor"),o=e=>{V(e,z.Tab)&&("replyContainer"!==i||this.addReplyContainerElement.contains(document.activeElement)||(this.publishReplyMessage(),n()),"commentEditor"!==i||r.contains(document.activeElement)||(this.publishMessage(),n())),document.removeEventListener("keyup",o)};this.attachEventToElement(this.element,"keydown",(e=>{V(e,z.Tab)&&(this.addReplyContainerElement.contains(document.activeElement)?i="replyContainer":r.contains(document.activeElement)&&(i="commentEditor"),document.addEventListener("keyup",o))}));const a=this.handlerElement.querySelector(".fv__ui-commentlist-comment-check-mark");this.attachEventToElement(this.handlerElement,"keyup",(e=>{U(e).when(J,(()=>{t&&t.click(),e.preventDefault(),e.stopPropagation()})).when(Q,(()=>{a&&(a.click(),D(this.handlerElement,{"aria-checked":a.checked})),e.preventDefault(),e.stopPropagation()}))}))}))},clearReplyEditor(e){e();let t=this.element.querySelector(".fv__ui-commentlist-replies .fv__ui-commentlist-reply:last-child");const n=document.querySelector([".fv__ui-accordion-card-header[aria-selected=true]",".fv__ui-commentlist-handler[aria-selected=true]",".fv__ui-commentlist-reply[aria-selected=true]"].join(","));if(n&&(n.classList.remove("selected"),q(n,"aria-selected"),D(n,{tabindex:"-1"})),t){t.classList.add("selected"),D(t,{tabindex:"0","aria-selected":!0}),t.focus();f(document.querySelector('[name="comment-list-sidebar-panel"] .fv__ui-sidebar-panel-body'),t)}},applyState(e){if(e(),this.element&&(j(I,this.element.querySelectorAll(".fv__ui-commentlist-comment-editor")).forEach((e=>{D(e,{role:"treeitem"})})),j(I,this.element.querySelectorAll(".fv__ui-commentlist-btn")).forEach((e=>{D(e,{tabindex:"0",role:"button"})}))),document.activeElement.classList&&document.activeElement.classList.contains("fv__ui-commentlist-btn")){const e=[".fv__ui-accordion-card-header[aria-selected=true]",".fv__ui-commentlist-handler[aria-selected=true]",".fv__ui-commentlist-reply[aria-selected=true]"],t=document.querySelector(e.join(","));t&&(q(t,"aria-selected"),D(t,{tabindex:"-1"}),t.classList.remove("selected")),this.handlerElement.classList.add("selected"),D(this.handlerElement,{tabindex:"0","aria-selected":!0}),this.handlerElement.focus();f(document.querySelector('[name="comment-list-sidebar-panel"] .fv__ui-sidebar-panel-body'),this.handlerElement)}},doDestroy(e){const t=this.groupIndex,n=this.commentlist.children();e();for(let e=t;e>=0&&e<n.length;e--){const t=n[e];if(t.children().length>0)return void t.headerElement.focus()}for(let e=t;e<n.length;e++){const t=n[e];if(t.children().length>0)return void t.headerElement.focus()}this.commentlist.getClosestComponentByType("sidebar-panel").focus()}}),N(l,{mounted(e){e();const t=this.element.querySelector('[name="fv--commentlist-filter-clear-selection-btn"]');D(t,{role:"button",tabindex:0});j(I,this.element.querySelectorAll(".fv__ui-commentlist-filter-option .fv--ui-commentlist-fielter-fieldset-label")).forEach((e=>{D(e,{role:"checkbox",tabindex:0,"aria-label":e.textContent})})),this.attachEventToElement(t,"keydown",(e=>{V(e,G(Q,J))&&(t.click(),e.preventDefault(),e.stopPropagation())})),this.attachEventToElement(this.element,"click",(e=>{e.target.classList&&e.target.classList.contains("fv--ui-commentlist-fielter-fieldset-label")&&D(e.target,{"aria-checked":!e.target.previousSibling.checked})})),this.attachEventToElement(this.element,"keydown",(e=>{V(e,G(Q,J))&&(e.target.classList&&e.target.classList.contains("fv--ui-commentlist-fielter-fieldset-label")&&e.target.click(),e.preventDefault(),e.stopPropagation())}))},updateData(e){e();j(I,this.element.querySelectorAll(".fv__ui-commentlist-filter-fieldset-author,.fv__ui-commentlist-filter-fieldset-commentType")).forEach((e=>{e.querySelectorAll(".fv__ui-commentlist-filter-option .fv--ui-commentlist-fielter-fieldset-label").forEach((e=>{D(e,{role:"checkbox",tabindex:0,"aria-label":e.textContent})}))}))}}),N(c,{doFoundMatch(e){e(),this.component.element.classList.contains("selected")&&this.storeFocusEle&&(this.storeFocusEle.classList.remove("selected"),q(this.storeFocusEle,"aria-selected"),D(this.storeFocusEle,{tabindex:"-1"}))},doFoundNotMatch(e){e(),this.component.element.classList.contains("selected")&&(this.storeFocusEle=document.querySelector(".fv__biz-sidebar-comment-list.active .fv__ui-accordion-card-header"),this.storeFocusEle&&(this.storeFocusEle.classList.add("selected"),D(this.storeFocusEle,{tabindex:0,"aria-selected":!0})))}}),N(u,{mounted(e){e();const t=this.element.querySelector(".fv__ui-commentlist-search-load-all-load"),n=this.element.querySelector(".fv__ui-commentlist-search-load-all-loading"),i=this.element.querySelector(".fv__ui-commentlist-search-load-all-no-more");D(t,{tabindex:"0",role:"button"}),D(n,{tabindex:"0",role:"button"}),D(i,{tabindex:"0",role:"button"}),this.attachEventToElement(t,"click",(e=>{const t=document.querySelector(".fv__ui-commentlist [aria-selected=true]");if(t){t.focus();f(document.querySelector('[name="comment-list-sidebar-panel"] .fv__ui-sidebar-panel-body'),t)}})),this.attachEventToElement(t,"keydown",(e=>{V(e,J)&&(e.preventDefault(),e.stopPropagation())})),this.attachEventToElement(t,"keyup",(e=>{V(e,J)&&t.click()}))}});const d=n.UIEvents;function f(e,t){const{scrollTop:n}=e,{bottom:i}=t.getBoundingClientRect(),{top:r,height:o}=e.getBoundingClientRect();let a=n+i-r-o;a<0&&(a=0),e.scrollTo(0,a)}e.addUIEventListener(d.appendCommentListGroup,(e=>{const t=e.localizer,n=e.headerElement,i=()=>{const i=t.translateSync("aria:labels.commentlist.group-title",{count:e.annotationCount,page:e.pageNumber});n.setAttribute("aria-label",i)};n.addEventListener("focus",i),e.addDestroyHook((()=>{n.removeEventListener("focus",i)}))})),e.addUIEventListener(d.appendCommentListComment,((e,t)=>{e.on("intersection-visible",(()=>{const n=e.localizer.watch("aria:labels.commentlist.comment",{type:t.getType(),page:t.getPDFPage().getIndex()+1,author:t.getTitle(),content:t.getContent()},"",(t=>{e.handlerElement.setAttribute("aria-label",t)}));e.addDestroyHook(n);j(I,e.handlerElement.querySelectorAll("button")).forEach((e=>{D(e,{role:"none",tabindex:"-1"})}))}))})),e.addUIEventListener(d.appendCommentListReply,((e,t,n)=>{const i=e.localizer.watch("aria:labels.commentlist.reply",{page:t.getPDFPage().getIndex()+1,type:t.getType(),replyAuthor:t.getTitle(),commentAuthor:n.getTitle(),content:t.getContent()},"",(t=>{e.setAttribute("aria-label",t)}));j(I,e.handlerElement.querySelectorAll("button")).forEach((e=>{D(e,{role:"none",tabindex:"-1"})})),e.addDestroyHook(i)}))},async function(e,t){const n=await t.getMountedComponentByName("print-dialog");if(!n)return;const i=n.querySelector("fv--print-page-size-container>@div"),r=n.getComponentByName("print-dropdown-quality"),o=n.querySelector("fv--print-page-size-container::nextSiblings()");r&&i&&D(r.cursorElement,{"aria-labelledby":i.id}),o&&D(o,{role:"alert","aria-live":"assetive","aria-atomic":"true"});const a=n.getComponentByName("print-dialog-ok-btn");if(a){const e=e=>{ke(e).when(Ce(Ae,Se),(()=>{a.element.click()}))};a.element.addEventListener("keyup",e),n.addDestroyHook((()=>{a.element.removeEventListener("keyup",e)}))}N(n.controller.constructor,{showError(e,[t]){e(t),t.attr("aria-invalid","true"),t.focus(),t[0].onblur=()=>{t.removeAttr("aria-invalid")}}})},async function(e,t){const[n]=await t.waitForComponentLifecycle("page-template-dialog","mounted");if(!n)return;be=n.element;const i=n.getComponentByName("nameTree");D(i,{role:"group","aria-live":"assertive"});const r=t.localizer,o="aria:labels.visibleBox",a=n.controller.resetNameTreeUI;n.controller.resetNameTreeUI=function(){return a.apply(this,arguments).then((()=>{let t;Array.from(i.element.children).forEach(((n,a)=>{n.classList.add("fv__addon-aria-page-template-name-tree-item");const s=n.classList.contains("selected");D(n.lastElementChild,{"aria-posinset":a,tabindex:"0",role:"listitem","aria-selected":s});const l=n.querySelector("[name=visibleBox]");D(l,{role:"checkbox","aria-checked":!0,tabindex:0,"aria-label":r.translateSync(o)}),s&&(t=n.lastElementChild),n.addEventListener("click",(()=>{t!==n&&(t&&L(t,"aria-selected","false"),L(n.lastElementChild,"aria-selected","true"),t=n.lastElementChild)})),i.element.addEventListener("keyup",(e=>{let t=e.target;ce(e).when(me,(()=>{t.click(),ve()})),e.stopPropagation()})),l.addEventListener("click",(t=>{const n=t.target.querySelector(".eye");L(t.target,"aria-checked",Boolean(n)),e.eventEmitter.once("completed-render-visible-pages",(()=>{t.target.focus()}))})),l.addEventListener("keyup",(e=>{let t=e.target;ce(e).when(me,(()=>{t.click()})),e.stopPropagation()}))}))}))};const s=n.controller.resetPageThumb;n.controller.resetPageThumb=function(){return(e=>{s.apply(this,e);Array.from(i.element.children).forEach(((e,t)=>{e.classList.add("fv__addon-aria-page-template-name-tree-item");const n=e.classList.contains("selected");D(e.lastElementChild,{"aria-posinset":t,tabindex:"0",role:"listitem","aria-selected":n});const i=e.querySelector("[name=visibleBox]"),a=Boolean(i.querySelector(".eye"));D(i,{role:"checkbox","aria-checked":a,tabindex:0,"aria-label":r.translateSync(o)})}))})(arguments)};const l=n.controller.resetButtonUI;n.controller.resetButtonUI=function(){return(e=>{l.apply(this,e),ve()})(arguments)};const c=n.controller.resetUI;n.controller.resetUI=function(){return(()=>{c.apply(this,arguments),ve()})()},n.controller.$name.on("keyup",ve)},function(e,t){const i=n.modular.module("password-protect").getComponentClass("password-protect-popup"),r=n.modular.module("password-protect").getComponentClass("password-protect-permissionPopup");i&&(N(i,{updateData(e){e();const t=this.element.querySelector(".fv__ui-layer-panel");D(t.querySelector(".fv__password-protect-error"),{role:"alert"});const n=t.querySelector(".fv__encrypt-settings-radiobox-container"),i=n.children.item(0),r=n.children.item(1),o=r.children.item(0),a=n.children.item(2),s=a.children.item(0),l=M("enc-alg-l"),c=M("env-alg-128"),u=M("env-alg-256");D(n,{"aria-labelledby":l}),L(i,"id",l),L(r,"id",c),L(a,"id",u),D(o,{"aria-labelledby":c}),D(s,{"aria-labelledby":u}),t.querySelectorAll(".check-box-wrapper").forEach((e=>{const t=e.querySelector("input"),n=e.querySelector(".checkbox-inner");D(n,{role:"checkbox",tabindex:0,"aria-checked":t.checked,"aria-disabled":t.disabled}),t.disabled&&$(n,"tabindex"),n.addEventListener("keydown",(e=>{ye(e,_e(xe,we))&&e.target.click()})),n.addEventListener("click",(()=>{L(n,"aria-checked",!t.checked)}))})),this.bindEvent(".fv__owner-password-checkbox","change",(e=>{this.element.querySelectorAll(".check-box-wrapper").forEach((e=>{const t=e.querySelector("input"),n=e.querySelector(".checkbox-inner");L(n,"aria-disabled",t.disabled),t.disabled?$(n,"tabindex"):L(n,"tabindex","0")}))}))}}),N(r,{updateData(e){e();this.element.querySelector(".fv__ui-layer-panel").querySelectorAll(".check-box-wrapper").forEach((e=>{const t=e.querySelector("input"),n=e.querySelector(".checkbox-inner");D(n,{role:"checkbox",tabindex:0,"aria-checked":t.checked,"aria-disabled":t.disabled}),t.disabled&&$(n,"tabindex"),n.addEventListener("keydown",(e=>{ye(e,_e(xe,we))&&e.target.click()})),n.addEventListener("click",(()=>{L(n,"aria-checked",t.checked)}))})),this.bindEvent(".fv__owner-permission-setting-checkbox","change",(e=>{D(e.target.parentElement.querySelector(".checkbox-inner"),{"aria-checked":e.target.checked});ge(I,this.element.querySelectorAll(".fv__permission-copy,.fv__permission-accessibility")).forEach((e=>{const t=e.parentElement.querySelector(".checkbox-inner");e.disabled?D(t,{tabindex:-1,"aria-disabled":!0}):(D(t,{tabindex:0}),q(t,"disabled","aria-disabled"))}))})),this.bindEvent(".fv__permission-copy","change",(e=>{D(e.target.parentElement.querySelector(".checkbox-inner"),{"aria-checked":e.target.checked});const t=this.element.querySelector(".fv__permission-accessibility"),n=t.parentElement.querySelector(".checkbox-inner");t.disabled?D(n,{tabindex:-1,"aria-disabled":!0}):(D(n,{tabindex:0}),q(n,"disabled","aria-disabled"))})),this.bindEvent(".fv__permission-accessibility","change",(e=>{D(e.target.parentElement.querySelector(".checkbox-inner"),{"aria-checked":e.target.checked})}))}}))},async function(e,t){const n=await t.getMountedComponentByName("create-stamp-dialog"),i=n.element.querySelector(".fv__ui-layer-inner"),r=n.querySelector("@stamp:stamp-create").element,o=r.querySelector(".fv__ui-stamp-dropdown"),a=r.querySelector(".fv__ui-stamp-source"),s=M("stamp-dropdown");D(i,{role:"application"}),D(o,{tabindex:"0",role:"button","aria-haspopup":"listbox",id:s}),D(a,{role:"listbox","aria-labelledby":s,tabindex:"-1"}),a.querySelectorAll("li").forEach(((e,t)=>{D(e,{"aria-posinset":t,tabindex:0,role:"option"})})),a.querySelector("#stamp-local-path");const l=r.querySelector("#stampCategory"),c=l.querySelector("label"),u=M("stamp-category"),d=l.querySelector("input"),f=l.querySelector("select");D(c,{id:u}),D(d,{"aria-labelledby":u}),D(f,{"aria-labelledby":u});const h=r.querySelector("#stampType"),p=h.querySelector("label"),m=h.querySelector("select"),b=M("stamp-type");function v(e,t){const n=r.querySelector("#"+e),i=n.querySelector("label"),o=n.querySelector("input"),a=M(t);D(i,{id:a}),D(o,{"aria-labelledby":a})}D(p,{id:b}),D(m,{"aria-labelledby":b}),v("stampName","stamp-name"),v("stampWidth","stamp-width"),v("stampHeight","stamp-height");const g=n.querySelectorAll("@xbutton[data-action=OK]");o.addEventListener("keyup",(e=>{ie(e).when(oe,(()=>{const t=a.style;t.display="block"===t.display?"none":"block",a.firstElementChild.focus(),e.stopPropagation()})).when(le,(()=>{a.style.display="none",o.focus(),e.stopPropagation()}))})),a.addEventListener("keyup",(e=>{ie(e).switchers(!1).when(oe,(()=>{const t=e.target;if("LI"===t.tagName){if(t.querySelector("#stamp-local-path"))t.querySelector("span").click();else{t.querySelector(".fv__ui-stamp-source-lable").click()}}e.stopPropagation()})).when(ae,(()=>{const e=document.activeElement;if("LI"===e.tagName){const t=ne(I,e.parentElement.children);let n,i=t.indexOf(e);t[--i]?(n=t[i],n.focus()):(n=e.parentElement.lastElementChild,n.focus()),e.removeAttribute("aria-selected"),n.setAttribute("aria-selected","true")}})).when(se,(()=>{const e=document.activeElement;if("LI"===e.tagName){const t=ne(I,e.parentElement.children);let n,i=t.indexOf(e);t[++i]?(n=t[i],n.focus()):(n=e.parentElement.firstElementChild,n.focus()),e.removeAttribute("aria-selected"),n.setAttribute("aria-selected","true")}})).when(le,(()=>{a.style.display="none",o.focus(),e.stopPropagation()}))})),n.element.addEventListener("keydown",(e=>{ie(e).switchers(!1).when(oe,(()=>{const e=document.activeElement;e.classList&&e.classList.contains("fv__ui-stamp-dialog")?g[0].element.click():"Close"===e.getAttribute("data-action")&&e.children[0].click()})),e.stopPropagation()})),a.querySelector("#stamp-local-path").addEventListener("click",(e=>{o.focus()}))},function(e,t){N(n.modular.module("search").getComponentClass("search-panel"),{render(e){e(),D(this.eInput,{"aria-label":this.localizer.translateSync("[placeholder]sidebar.search.panel.placeholder")})}});const i=t.querySelector("@search:search-panel");if(!i)return;const r=i.element,o=r.querySelector("[name=pattern]"),a=t.localizer;i.addDestroyHook(a.watch("",{},"",(()=>{D(o,{"aria-label":a.translateSync("sidebar.search.panel.placeholder")})}))),r.querySelectorAll(".fv__search-panel-form-label").forEach((e=>{const t=e.querySelector("input"),n=e.querySelector(".fv__search-panel-form-label-text"),i=M("search-panel-label");D(n,{id:i}),D(t,{"aria-labelledby":i})}))},function(e,t){N(n.EditActionsTab,{buildActionsDom(e){e();let t=this.$element.find(".fv__action_list");const n=this.$element.find(".fv__action_title").attr("id");if(t.attr({role:"tree","aria-labelledby":n}),t.children().length>0){const e=t.children().attr({role:"treeitem","aria-expanded":"true",tabindex:"-1"});e[0].setAttribute("tabindex","0"),e.find(".fv__subaction_list").attr("role","group"),e.find(".fv_action-body").attr({role:"treeitem","aria-expanded":"true",tabindex:"-1"}),function(e,t){const n=e.find("[role='treeitem']");n.off("click",$n),n.on("click",$n),n.off("keydown",kn),n.on("keydown",kn);const i=e.find(".fv_action-info-toggler");i.off("click",Ln),i.on("click",Ln),e.off("click",xn),e.on("click",xn)}(t)}},_setActionBtnStatus(e){e(),function(e){const t=e.closest(".fv__action_tab").find(".fv__action_buttons>.fv__ui-dialog-ok-button");t.attr("tabindex",(e=>t[e].classList.contains("disabled")?-1:0))}(this.$element.find(".fv__action_list")),this.$element.find("#upAction, #downAction").each(((e,t)=>{t.classList.contains("disabled")?L(t,"tabindex","-1"):L(t,"tabindex","0")}));const t=document.activeElement;if("upAction"===t.getAttribute("id")&&t.classList.contains("disabled")?this.$element.find("#downAction:not(.disabled)").length>0&&this.$element.find("#downAction:not(.disabled)").eq(0).focus():"downAction"===t.getAttribute("id")&&t.classList.contains("disabled")&&this.$element.find("#upAction:not(.disabled)").length>0&&this.$element.find("#upAction:not(.disabled)").eq(0).focus(),this.$element.find("[role=tree]").attr({disabled:this.disabled,"aria-disabled":this.disabled}),this.disabled)this.$element.find("[role=treeitem]").attr({tabindex:"-1"});else{const e=this.$element.find("[role=treeitem]");e.length>0&&0===e.filter((t=>"0"===e[t].getAttribute("tabindex"))).length&&e.eq(0).attr("tabindex","0")}},syncUI(e){e(),this.$element.find("#actionAddButton").attr("tabindex",this.disabled?"-1":"0")},offEvent:wn})},function(e,t){e.eventEmitter.on(PDFViewCtrl.ViewerEvents.renderFileSuccess,(()=>{const t=e.signPropertyDialog;t&&N(t.constructor,{updateDialog(t){function n(e,t,n=!1){D(e,qn({},n?{role:"button",tabindex:"0"}:{},{"aria-labelledby":t.id}))}t();const i=this.dialog.element;i.querySelectorAll(".fv__signature-input").forEach((e=>{const t=e.querySelector("span");n(t.nextSibling,t)}));const r=i.querySelector("#permissions");n(r,r.previousSibling);const o=i.querySelector(".fv__ap-edit"),a=o.previousSibling;n(o,a,!0);const s=t=>{Tn(t).when(In,(()=>{t.target.click(),e.eventEmitter.emit(On)}))};o.addEventListener("keyup",s),this.addDestroyHook((()=>{o.removeEventListener("keyup",s)}));const l=i.querySelector(".fv__button-ok"),c=i.querySelector(".fv__button-cancle");D(l,{role:"button",tabindex:"0","aria-label":l.innerText}),D(c,{role:"button",tabindex:"0","aria-label":c.innerText})}})}))},function(e,t){e.eventEmitter.on(On,(()=>{const t=e.SigAPDialog.dialog;if(!t)return;const n=t.element,i=n.querySelector(".fv_sig-open-inksign");D(i,{role:"button",tabindex:"-1","aria-label":i.innerText});const r=n.querySelector(".fv__signature-image");D(r,{role:"radiogroup","aria-labelledby":r.previousSibling.id});const o=r.querySelectorAll("input");o.forEach((e=>{const n=e.checked;D(e,{"aria-checked":n?"true":"false",tabindex:n?"0":"-1"});const r=e=>{o.forEach((e=>{D(e,{"aria-checked":"false",tabindex:"-1"})})),D(e.target,{tabindex:"0","aria-checked":"true"})},a=e=>{Nn(e).when(Fn,(()=>{D(i,{tabindex:"drawingSig"==e.target.id?"0":"-1"})})).when(Hn,(()=>{D(i,{tabindex:"drawingSig"==e.target.id?"0":"-1"})}))};e.addEventListener("click",r),e.addEventListener("keyup",a),t.addDestroyHook((()=>{e.removeEventListener("click",r),e.removeEventListener("keyup",a)}))}));const a=n.querySelector(".fv__signature-labels");D(a,{role:"group","aria-labelledby":a.previousSibling.id});const s=n.querySelector(".fv__button-ok"),l=n.querySelector(".fv__button-cancle");D(s,{role:"button",tabindex:"0","aria-label":s.innerText}),D(l,{role:"button",tabindex:"0","aria-label":l.innerText})}))},async function(e,t){const n=await t.getMountedComponentByName("create-signature"),i=n.element.querySelector(".fv__ui-layer-header-title"),r=n.getComponentByName("sign-dialog-tab-panel").element,o=r.querySelector(".fv__ui-sign-dialog-tabs"),a=r.querySelectorAll(".fv__ui-sign-dialog-tab"),s=r.querySelectorAll(".fv__ui-sign-dialog-panel"),l=r.querySelector(".preview-file-error-message");D(o,{role:"tablist","aria-label":i.innerText});const c=e=>{e.target.textContext?D(e.target,{role:"alert"}):$(e.target,"role")};if(window.MutationObserver){const e=new MutationObserver((e=>{e.forEach((e=>{e&&e.addedNodes&&e.addedNodes.length>0&&e.addedNodes[0]?D(e.target,{role:"alert"}):$(e.target,"role")}))}));e.observe(l,{childList:!0}),n.addDestroyHook((()=>{e.disconnect()}))}else{const e="DOMSubtreeModified";l.addEventListener(e,c),this.addDestroyHook((()=>{element.removeEventListener(e,c)}))}const u=e=>{a.forEach((e=>{const t=e.classList.contains("active");D(e,{"aria-selected":t,tabindex:t?"0":"-1"})}))},d=e=>{const t=e.target;let n;var i;jn(e).when(Yn(Un,Vn),(()=>{n=t.previousSibling?t.previousSibling:a[a.length-1]})).when(Yn(zn,Gn),(()=>{n=t.nextSibling?t.nextSibling:a[0]})).when(Kn,(()=>{n=a[0]})).when(Wn,(()=>{n=a[a.length-1]})),n&&(i=n,a.forEach(((e,t)=>{const n=e.id==i.id;e.classList[n?"add":"remove"]("active"),D(e,{"aria-selected":n,tabindex:n?"0":"-1"}),s[t].style.display=n?"block":"none"})),n.focus(),e.preventDefault(),e.stopPropagation())};a.forEach(((e,t)=>{D(e,{role:"tab",tabindex:e.classList.contains("active")?"0":"-1","aria-selected":"false","aria-labelledby":a[t].id,"aria-controls":s[t].id}),e.addEventListener("keydown",d),e.addEventListener("click",u),n.addDestroyHook((()=>{e.removeEventListener("keydown",d),e.addEventListener("click",u)}))})),s.forEach(((e,t)=>{D(e,{role:"tabpanel","aria-labelledby":a[t].id})}));const f=r.querySelector(".fv__ui-sign-dialog-color"),h=f.querySelectorAll("span"),p=r.querySelector(".fv__ui-sign-dialog-size"),m=p.querySelectorAll("span"),b=r.querySelector(".fv__ui-sign-dialog-eraser .fv__icon-toolbar-clear"),v=r.querySelector(".image-title .fv__icon-toolbar-clear"),g=r.querySelector(".fv__ui-sign-dialog-canvas"),y=t.localizer;n.attachEventToElement(b,"keydown",(e=>{Mn(e,Xn)&&(b.click(),e.preventDefault(),e.stopPropagation())})),n.attachEventToElement(v,"keydown",(e=>{Mn(e,Xn)&&(v.click(),e.preventDefault(),e.stopPropagation())})),n.addDestroyHook(y.watch("",{},"",(()=>{D(f,{role:"radiogroup","aria-label":y.translateSync("aria:labels.createInkSign.strokeColor")}),D(p,{role:"radiogroup","aria-label":y.translateSync("aria:labels.createInkSign.brushSize")}),D(b,{role:"button",tabindex:"0","aria-label":y.translateSync("aria:labels.createInkSign.eraser")}),D(v,{role:"button",tabindex:"0","aria-label":y.translateSync("aria:labels.createInkSign.clear")}),D(g,{"aria-label":y.translateSync("aria:labels.createInkSign.preview"),tabindex:"0"}),m.forEach((e=>{D(e,{"aria-label":y.translateSync("aria:labels.createInkSign.unit",{unit:e.getAttribute("data-size")})})}))})));const E=e=>{let t=e.target;t.classList.contains("color-wrapper")||(t=t.parentNode);t.parentElement.querySelectorAll("span").forEach((e=>{const n=e.id==t.id;D(e,{"aria-checked":n,tabindex:n?"0":"-1"})}))},_=e=>{e.parentElement.querySelectorAll("span").forEach(((t,n)=>{const i=t.id==e.id;t.classList[i?"add":"remove"]("circle-active"),i&&t.click()}))};h.forEach(((e,t)=>{const i=0==t;D(e,{role:"radio","aria-checked":i?"true":"false",tabindex:i?"0":"-1","aria-label":e.getAttribute("data-color")}),e.addEventListener("keydown",(e=>Jn(e,_))),e.addEventListener("click",E),n.addDestroyHook((()=>{e.removeEventListener("keydown",(e=>Jn(e,_))),e.removeEventListener("click",E)}))})),m.forEach(((e,t)=>{const i=0==t;D(e,{role:"radio","aria-checked":i?"true":"false",tabindex:i?"0":"-1"}),e.addEventListener("keydown",(e=>Jn(e,_))),e.addEventListener("click",E),n.addDestroyHook((()=>{e.removeEventListener("keydown",(e=>Jn(e,_))),e.removeEventListener("click",E)}))})),n.element.querySelectorAll(".online-checkbox-input").forEach((e=>{const t=e.parentElement;D(t,{role:"checkbox",tabindex:0,"aria-checked":e.checked}),t.addEventListener("click",(()=>{L(t,"aria-checked",e.checked)})),t.addEventListener("keydown",(e=>{jn(e).when(Xn,(()=>{e.target.click(),e.preventDefault(),e.stopPropagation()}))}))}))},function(e,t){N(PDFViewCtrl.FormRender,{showDateTimePicker(e){if(e(),!this.dt)return;const{calendarContainer:n,input:i,daysContainer:r}=this.dt;n&&i&&(n.__prepared_aria__||(n.__prepared_aria__=!0,function(e,t){const{calendarContainer:n,input:i,prevMonthNav:r,nextMonthNav:o}=e.dt,a=n.querySelectorAll(ui.join(","));Qn(I,a).forEach((e=>{L(e,"tabindex","0")})),L(r,"aria-label",t.translateSync("aria:labels.prevMonth")),L(o,"aria-label",t.translateSync("aria:labels.nextMonth"))}(this,t.localizer),function(e){const t=document.createElement("div"),n=document.createElement("div");D(t,{tabindex:0,"aria-hidden":!0,class:"fv__ui-aria-focus-secondary-node"}),D(n,{tabindex:0,"aria-hidden":!0,class:"fv__ui-aria-focus-secondary-node"}),t.onfocus=t=>{const n=fi(e)[0],i=fi(e).slice(-1)[0];t.relatedTarget===n?i.focus():i&&n.focus()},n.onfocus=t=>{const n=fi(e)[0],i=fi(e).slice(-1)[0];t.relatedTarget===i?n.focus():i&&i.focus()},e.insertBefore(t,e.firstElementChild),e.appendChild(n,e.lastElementChild)}(n),r.setAttribute("role","application"),this.calendarEventListener=e=>{!function(e,t){if(!ei(e,ci(ri,ii,ai,oi,li,si)))return;const n=t.dt,{calendarContainer:i,selectedDateElem:r,currentYear:o,currentMonth:a,input:s,todayDateElem:l}=n,c=r&&r.textContent||l&&l.textContent,u=new Date;u.setFullYear(o),u.setMonth(a),u.setDate(c),Zn(e).switchers(!1).when(ri,(()=>{document.activeElement.classList.contains("flatpickr-days")&&n.setDate(u.getTime()-864e5,!0)})).when(ii,(()=>{document.activeElement.classList.contains("flatpickr-days")&&n.setDate(u.getTime()+864e5,!0)})).when(ai,(()=>{document.activeElement.classList.contains("flatpickr-days")&&n.setDate(u.getTime()+6048e5,!0)})).when(oi,(()=>{document.activeElement.classList.contains("flatpickr-days")&&n.setDate(u.getTime()-6048e5,!0)})).when(li,(()=>{document.activeElement.classList.contains("flatpickr-days")&&(n.close(),s.focus())})).when(si,(()=>{n.close(),s.focus()})),e.stopPropagation()}(e,this)},n.addEventListener("keydown",this.calendarEventListener)),L(n,"tabindex","-1"),this.__onkeydown__||(this.__onkeydown__=e=>{this.dt.isOpen&&ei(e,ni)&&(this.dt.calendarContainer.focus(),e.preventDefault())}),this.control.$textInput.off("keydown",this.__onkeydown__),this.control.$textInput.on("keydown",this.__onkeydown__))},destroy(e){if(e(),!this.dt)return;const{calendarContainer:t,input:n}=this.dt;t&&n&&(this.__onkeydown__&&this.control&&this.control.$textInput&&this.control.$textInput.off("keydown",this.__onkeydown__),t.removeEventListener("keydown",this.calendarEventListener))}})},function(e,t){e.eventEmitter.once("showCODialog",(()=>{xi=e.CODialog;const t=xi.$element.find("[role=button]"),n=e=>{pi(e,_i)&&(e.target.click(),e.preventDefault(),e.stopPropagation()),e.target.removeEventListener("keyup",n)};t.on("keydown",(e=>{if(pi(e.originalEvent,_i)){if(e.target.classList.contains("disabled"))return;e.target.addEventListener("keyup",n),e.stopPropagation(),e.preventDefault()}})),N(xi.constructor,{show(e){e();this.$element.find(".fv_CO-item").each(((e,t)=>{D(t,{role:"option","aria-label":t.innerText,"aria-selected":t.classList.contains("active"),id:M("field-item")}),t.addEventListener("click",(e=>{ki(),Ai()}))}));this.$element.find(".fv__fields-list")[0].addEventListener("keydown",wi),ki(),Ai()},moveItemTo(e){e(),ki(),Ai();xi.$element.find(".fv_CO-item").each(((e,t)=>{D(t,{"aria-label":t.innerText})}))},destroy(e){e();this.$element.find(".fv_CO-item").each(((e,t)=>{t.removeEventListener("click")}));this.$element.find(".fv__fields-list")[0].removeEventListener("keydown")}})}))},function(e,t){const n=t.getAllComponentsByType("pause-resume-read-aloud");n&&1===n.length&&N(n[0].constructor,{switchToResumeButton(e){e(),this.setAttribute("aria-label",this.localizer.translateSync(this.resumeTooltipTitle))},switchToPauseButton(e){e(),this.setAttribute("aria-label",this.localizer.translateSync(this.pauseTooltipTitle))}})},async function(e,t){await t.getMountedComponentByName("form-properties-dialog");const n=e.formDesignDialog;function i(e){const{target:t}=e,i=t.value,r=n.$dialog.find(".fv__ui-dialog-button[name=advanced]"),o=n.$dialog.find(".fv__ui-dialog-button[name=chooseIcon]");"e_MKRelationNoIcon"===i?(r.attr("tabindex",-1),o.attr("tabindex",-1)):"e_MKRelationNoIcon"!==i&&(r.attr("tabindex",0),o.attr("tabindex",0))}function r(e){e=e.originalEvent||e,pn(e).switchers(!1).when(mn.Escape,(()=>{e.stopPropagation(),n.$dialog.find(".fv__advanced-dialog .cancel-button").trigger("click"),a()}))}function o(e){setTimeout((()=>{n.$dialog.find(".fv__advanced-dialog").focus()}))}function a(e){n.$dialog.find(".fv__ui-dialog-button[name='advanced']").focus()}function s(e){n.$dialog.find(".fv__ui-dialog-button[name=clearIcon]").attr("tabindex",0)}function l(e){e.target.setAttribute("tabindex","-1")}function c(e){n.$dialog.find(`[name="${e}"]`).each(((t,i)=>{const r=i.parentElement;if("calculateRadio"===e){const e=r.querySelector("select");e&&i.checked?(e.removeAttribute("disabled"),e.classList.remove("disabled")):e&&!i.checked&&(e.setAttribute("disabled","disabled"),e.classList.add("disabled"))}if(0==t)return;const o=r.nextElementSibling;if(!o)return;const a=o.querySelectorAll('input:not([type="radio"]),textarea'),s=o.querySelectorAll("div.fv__ui-dialog-button");a.length>0&&dn(I,a).forEach((t=>{i.checked?"validateRadio"===e&&"textScript"===t.getAttribute("name")||t.removeAttribute("disabled"):t.setAttribute("disabled",!0)})),s.length>0&&dn(I,s).forEach((t=>{i.checked?(t.setAttribute("tabindex",0),t.classList.contains("disabled")&&t.classList.remove("disabled")):(t.setAttribute("tabindex",-1),t.classList.contains("disabled")||(t.classList.add("disabled"),n.$dialog.find(`[name="${e}"]:checked`).focus()))}))}))}function u(){const e=n.$dialog.find(".fv__ui-form-tab-body"),t=e.find(".fv__action_list");if(t.hasClass("disabled"))t.find("[tabindex]").attr("tabindex","-1"),e.find(".fv__ui-dialog-ok-button:not(.disabled)").attr("tabindex","-1");else{const n=t.find(".active");0===n.length?t.find("[role=treeitem]").attr("tabindex","0"):n.parent().attr("tabindex","0"),e.find(".fv__ui-dialog-ok-button:not(.disabled)").attr("tabindex","0")}}function d(){n.$dialog.find('[name="selectAction"]').each(((e,t)=>{const i=n.$dialog.find("#keyStrokeJS"),r=n.$dialog.find(".btn-edit");"1"===t.getAttribute("data-id")&&(t.checked?(i.removeAttr("disabled"),r.attr("tabindex","0"),r.removeClass("disabled")):(i.attr("disabled",!0),r.addClass("disabled"),r.attr("tabindex","-1")))}))}function f(){n.$dialog.find('[name="signAction"]').each(((e,t)=>{if("fieldsFlag"===t.id){const e=n.$dialog.find(".fv_sign-fields-category"),i=n.$dialog.find(".fv_-fields-list"),r=n.$dialog.find("#pickField");t.checked?(e.removeAttr("disabled"),i.removeAttr("disabled"),r.hasClass("interactive")?(r.removeAttr("disabled"),r.attr("tabindex","0")):(r.attr("disabled",!0),r.attr("tabindex","-1"))):(e.attr("disabled",!0),i.attr("disabled",!0),r.attr("disabled",!0),r.attr("tabindex","-1"))}else if("customScript"===t.id){const e=n.$dialog.find("#editScript"),i=n.$dialog.find(".fv_sign-script-input");t.checked?(e.attr("tabindex","0"),i.removeAttr("disabled")):(e.attr("tabindex","-1"),i.attr("disabled",!0))}}))}function h(e){e=e.originalEvent||e,pn(e).switchers(!1).when(bn,(()=>{!function(){let e=-1;const t=n.$tabNav.filter(":visible"),i=t.index(n.$tabNav.filter(".active"));n.$tabNav.removeClass("active"),n.$tabNav.attr("aria-selected","false"),n.$tabNav.attr("tabindex","-1"),e=t.length===i+1?0:i+1;t[e].classList.add("active"),t[e].setAttribute("aria-selected","true"),t[e].setAttribute("tabindex","0"),t[e].focus(),m(t[e])}(),e.preventDefault(),e.stopPropagation()})).when(vn,(()=>{!function(){let e=-1;const t=n.$tabNav.filter(":visible"),i=t.index(n.$tabNav.filter(".active"));n.$tabNav.removeClass("active"),n.$tabNav.attr("aria-selected","false"),n.$tabNav.attr("tabindex","-1"),e=0===i?t.length-1:i-1;t[e].classList.add("active"),t[e].setAttribute("aria-selected","true"),t[e].setAttribute("tabindex","0"),t[e].focus(),m(t[e])}(),e.preventDefault(),e.stopPropagation()})).when(gn,(()=>{!function(){const e=n.$tabNav.filter(":visible");n.$tabNav.removeClass("active"),n.$tabNav.attr("aria-selected","false"),n.$tabNav.attr("tabindex","-1"),e[0].classList.add("active"),e[0].setAttribute("aria-selected","true"),e[0].setAttribute("tabindex","0"),e[0].focus(),m(e[0])}(),e.preventDefault(),e.stopPropagation()})).when(yn,(()=>{!function(){const e=n.$tabNav.filter(":visible"),t=e.length-1;n.$tabNav.removeClass("active"),n.$tabNav.attr("aria-selected","false"),n.$tabNav.attr("tabindex","-1"),e[t].classList.add("active"),e[t].setAttribute("aria-selected","true"),e[t].setAttribute("tabindex","0"),e[t].focus(),m(e[t])}(),e.preventDefault(),e.stopPropagation()})).when(En,(e=>{e.target.classList.contains("disabled")||e.target.addEventListener("keyup",p)}))}function p(e){e=e.originalEvent||e,pn(e).when(En,(()=>{e.target.click(),e.stopPropagation(),e.target.removeEventListener("keyup",p)}))}function m(e){const t=n.$tabNav.index(e),i=n.$dialog.find(".fv__ui-form-tab-body > div:not(.lock-mask)");i.hide(),i.eq(t).show(),n.tabs.forEach((e=>e.active&&e.annot&&e.annot.getField()&&e.active()));let r=n.PDFUI.colorSpectrum;r&&r.isActive&&r.hide()}n&&(n.dialog.localizer.watch("aria:labels.close-layer-btn",{},"aria:labels.close-layer-btn",(e=>{n.$dialog.find("[name=closeDialog]").attr("aria-label",e)})),n.$tabNav.attr("role","tab"),n.$tabNav.attr("tabindex","-1"),n.$tabNav.filter(".active").attr("tabindex","0"),n.$tabNav.attr("aria-selected","false"),n.$tabNav.each(((e,t)=>{const i=n.$dialog.find(".fv__ui-form-tab-body > div:not(.lock-mask)");i.attr("role","tabpanel"),i.eq(e).attr("aria-labelledby",t.id),t.setAttribute("aria-controls",i.eq(e).attr("id"))})),function(){n.$tabNav.on("keydown",h),n.$tabNav.on("focus",(e=>{n.$tabNav.attr("tabindex","-1"),n.$tabNav.attr("aria-selected","false"),e.target.setAttribute("tabindex","0"),e.target.setAttribute("aria-selected","true")})),n.$dialog.find("[role='button']").on("keydown",h),n.$dialog.find(".fv__ui-dialog-button[name=advanced]").on("click",o),n.$dialog.find(".fv__ui-dialog-button[name=clearIcon]").on("click",l),n.$dialog.find("select[name=layout]").on("change",i),n.$dialog.find("#chooseIconFile").on("change",s);const e=n.$dialog.find(".fv__advanced-dialog");e.find(".fv__icon-layer-close,.confirm-button,.cancel-button").on("click",a),e.on("keyup",r),n.$dialog.find("[name=validateRadio]").on("change",(e=>c("validateRadio"))),n.$dialog.find("[name=calculateRadio]").on("change",(e=>c("calculateRadio"))),n.$dialog.find("[name=selectAction]").on("change",d),n.$dialog.find("[name=signAction]").on("change",f)}(),N(n.constructor,{updateContent:e=>{e();const t=n.annot,i=(Object.keys(fn).find((e=>fn[e]===t.getField().getType()))||"").toLowerCase(),r=n.dialog.element.querySelector(".fv__ui-form-tab-nav");if(r){r.setAttribute("role","tablist");const e=n.$dialog.find(`.fv_ui_dialog_title > div[show-in-types="${i}"]`).attr("id");r.setAttribute("aria-labelledby",e)}!function(){n.$dialog.find(".inputContainer .inlineItem").each(((e,t)=>{const n=t.querySelector("div").getAttribute("id"),i=t.querySelector("input").getAttribute("id"),r=t.querySelector("span").getAttribute("id");t.querySelector("input").setAttribute("aria-labelledby",`${n} ${i} ${r}`)}));const e=n.$dialog.find(".bg-wrap .fv__ui-dropdown-editor"),t=n.$dialog.find(".bg-wrap .fv__ui-dropdown-caret"),i=e.parent().parent().prev();e.attr("aria-labelledby",i.attr("id")),t.attr("aria-labelledby",i.attr("id")),e[0].parentElement.hasAttribute("disabled")?e.attr("disabled",!0):e.removeAttr("disabled")}()},lockedHandler:e=>{if(e(),n.dialog.element){if(n.$locked.prop("checked")){const e=n.$dialog.find(".fv__ui-form-tab-body");e.find("input,select,textarea,button").not(((e,t)=>t.hasAttribute("data-forbid"))).attr("disabled",!0),e.find(".fv__action_list").addClass("disabled"),e.find('.fv__ui-dialog-button[tabindex="0"],.fv__action_list div[tabindex="0"],.color-picker div[tabindex="0"],.fv__action_add[tabindex="0"],select,input[type="radio"],input[type="checkbox"]').attr("tabindex",-1),e.find(".fv__ui-dialog-button").addClass("disabled"),u(),d(),f()}else{const e=n.$dialog.find(".fv__ui-form-tab-body");e.find("input,select,textarea,button").not(((e,t)=>t.hasAttribute("data-forbid"))).removeAttr("disabled"),e.find(".fv__action_list").removeClass("disabled"),e.find('.fv__ui-dialog-button[tabindex="-1"],.fv__action_list div[tabindex="-1"],.color-picker div[tabindex="-1"],.fv__action_add[tabindex="-1"],select,input[type="radio"],input[type="checkbox"]').attr("tabindex",0),function(){const e=n.$dialog.find(".fv__ui-form-tab-body");if(n.annot&&n.annot.getField){const t=n.annot.getField(),i=e.find("[name=textSize]");!t||t.getType()!==fn.Sign&&t.getType()!==fn.CheckBox&&t.getType()!==fn.RadioButton?i.find("input,button").removeAttr("disabled").removeClass("disabled"):i.find("input,button").attr("disabled",!0).addClass("disabled")}}(),u(),d(),f(),c("calculateRadio"),function(){let e,t;if(n.annot&&n.annot.getField){if(e=n.annot.getField(),!e)return;let i=e.getAction(hn.format);i&&"TypeJavaScript"==i.info.type&&(t=i.info.javascript);const r=t?Kt.GetFormatStringType(t):0,o=n.$dialog.find('[name="validateRadio"]');1==r||2==r?o.filter("[value=1]").removeAttr("disabled"):o.filter("[value=1]").attr("disabled","disabled"),c("validateRadio")}}()}UIExtension.vendors.jQuery;const e=n.annot;if(!e||e.isEmpty()||!e.getField())return}},destroy:e=>{!function(){if(n.isDestroyed)return;n.$tabNav.off("keydown"),n.$tabNav.off("focus"),n.$dialog.find("[role='button']").off("keydown"),n.$dialog.find(".fv__ui-dialog-button[name=advanced]").off("click",o),n.$dialog.find(".fv__ui-dialog-button[name=clearIcon]").off("click",l),n.$dialog.find("select[name=layout]").off("change",i),n.$dialog.find("#chooseIconFile").off("change",s);const e=n.$dialog.find(".fv__advanced-dialog");e.find(".fv__icon-layer-close,.confirm-button,.cancel-button").off("click",a),e.off("keyup",r),n.$dialog.find("[name=validateRadio]").off("change",(e=>c("validateRadio"))),n.$dialog.find("[name=calculateRadio]").off("change",(e=>c("calculateRadio"))),n.$dialog.find("[name=selectAction]").off("change",d),n.$dialog.find("[name=signAction]").off("change",f)}(),e()}}),function(e){if(!e)return;const t=e.$dialog.find(".fv__comboListOptions_tab");o();const n=t.find("[name=itemLabel]");n.on("keyup",(e=>{o()}));const i=t.find("[name=items]");i.on("keydown",(function(e){const t=e.target,n=t.children[t.selectedIndex];let i;Wt(e).when(Xt,(()=>{i=n&&n.previousSibling})).when(Jt,(()=>{i=n&&n.nextSibling})),i&&(i.click(),o()),e.stopPropagation()}));const r=t.find(".fv__ui-dialog-button");function o(){setTimeout((()=>{r.each(((e,t)=>{L(t,"tabindex",t.classList.contains("disabled")?-1:0)}))}),10)}r.on("click",o),e.dialog.addDestroyHook((()=>{n.off("keyup"),r.off("click"),i.off("keyup")}))}(n),sn(n))},function(e,t){let n;const i=t.getComponentByName("multi-media-popup");i&&(e.addViewerEventListener("add-square-area",((e,t)=>{n=i.element;L(n.querySelector(".fv__multi-file-div"),"role","radiogroup");const r=n.querySelector(".fv__record-record"),o=n.querySelectorAll(".fv__multi-file-label")[0];D(r,{tabindex:-1,"aria-label":o.innerText});n.querySelectorAll("[type=radio]").forEach((e=>{L(e,"aria-label",e.nextElementSibling.innerText),e.addEventListener("change",(e=>{L(r,"tabindex",1==e.target.value?-1:0)}))}));const a=n.querySelector(".fv__poster-file"),s=n.querySelector(".fv__poster-file-label"),l=M("poster-file"),c=M("poster-file-input");L(s,"id",l),D(a,{id:c,"aria-labelledby":`${l} ${c}`})})),N(i.constructor,{hideRecordError(e){e();q(n.querySelector(".fv__record-error"),"role","aria-live")},showRecordError(e){e();D(n.querySelector(".fv__record-error"),{role:"alert","aria-live":"assertive"})}}))},function(e,t){t.getAllComponentsByType("measurement-popup").forEach((e=>{N(e.constructor,{mounted(e){e(),this.on(v.SHOWN,(()=>{this.element.querySelectorAll("input")[0].focus()}));const t=e=>{e.stopPropagation(),this.hide(),document.removeEventListener("keyup",t)};document.addEventListener("keydown",(e=>{u(e).some((e=>e===this.element))&&Li(e).when($i.Escape,(()=>{e.stopPropagation(),document.addEventListener("keyup",t)}))}))}})}))},function(e,t){e.addViewerEventListener(qi.openFileSuccess,(async e=>{const n=await t.getMountedComponentByName("redaction-page-popup");n&&N(n.constructor,{rendered(e){e();const t=this.element.querySelector(".fv__redaction-range");t.firstElementChild.setAttribute("id","page_range"),t.lastElementChild.setAttribute("aria-labelledby","page_range")},showError(e){e();const t=this.element.querySelector(".fv__redaction-page-range");t.setAttribute("aria-invalid","true"),t.focus(),t.onblur=()=>{t.removeAttribute("aria-invalid")}}})}))},async function(e,t){const n=await t.getMountedComponentByName("stamp-drop-down-ui");if(!n)return;const i=n.listElement;i.addEventListener("keyup",(e=>{const t=Array.from(i.querySelectorAll("[tabindex]"));let n,r=t.findIndex((t=>t.id==e.target.id));r<0||(Ti(e).when(Mi(Ii,Ni),(()=>{n=0==r?t[t.length-1]:t[--r]})).when(Mi(Oi,Ri),(()=>{n=r==t.length-1?t[0]:t[++r]})).when(Fi,(()=>{n=t[0]})).when(Hi,(()=>{n=t[t.length-1]})),n&&n.focus())}))},function(e,t){let n={};e.getPDFViewer().then((i=>{t.addDestroyHook(e.addViewerEventListener(b.openFileSuccess,(e=>{const r=i.getPDFViewerRender();r.$container.attr({tabindex:-1,role:"application"}),n.app=t.localizer.watch("aria:labels.PDF.documentViewport",{},"Document viewport",(e=>{r.$container.attr("aria-roledescription",e)}));i.getPDFDocRender().$container.attr({tabindex:"-1",role:"feed","aria-roledescription":e.getFileName()})})),e.addViewerEventListener(b.renderFileSuccess,(()=>{const e=i.getPDFDocRender();if(e){e.$container.get(0).focus({preventScroll:!0})}})),e.addViewerEventListener(b.renderPageSuccess,(e=>{(window.requestIdleCallback||window.setTimeout)((()=>{if(e.isDestroyed)return;const t=e.$element,i=e.getPDFDoc().getPageCount(),r=e.index,o=n[r];o&&o(),t.attr({role:"article","aria-busy":!1,"aria-posinset":r,"aria-setsize":i,"aria-live":"assertive","aria-relevant":"all"})}))})),e.addViewerEventListener(b.willCloseDocument,(()=>{for(const e in n){(0,n[e])()}n={}})))}))},async function(e,t){},function(e,t){N(UIExtension.modular.module("field").getControllerClass("field-load-all"),{mounted(e){e(),this.$html.attr({tabindex:0,role:"button"}),this.element.onfocus=e=>{e.relatedTarget?this.resetFocusElement=e.relatedTarget:this.resetFocusElement=document.body}},loadAllPage(e){e();const t=this.$html.prev('[name="fv-field-sidebar-panel"][tabindex=0]');t.length>0?t.focus():this.resetFocusElement?this.resetFocusElement.focus():document.body.focus()}})},function(e,t){const i=n.internals.AnnotPropertiesDialog;N(i,{listenEvent(e){e();const t=this.dialog.element;D(t.querySelector("[name=annot-property-close]"),{role:"button",tabindex:"0"});Yi(I,t.querySelectorAll(".color-picker")).forEach((e=>{D(e,{role:"button","aria-labelledby":e.previousElementSibling.id,tabindex:"0"})}));const n=t.querySelector(".tabPanel");D(n,{"aria-label":t.querySelector(".fv__ui-layer-header-title").textContent});Yi(I,n.children).forEach(((e,n)=>{D(e,{role:"tab",tabindex:"-1","aria-selected":!1,"aria-controls":t.querySelector(`.annot-properties-dialog-body>div:nth-child(${n+1})`).id}),e.classList.contains("active")&&D(e,{"aria-selected":!0,tabindex:0})}));var i,r,o,a;Yi(I,t.querySelector(".tabBody").children).forEach(((e,t)=>{D(e,{"aria-labelledby":this.dialog.element.querySelector(`.tabPanel>div:nth-child(${t+1})`).id})})),i=this,o="keydown",a=e=>{Xi(e).when(Zi,(()=>{ir(t,-1),e.preventDefault(),e.stopPropagation()})).when(er,(()=>{ir(t,1),e.preventDefault(),e.stopPropagation()})).when(tr,(()=>{ir(t,0),e.preventDefault(),e.stopPropagation()})).when(nr,(()=>{ir(t),e.preventDefault(),e.stopPropagation()}))},(r=t).addEventListener(o,a),i.destroyHooks.push((e=>r.removeEventListener(o,a))),((e,t,n,i)=>{t.on(n,i),e.destroyHooks.push((e=>t.off(n,i)))})(this,this.dialog,v.SHOWN,(e=>{setTimeout((()=>{Yi(I,this.dialog.element.querySelector(".tabPanel").children).forEach((e=>{const t=e.classList.contains("active");D(e,{tabindex:t?0:-1,"aria-selected":t})}))}))}));Yi(I,t.querySelectorAll("[role=button]")).forEach((e=>{e.addEventListener("keydown",(t=>{Xi(t).when(Qi,(()=>{e.classList.contains("disabled")||e.addEventListener("keyup",rr)}))}))}))},toggle(e){e();const{disabled:t}=this.annotProperties;if([".color-picker"].forEach((e=>{Yi(I,this.dialog.element.querySelectorAll(e)).forEach((e=>{D(e,{tabindex:t?-1:0}),t?D(e,{disabled:!0}):q(e,"disabled")}))})),!0===t){Yi(I,this.dialog.element.querySelectorAll(".fv__ui-dialog-ok-button")).forEach((e=>{D(e,{tabindex:"-1"})}));Yi(I,this.dialog.element.querySelectorAll('.fv__action_list > [tabindex="0"]')).forEach((e=>{D(e,{tabindex:"-1"})}))}else{Yi(I,this.dialog.element.querySelectorAll(".fv__ui-dialog-ok-button:not(.disabled)")).forEach((e=>{D(e,{tabindex:"0"})}));const e=this.dialog.element.querySelectorAll('[role="treeitem"]')[0];e&&D(e,{tabindex:"0"})}}})},async function(e,t){const n=await t.getMountedComponentByName("file-property-popup");function i(e){const t=(e=e.originalEvent||e).target.parentElement,i=t.querySelector(".active");let r;ar(e).switchers(!1).when(cr,(()=>{r=i.previousSibling?i.previousSibling:t.lastElementChild})).when(lr,(()=>{r=i.nextSibling?i.nextSibling:t.firstElementChild})).when(ur,(()=>{r=t.firstElementChild})).when(dr,(()=>{r=t.lastElementChild})),r&&(!function(e){n.$nav.find("a").each(((t,n)=>{const i=n.id==e.id;D(n,{tabindex:i?0:-1,"aria-selected":i})}))}(r),r.focus(),r.click()),e.stopPropagation()}function r(e){e=e.originalEvent||e,ar(e).switchers(!1).when(fr,(()=>{const t=document.createEvent("MouseEvents"),{x:n,y:i}=e.target.getBoundingClientRect();t.initMouseEvent("click",!0,!0,window,0,0,0,n,i,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}))}function o(){n.updateNavData();let t=[e.i18n.t("file-property:description.desc")];const i=n.navData[t[0]];if(!i)return;const o=i.customDialog,a=o.$add,s=o.$delete,l=o.$name,c=o.$value,u=o.$table,d=o.$dialog,f=or(".fv__ui-layer-header",o[0]);function h(e){const t=e.find("tbody tr");Array.from(t).forEach(((e,n)=>{const i=e.classList.contains("active");D(e,{"aria-posinset":n,tabindex:"0",role:"listitem","aria-selected":i}),e.addEventListener("click",(e=>{const n=t.find(".active")[0];n&&L(n,"aria-selected","false"),L(e.target,"aria-selected","true"),L(s[0],"tabindex",0)})),e.addEventListener("keydown",r)}))}D(u[0],{role:"group","aria-labelledby":f.attr("id")}),d.find("input").on("input",(e=>{e.preventDefault(),e.stopPropagation();const t=l.val().trim(),n=c.val().trim();t.length>0&&n.length>0?a.attr({disabled:!1,tabindex:0}):a.attr({disabled:!0,tabindex:-1})})),d.find("input").on("change",(e=>{e.preventDefault(),e.stopPropagation();const t=l.val().trim(),n=c.val().trim();t.length>0&&n.length>0&&a.focus()})),Array.from([a,s]).forEach((e=>{D(e[0],{role:"button",tabindex:-1,"aria-label":e.text()}),e.on("keydown",r),e.on("click",(e=>{0===Array.from([a,s]).map((e=>(L(e[0],"tabindex",-1),e))).filter((e=>!e.attr("disabled"))).length&&l.focus(),h(u)}))})),Array.from([l,c]).forEach((e=>{e.on("keyup",(e=>{L(a[0],"tabindex",a.attr("disabled")?-1:0)}))})),l.on("keyup",(e=>{L(a[0],"aria-label",a.text())})),h(u)}n&&(n.once(v.SHOWN,(()=>{D(n.$cancel[0],{role:"button",tabindex:0,"aria-label":n.$cancel.text()}),L(n.$nav[0],"role","tabList"),n.$nav.find("a").each(((e,t)=>{D(t,{role:"tab",tabindex:-1,"aria-selected":t.classList.contains("active"),id:M("nav-item")})})),n.$nav.on("keydown",i),n.$cancel.on("keydown",r),document.addEventListener("keydown",(e=>{e=e.originalEvent||e,u(e).some((e=>e===n.element))&&ar(e).when(sr.Escape,(()=>{e.stopPropagation(),u(e).some((e=>e===document.activeElement))&&n.$cancel.click()}))}))})),N(n.constructor,{activeNavItem:e=>{e(),n.$nav.find("a").each(((e,t)=>{const n=t.classList.contains("active");D(t,{tabindex:n?0:-1,"aria-selected":n})}))},showTab:t=>{t(),function(){let t=[e.i18n.t("file-property:description.desc")];const i=n.navData[t[0]];if(!i)return;const a=i.tab.element.querySelector(".file-property-custom");D(a,{role:"button",tabindex:0,"aria-label":a.innerText}),a.addEventListener("keydown",r),a.addEventListener("click",o)}()}}))},function(){N(n.internals.AnnotCreateDialog,{_bindEvent(e){if(e(),this.$colorBtn){const{$colorBtn:e,$colorPickerDialog:t}=this;e.attr({tabindex:0,role:"button"}),e.on("keydown",(e=>{Sr(e.originalEvent).when(Dr,(()=>{e.target.click(),e.stopPropagation()}))})),e.on("click",(()=>{setTimeout((()=>{t.find("li[aria-selected=true]").focus()}))})),t.attr("tabindex",-1)}}})},function(e,t){N(n.internals.AppearanceTab,{updateUI(e){e();const t=this.getElementByNames("codeSets,addSelectedEntry,codeEntries,editCodes,fillColor,fontColor");t.each((e=>{const n=t.eq(e);n.prop("tabindex",n.prop("disabled")||n.hasClass("disabled")?"-1":"0")}))},bindEvent(e){e();this.$element.find("[role=button]:not([tabindex=-1])").on("keydown",(e=>{$r(e.originalEvent).when(Nr,(()=>{e.target.addEventListener("keyup",Fr)}))}));this.$element.find("[name=codeSets],[name=codeEntries]").on("keydown",(function(e){$r(e.originalEvent).when(Tr,(()=>{const t=Hr(e,-1);L(this,"aria-activedescendant",t.getAttribute("id")),t.click(),e.preventDefault(),e.stopPropagation()})).when(Pr,(()=>{const t=Hr(e,1);L(this,"aria-activedescendant",t.getAttribute("id")),t.click(),e.preventDefault(),e.stopPropagation()})).when(Ir,(()=>{const t=0;L(this,"aria-activedescendant",t.getAttribute("id")),t.click(),e.preventDefault(),e.stopPropagation()})).when(Or,(()=>{const t=Hr(e);L(this,"aria-activedescendant",t.getAttribute("id")),t.click(),e.preventDefault(),e.stopPropagation()}))}))},init(e){e();const t=this.$element.find("[name=codeSets],[name=codeEntries]");t.find("li").attr("role","option").attr("id",(function(){return L(this,"id",M("fv__code"))})),t.attr("role","listbox").attr("aria-labelledby",(function(){return this.previousSibling.getAttribute("id")})).attr("aria-activedescendant",(function(){return this.children[0]&&this.children[0].getAttribute("id")}))}})},function(e,t){const i=n.internals.SignaturePropertiesDialog,r=n.internals.SignatureAPDialog,o=e=>{Mr(e).when(Br,(()=>{const t=u(e).filter((e=>e.getAttribute&&"button"===e.getAttribute("role")));t.length>0&&t[0].addEventListener("keyup",a)}))},a=e=>{e.target.click(),e.target.removeEventListener("keyup",a)};N(i,{bindEvent(e){e(),this.dialog.element.addEventListener("keydown",o),this.addDestroyHook((()=>{this.dialog.element.removeEventListener("keydown",o)}))}}),N(r,{bindEvent(e){e(),this.dialog.element.addEventListener("keydown",o)}})},function(e,t){const i=n.modular.module("search").getComponentClass("search-input");i&&N(i,{mounted(e){e(),D(this.inputComponent.element,{"aria-label":this.localizer.translateSync("search:searchbar.input.placeholder")})}})},function(e,t){const i=n.modular.module("search").getComponentClass("search-option-panel"),r=n.modular.module("search").getComponentClass("search-result-panel"),o=n.modular.module("search").getComponentClass("checkbox");i&&N(i,{mounted(e){e();const t=this.element.querySelector(".fv__ui-search-text"),n=t.getAttribute("placeholder");D(t,{"aria-label":n});const i=this.element.querySelector(".fv__ui-search-country-select");D(i,{"aria-labelledby":i.previousElementSibling.id});const r=this.element.querySelectorAll(".fv__ui-more-less");Ur(I,r).forEach((e=>{D(e,{role:"button",tabindex:"0"}),this.attachEventToElement(e,"click",(e=>{setTimeout((()=>{Ur(I,r).filter((e=>{const{width:t,height:n}=e.getBoundingClientRect();return t&&n}))[0].focus()}))})),this.attachEventToElement(e,"keydown",(e=>{zr(e,Kr(Wr,Yr))&&e.target.click()}))}));const o=([e])=>{if(!e.target.classList.contains("fv__ui-directive-show-hidden")){const e=this.element.querySelector(".fv__ui-search_button");e&&e.focus()}};if(window.MutationObserver){const e=new MutationObserver(o);e.observe(this.element,{attributeFilter:["class"],attributes:!0}),this.addDestroyHook((()=>{e.disconnect()}))}}}),r&&(N(r,{mounted(e){e();const t=(e,t)=>{const i=Ur(I,e.querySelectorAll(".fv__ui-search-result-title,.fv__ui-search-result-item")).filter((e=>"none"!==e.style.display)),r=e.getAttribute("aria-activedescendant"),o=e.querySelector(`[id=${r}]`),a=i.indexOf(o);let s=a;s="number"==typeof t?-1===t||1===t?(s+t+i.length)%i.length:(t+i.length)%i.length:i.length-1;const l=i[s];D(e,{"aria-activedescendant":l.id}),this.updateActiveResult(s-1,a-1),n(e,l)},n=(e,t)=>{const{scrollTop:n}=e,{bottom:i}=t.getBoundingClientRect(),{top:r,height:o}=e.getBoundingClientRect();let a=n+i+20-r-o;a<0&&(a=0),e.scrollTo(0,a)},i=this.element.querySelector(".fv__ui-search-results"),r=this.element.querySelector(".fv__ui-search-result-title"),o=this.element.querySelector(".fv__ui-search-result-panel-text");D(i,{role:"listbox",tabindex:"0","aria-activedescendant":r.id,"aria-labelledby":o.id}),D(r,{role:"option"}),this.attachEventToElement(this.element,"keyup",(e=>{e.target.classList.contains("fv__ui-search-results")&&zr(e,Kr(Xr,Jr,Qr,Zr,Yr,Wr))&&(e.stopPropagation(),e.preventDefault())})),this.attachEventToElement(this.element,"keydown",(e=>{e.target.classList.contains("fv__ui-search-results")&&Vr(e).when(Jr,(()=>{t(e.target,-1),e.stopPropagation(),e.preventDefault()})).when(Xr,(()=>{t(e.target,1),e.stopPropagation(),e.preventDefault()})).when(Qr,(()=>{t(e.target,0),e.stopPropagation(),e.preventDefault()})).when(Zr,(()=>{t(e.target),e.stopPropagation(),e.preventDefault()})).when(Wr,(()=>{const t=e.target.getAttribute("aria-activedescendant"),n=e.target.querySelector(`[id=${t}]`);if(n){const t=n.querySelector(".fv__ui-checkbox-hide-text,.fv__ui-search-result-item-check");if(t){if(t.classList.contains("fv__icon-search-checked"))D(n,{"aria-checked":!1});else if(t.classList.contains("fv__ui-search-result-item-check")&&!t.classList.contains("fv__icon-search-checked"))D(n,{"aria-checked":!0});else{const e=t.querySelector("input[type=checkbox]");e&&e.checked?D(n,{"aria-checked":!1}):e&&!e.checked&&D(n,{"aria-checked":!0})}t.click(),e.target.focus()}}e.stopPropagation(),e.preventDefault()})).when(Yr,(()=>{const t=e.target.getAttribute("aria-activedescendant"),n=e.target.querySelector(`[id=${t}]`);if(n){const e=n.querySelector(".fv__ui-search-result-item-content");e?e.click():n.click()}e.stopPropagation(),e.preventDefault()}))}));const a=([e])=>{if(!e.target.classList.contains("fv__ui-directive-show-hidden")){const e=this.element.querySelector(".fv__ui-search-results");e&&e.focus()}};if(window.MutationObserver){const e=new MutationObserver(a);e.observe(this.element,{attributeFilter:["class"],attributes:!0}),this.addDestroyHook((()=>{e.disconnect()}))}},setSelectedResult(e){e();const t=this.element.querySelector(".fv__ui-search-results"),n=this.element.querySelector(".fv__ui-search-result-title"),i=this.element.querySelector(".fv__ui-search-result-panel-text"),r=this.element.querySelectorAll(".fv__search-more");if(t&&n&&i){t.getAttribute("aria-activedescendant")||D(t,{"aria-activedescendant":n.id}),D(t,{role:"listbox",tabindex:"0","aria-labelledby":i.id}),D(n,{role:"option"});const e=n.querySelector("input[type=checkbox]");n.getAttribute("aria-checked")||(e&&!e.checked?D(n,{"aria-checked":!1}):e&&e.checked&&D(n,{"aria-checked":!0})),Ur(I,t.querySelectorAll(".fv__ui-search-result-item")).forEach((e=>{D(e,{"aria-checked":!!e.querySelector(".fv__icon-search-checked")})}))}Ur(I,r).forEach((e=>{D(e,{tabindex:"0",role:"button"}),this.attachEventToElement(e,"keydown",(t=>{zr(t,Kr(Wr,Yr))&&(e.click(),this.element.querySelector(".fv__ui-search-results").focus())}))}))},handleClickResult(e){e(),this.pdfUI.eventEmitter.once("completed-render-visible-pages",(()=>{const e=document.querySelector(".fv__ui-ask-dialog");if(e)return void e.focus();const t=this.element.querySelector("#search-result-panel-box");t&&t.focus()}))},getLookingForText(e){e();D(this.element.querySelector(".fv__ui-checkbox-hide-text .fv__ui-checkbox-input"),{tabindex:"-1"});const t=this.element.querySelectorAll(".fv__ui-search-result-item");0!==t.length&&Ur(I,t).forEach((e=>{D(e,{role:"option"})}))}}),o&&N(o,{updateUI(e){if(e(),!this.element)return;this.invalid?D(this.element,{"aria-disabled":!0}):q(this.element,"aria-disabled"),D(this.element,{"aria-checked":this.checked});const t=this.element.closest(".fv__ui-search-result-item");t||D(t,{"aria-checked":this.checked})}}))},function(e,t){const i=n.modular.module("thumbnail").getComponentClass("thumbnail-panel");i&&N(i,{initThumbnailRect(e){e();const t=this.$thumbImageContainerBox.find(".fv__thumb-page");t.attr({role:"option"}).attr("aria-labelledby",(e=>{const n=M("fv__thumbnail_page_index"),i=t[e].querySelector(".fv__thumb-page-index");return D(i,{id:n,"aria-hidden":!0,"aria-label":i.textContent}),n})).attr("id",(e=>M("fv__thumbnail_page"))),this.$thumbImageContainer.attr({tabindex:"0",role:"listbox","aria-labelledby":this.$thumbImageContainer.closest(".fv__ui-sidebar-panel-body").attr("aria-labelledby"),"aria-activedescendant":this.$thumbImageContainer.find(".fv__thumb-page").eq(0).attr("id")})},updatePageLabel(e,[t]){e();const n=this.$thumbImageContainerBox.find(".fv__thumb-page").eq(t);n.attr("aria-labelledby")||n.attr({role:"option"}).attr("aria-labelledby",(e=>{const t=M("fv__thumbnail_page"),i=n.find(".fv__thumb-page-index");return D(i[0],{id:t,"aria-hidden":!0,"aria-label":i[0].textContent}),t}))},mounted(e){e(),this.attachEventToElement(this.$thumbImageContainerBox[0],"click",(e=>{const t=this.$thumbImageContainer.find(".fv__active");this.$thumbImageContainer.attr("aria-activedescendant",t.attr("id"))}));const t=e=>{const t=+e.target.querySelector(".fv__active").getAttribute("data-page-index"),n=this.previePageIndex;this.doPageAction(n,t),this.previePageIndex=t,this.getPDFUI().goToPage(t,0,0,!1),!this.resizing&&!this.moving&&this.calcThumbnailRect(!0,t)};this.attachEventToElement(this.$thumbImageContainerBox[0],"keyup",(e=>{eo(e).when(ro,(()=>{const t=uo(this,0);this.$thumbImageContainer.attr("aria-activedescendant",t.attr("id")),e.preventDefault(),e.stopPropagation()})).when(oo,(()=>{const t=uo(this);this.$thumbImageContainer.attr("aria-activedescendant",t.attr("id")),e.preventDefault(),e.stopPropagation()})).when(ao,(()=>{const t=uo(this,-1);this.$thumbImageContainer.attr("aria-activedescendant",t.attr("id")),e.preventDefault(),e.stopPropagation()})).when(so,(()=>{const t=uo(this,1);this.$thumbImageContainer.attr("aria-activedescendant",t.attr("id")),e.preventDefault(),e.stopPropagation()})).when(co,(()=>{t(e)})).when(lo,(()=>{t(e)}))}))}})},function(e,t){const i=n.internals.NoteTypeTab;i&&N(i,{bindEvent(e){e();const t=this.$dom.find(".fv__noteType-body");t.attr({role:"listbox","aria-labelle":"Note Type Icon",tabindex:"0"});const n=t.find(".icon-btn");n.attr({role:"option"});const i=e=>{let i=n.index(n.filter(".active")[0]);i="number"==typeof e?1===e||-1===e?(i+e+n.length)%n.length:e:n.length-1,n.eq(i).click(),n.removeAttr("aria-selected");const r=t.scrollTop(),{top:o}=t.offset(),{top:a}=n.eq(i).offset();t.scrollTop(a-o+r)};t.on("keydown",(e=>{jo(e.originalEvent,Wo(zo,Vo,Go,Ko))&&(e.preventDefault(),e.stopPropagation())})),t.on("keyup",(e=>{Bo(e.originalEvent).when(Ko,(()=>{i(1),e.preventDefault(),e.stopPropagation()})).when(Go,(()=>{i(-1),e.preventDefault(),e.stopPropagation()})).when(zo,(()=>{i(0),e.preventDefault(),e.stopPropagation()})).when(Vo,(()=>{i(),e.preventDefault(),e.stopPropagation()}))}))},toggle(e,[t]){e();this.$dom.find(".fv__noteType-body").attr({"aria-disabled":t,tabindex:t?"0":"-1"})},combine(e){e();const t=this.$dom.find(".fv__noteType-body");t.attr("aria-activedescendant",(()=>t.find(".icon-btn.active").attr("id")));const n=t.find(".icon-btn");n.attr("aria-selected",(e=>{if(n.eq(e).hasClass("active"))return!0}))}})}];let ca=function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i.getName=function(){return"aria"},i.getLoader=function(){return a()},i.initOnLoad=function(){const e=n.modular.module("aria",[]).getRegistry();e.registerDirective(Ft),e.registerDirective(jt),e.registerDirective(Mt),e.registerDirective(Ht),e.registerDirective(Rt),e.registerDirective(T),e.registerDirective(s),e.registerDirective(Bt),e.registerDirective(Vt),e.registerDirective(hi),e.registerDirective(zi),sa.forEach((e=>{e.call()}))},i.prototype.init=function(e){const t=e.renderTo;e.waitForInitialization().then((()=>{t.setAttribute("role","main")})),e.getRootComponent().then((t=>{la.forEach((n=>{n.call(this,e,t)}))}))},i}(n.UIXAddon)}(),r=r.default}()}));