!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("PDFViewCtrl"),require("UIExtension")):"function"==typeof define&&define.amd?define(["PDFViewCtrl","UIExtension"],e):"object"==typeof exports?exports.UIExtension_EditGraphicsAddon=e(require("PDFViewCtrl"),require("UIExtension")):t.UIExtension_EditGraphicsAddon=e(t.PDFViewCtrl,t.UIExtension)}(self,(function(t,e){return function(){var n={105:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<layer class="fv__ui-annot-properties-dialog fv__ui-graphics-object-properties-dialog" @var.dialog="$component" @isolate>\n<layer-header\n@sync.title="dialog.title"\n@draggable="{type: \'parent\'}">\n</layer-header>\n<layer-view class="body">\n<div class="tabPanel" name="tabPanel">\n<gtab\ngroup="graphics-properties-dialog-tab"\nbody="graphics-properties-dialog-appearance-tab-body"\ntext="sidebar.layers.importDialog.appearance"\nactive\nname="appearance-tab"\n></gtab>\n</div>\n<div\nname="graphics-properties-dialog-appearance-tab-body"\nclass="tabBody annot-properties-dialog-body"\n@init="dialog.appearanceTabBody=$component"\n>\n<div class="input-component borderWidth" @init="dialog.borderWidthFieldset = $component">\n<span>dialog.actionDialog.appearance.thickness</span>\n<number\nmin="0" max="12" step="1" \n@aria:labelledby="::previousSiblings()"\n@model="dialog.properties.borderWidth"\n@init="dialog.borderWidthElement = $component"\n name="borderWidth"\n></number>\n</div>\n<div class="input-component borderStyle" @init="dialog.borderStyleFieldset = $component">\n<span>annotPropertiesDialog.borderStyle</span>\n<choice\nclass="fv__property-component"\nname="graphics-property-borderStyle"\n@aria:labelledby="::previousSiblings()"\n@on.change="dialog.borderStyleChanged($component.getValue())"\n@init="dialog.borderStyleChoice = $component"\n name="borderStyle"\n></choice>\n</div>\n<div class="input-component fillColor" @init="dialog.fillColorFieldset = $component">\n<span>dialog.formPropertiesDialog.appearance.fillColor</span>\n<button class="color-picker" @aria:labelledby="::previousSiblings()" @on.native.click="dialog.showColorPicker(\'fillColor\',$component, $event)" name="fillColor-picker">\n<div class="fv__ui-color-picker-previewer">\n<div class="label">?</div>\n<div class="mask" @init="dialog.fillColorMaskElement = $component.element"></div>\n</div>\n</button>\n</div>\n<div class="input-component color" @init="dialog.borderColorFieldset = $component">\n<span>dialog.actionDialog.appearance.color</span>\n<button class="color-picker" @aria:labelledby="::previousSiblings()" @on.native.click="dialog.showColorPicker(\'borderColor\',$component, $event)" name="borderColor-picker">\n<div class="fv__ui-color-picker-previewer">\n<div class="label">?</div>\n<div class="mask" @init="dialog.borderColorMaskElement = $component.element"></div>\n</div>\n</button>\n</div>\n<div class="input-component opacity" @init="dialog.opacityInputFieldset = $component">\n<span>sidebar.layers.importDialog.opacity</span>\n<number\nmin="0" max="100" step="1"\n@aria:labelledby="::previousSiblings()"\n@model="dialog.properties.opacity"\n@init="dialog.opacityInput = $component"\nname="opacity"\n></number>\n<label>%</label>\n</div>\n<slider\nclass="fv__property-component opacity-slider"\nunit=\'%\'\nmax="100"\nmin="0"\nstep="1"\n@model="dialog.properties.opacity"\nname="annot-property-opacitySlider"\n@stop-drag\nhideinput="true"\n@aria:labelledby="::previousSiblings()::childAt(0)"\n@init="dialog.opacitySlider = $component"\n></slider>\n</div>\n</layer-view>\n<div class="footer">\n<div class="fv__left-buttons">\n<checkbox \n@cannotBeDisabled\ntext="sidebar.layers.properties.locked"\n@on.change="dialog.toggleLock($component.getValue())"\nvisible="false"\nname="fv__ui-property-locked"\n></checkbox>\n</div>\n<xbutton\ntext="dialog.close"\nclass="fv__ui-dialog-button fv__ui-dialog-ok-button fv__ui-annot-property-close"\n@on.click="dialog.hide()"\n@cannotBeDisabled\nname="fv__ui-property-close"\n></xbutton>\n</div>\n</layer>\n','<layer class="fv__ui-annot-properties-dialog fv__ui-graphics-object-properties-dialog" @var.dialog="$component" @isolate>\n<layer-header\n@sync.title="dialog.title"\n@draggable="{type: \'parent\'}">\n</layer-header>\n<layer-view class="body">\n<div class="tabPanel" name="tabPanel">\n<gtab\ngroup="graphics-properties-dialog-tab"\nbody="graphics-properties-dialog-appearance-tab-body"\ntext="sidebar.layers.importDialog.appearance"\nactive\nname="appearance-tab"\n></gtab>\n</div>\n<div\nname="graphics-properties-dialog-appearance-tab-body"\nclass="tabBody annot-properties-dialog-body"\n@init="dialog.appearanceTabBody=$component"\n>\n<div class="input-component borderWidth" @init="dialog.borderWidthFieldset = $component">\n<span>dialog.actionDialog.appearance.thickness</span>\n<number\nmin="0" max="12" step="1" \n@aria:labelledby="::previousSiblings()"\n@model="dialog.properties.borderWidth"\n@init="dialog.borderWidthElement = $component"\n name="borderWidth"\n></number>\n</div>\n<div class="input-component borderStyle" @init="dialog.borderStyleFieldset = $component">\n<span>annotPropertiesDialog.borderStyle</span>\n<choice\nclass="fv__property-component"\nname="graphics-property-borderStyle"\n@aria:labelledby="::previousSiblings()"\n@on.change="dialog.borderStyleChanged($component.getValue())"\n@init="dialog.borderStyleChoice = $component"\n name="borderStyle"\n></choice>\n</div>\n<div class="input-component fillColor" @init="dialog.fillColorFieldset = $component">\n<span>dialog.formPropertiesDialog.appearance.fillColor</span>\n<button class="color-picker" @aria:labelledby="::previousSiblings()" @on.native.click="dialog.showColorPicker(\'fillColor\',$component, $event)" name="fillColor-picker">\n<div class="fv__ui-color-picker-previewer">\n<div class="label">?</div>\n<div class="mask" @init="dialog.fillColorMaskElement = $component.element"></div>\n</div>\n</button>\n</div>\n<div class="input-component color" @init="dialog.borderColorFieldset = $component">\n<span>dialog.actionDialog.appearance.color</span>\n<button class="color-picker" @aria:labelledby="::previousSiblings()" @on.native.click="dialog.showColorPicker(\'borderColor\',$component, $event)" name="borderColor-picker">\n<div class="fv__ui-color-picker-previewer">\n<div class="label">?</div>\n<div class="mask" @init="dialog.borderColorMaskElement = $component.element"></div>\n</div>\n</button>\n</div>\n<div class="input-component opacity" @init="dialog.opacityInputFieldset = $component">\n<span>sidebar.layers.importDialog.opacity</span>\n<number\nmin="0" max="100" step="1"\n@aria:labelledby="::previousSiblings()"\n@model="dialog.properties.opacity"\n@init="dialog.opacityInput = $component"\nname="opacity"\n></number>\n<label>%</label>\n</div>\n<slider\nclass="fv__property-component opacity-slider"\nunit=\'%\'\nmax="100"\nmin="0"\nstep="1"\n@model="dialog.properties.opacity"\nname="annot-property-opacitySlider"\n@stop-drag\nhideinput="true"\n@aria:labelledby="::previousSiblings()::childAt(0)"\n@init="dialog.opacitySlider = $component"\n></slider>\n</div>\n</layer-view>\n<div class="footer">\n<div class="fv__left-buttons">\n<checkbox \n@cannotBeDisabled\ntext="sidebar.layers.properties.locked"\n@on.change="dialog.toggleLock($component.getValue())"\nvisible="false"\nname="fv__ui-property-locked"\n></checkbox>\n</div>\n<xbutton\ntext="dialog.close"\nclass="fv__ui-dialog-button fv__ui-dialog-ok-button fv__ui-annot-property-close"\n@on.click="dialog.hide()"\n@cannotBeDisabled\nname="fv__ui-property-close"\n></xbutton>\n</div>\n</layer>\n'}},5485:function(t){t.exports=null},5585:function(t,e,n){"use strict";
/*! art-template@runtime | https://github.com/aui/art-template */var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},i=Object.create(r),o=/["&'<>]/;function s(t){return"string"!=typeof t&&(t=null==t?"":"function"==typeof t?s(t.call(t)):JSON.stringify(t)),t}i.$escape=function(t){return function(t){var e=""+t,n=o.exec(e);if(!n)return t;var r="",i=void 0,s=void 0,a=void 0;for(i=n.index,s=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&#34;";break;case 38:a="&#38;";break;case 39:a="&#39;";break;case 60:a="&#60;";break;case 62:a="&#62;";break;default:continue}s!==i&&(r+=e.substring(s,i)),s=i+1,r+=a}return s!==i?r+e.substring(s,i):r}(s(t))},i.$each=function(t,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++)e(t[n],n);else for(var i in t)e(t[i],i)},t.exports=i},5779:function(t,e,n){"use strict";t.exports=n(5585)},5778:function(e){"use strict";e.exports=t},4616:function(t){"use strict";t.exports=e},509:function(t,e,n){"use strict";var r=n(9985),i=n(3691),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a function")}},2655:function(t,e,n){"use strict";var r=n(9429),i=n(3691),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a constructor")}},3550:function(t,e,n){"use strict";var r=n(9985),i=String,o=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw new o("Can't set "+i(t)+" as a prototype")}},7370:function(t,e,n){"use strict";var r=n(4201),i=n(5391),o=n(2560).f,s=r("unscopables"),a=Array.prototype;void 0===a[s]&&o(a,s,{configurable:!0,value:i(null)}),t.exports=function(t){a[s][t]=!0}},1514:function(t,e,n){"use strict";var r=n(730).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},767:function(t,e,n){"use strict";var r=n(3622),i=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw new i("Incorrect invocation")}},5027:function(t,e,n){"use strict";var r=n(8999),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not an object")}},7075:function(t){"use strict";t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},4872:function(t,e,n){"use strict";var r,i,o,s=n(7075),a=n(7697),c=n(9037),u=n(9985),l=n(8999),h=n(6812),p=n(926),f=n(3691),d=n(5773),g=n(1880),v=n(2148),m=n(3622),y=n(1868),E=n(9385),b=n(4201),_=n(4630),A=n(618),C=A.enforce,T=A.get,x=c.Int8Array,S=x&&x.prototype,w=c.Uint8ClampedArray,R=w&&w.prototype,P=x&&y(x),O=S&&y(S),D=Object.prototype,L=c.TypeError,j=b("toStringTag"),I=_("TYPED_ARRAY_TAG"),H="TypedArrayConstructor",N=s&&!!E&&"Opera"!==p(c.opera),k=!1,U={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},F=function(t){var e=y(t);if(l(e)){var n=T(e);return n&&h(n,H)?n[H]:F(e)}},M=function(t){if(!l(t))return!1;var e=p(t);return h(U,e)||h(B,e)};for(r in U)(o=(i=c[r])&&i.prototype)?C(o)[H]=i:N=!1;for(r in B)(o=(i=c[r])&&i.prototype)&&(C(o)[H]=i);if((!N||!u(P)||P===Function.prototype)&&(P=function(){throw new L("Incorrect invocation")},N))for(r in U)c[r]&&E(c[r],P);if((!N||!O||O===D)&&(O=P.prototype,N))for(r in U)c[r]&&E(c[r].prototype,O);if(N&&y(R)!==O&&E(R,O),a&&!h(O,j))for(r in k=!0,v(O,j,{configurable:!0,get:function(){return l(this)?this[I]:void 0}}),U)c[r]&&d(c[r],I,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:k&&I,aTypedArray:function(t){if(M(t))return t;throw new L("Target is not a typed array")},aTypedArrayConstructor:function(t){if(u(t)&&(!E||m(P,t)))return t;throw new L(f(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n,r){if(a){if(n)for(var i in U){var o=c[i];if(o&&h(o.prototype,t))try{delete o.prototype[t]}catch(n){try{o.prototype[t]=e}catch(t){}}}O[t]&&!n||g(O,t,n?e:N&&S[t]||e,r)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(a){if(E){if(n)for(r in U)if((i=c[r])&&h(i,t))try{delete i[t]}catch(t){}if(P[t]&&!n)return;try{return g(P,t,n?e:N&&P[t]||e)}catch(t){}}for(r in U)!(i=c[r])||i[t]&&!n||g(i,t,e)}},getTypedArrayConstructor:F,isView:function(t){if(!l(t))return!1;var e=p(t);return"DataView"===e||h(U,e)||h(B,e)},isTypedArray:M,TypedArray:P,TypedArrayPrototype:O}},1055:function(t,e,n){"use strict";var r=n(4071),i=n(2615),o=n(690),s=n(1228),a=n(3292),c=n(9429),u=n(6310),l=n(6522),h=n(5185),p=n(1664),f=Array;t.exports=function(t){var e=o(t),n=c(this),d=arguments.length,g=d>1?arguments[1]:void 0,v=void 0!==g;v&&(g=r(g,d>2?arguments[2]:void 0));var m,y,E,b,_,A,C=p(e),T=0;if(!C||this===f&&a(C))for(m=u(e),y=n?new this(m):f(m);m>T;T++)A=v?g(e[T],T):e[T],l(y,T,A);else for(_=(b=h(e,C)).next,y=n?new this:[];!(E=i(_,b)).done;T++)A=v?s(b,g,[E.value,T],!0):E.value,l(y,T,A);return y.length=T,y}},4328:function(t,e,n){"use strict";var r=n(5290),i=n(7578),o=n(6310),s=function(t){return function(e,n,s){var a,c=r(e),u=o(c),l=i(s,u);if(t&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},6834:function(t,e,n){"use strict";var r=n(3689);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},8820:function(t,e,n){"use strict";var r=n(509),i=n(690),o=n(4413),s=n(6310),a=TypeError,c=function(t){return function(e,n,c,u){r(n);var l=i(e),h=o(l),p=s(l),f=t?p-1:0,d=t?-1:1;if(c<2)for(;;){if(f in h){u=h[f],f+=d;break}if(f+=d,t?f<0:p<=f)throw new a("Reduce of empty array with no initial value")}for(;t?f>=0:p>f;f+=d)f in h&&(u=n(u,h[f],f,l));return u}};t.exports={left:c(!1),right:c(!0)}},9015:function(t,e,n){"use strict";var r=n(7578),i=n(6310),o=n(6522),s=Array,a=Math.max;t.exports=function(t,e,n){for(var c=i(t),u=r(e,c),l=r(void 0===n?c:n,c),h=s(a(l-u,0)),p=0;u<l;u++,p++)o(h,p,t[u]);return h.length=p,h}},6004:function(t,e,n){"use strict";var r=n(8844);t.exports=r([].slice)},382:function(t,e,n){"use strict";var r=n(9015),i=Math.floor,o=function(t,e){var n=t.length,c=i(n/2);return n<8?s(t,e):a(t,o(r(t,0,c),e),o(r(t,c),e),e)},s=function(t,e){for(var n,r,i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},a=function(t,e,n,r){for(var i=e.length,o=n.length,s=0,a=0;s<i||a<o;)t[s+a]=s<i&&a<o?r(e[s],n[a])<=0?e[s++]:n[a++]:s<i?e[s++]:n[a++];return t};t.exports=o},1228:function(t,e,n){"use strict";var r=n(5027),i=n(2125);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){i(t,"throw",e)}}},6431:function(t,e,n){"use strict";var r=n(4201)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){try{if(!e&&!i)return!1}catch(t){return!1}var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},6648:function(t,e,n){"use strict";var r=n(8844),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},926:function(t,e,n){"use strict";var r=n(3043),i=n(9985),o=n(6648),s=n(4201)("toStringTag"),a=Object,c="Arguments"===o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=a(t),s))?n:c?o(e):"Object"===(r=o(e))&&i(e.callee)?"Arguments":r}},8758:function(t,e,n){"use strict";var r=n(6812),i=n(9152),o=n(2474),s=n(2560);t.exports=function(t,e,n){for(var a=i(e),c=s.f,u=o.f,l=0;l<a.length;l++){var h=a[l];r(t,h)||n&&r(n,h)||c(t,h,u(e,h))}}},1748:function(t,e,n){"use strict";var r=n(3689);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},7807:function(t){"use strict";t.exports=function(t,e){return{value:t,done:e}}},5773:function(t,e,n){"use strict";var r=n(7697),i=n(2560),o=n(5684);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},5684:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6522:function(t,e,n){"use strict";var r=n(8360),i=n(2560),o=n(5684);t.exports=function(t,e,n){var s=r(e);s in t?i.f(t,s,o(0,n)):t[s]=n}},2148:function(t,e,n){"use strict";var r=n(8702),i=n(2560);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),i.f(t,e,n)}},1880:function(t,e,n){"use strict";var r=n(9985),i=n(2560),o=n(8702),s=n(5014);t.exports=function(t,e,n,a){a||(a={});var c=a.enumerable,u=void 0!==a.name?a.name:e;if(r(n)&&o(n,u,a),a.global)c?t[e]=n:s(e,n);else{try{a.unsafe?t[e]&&(c=!0):delete t[e]}catch(t){}c?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},6045:function(t,e,n){"use strict";var r=n(1880);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},5014:function(t,e,n){"use strict";var r=n(9037),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},8494:function(t,e,n){"use strict";var r=n(3691),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw new i("Cannot delete property "+r(e)+" of "+r(t))}},7697:function(t,e,n){"use strict";var r=n(3689);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2659:function(t){"use strict";var e="object"==typeof document&&document.all,n=void 0===e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},6420:function(t,e,n){"use strict";var r=n(9037),i=n(8999),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},6338:function(t){"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3265:function(t,e,n){"use strict";var r=n(6420)("span").classList,i=r&&r.constructor&&r.constructor.prototype;t.exports=i===Object.prototype?void 0:i},7365:function(t,e,n){"use strict";var r=n(71).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},2532:function(t,e,n){"use strict";var r=n(8563),i=n(806);t.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},8563:function(t){"use strict";t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},7298:function(t,e,n){"use strict";var r=n(71);t.exports=/MSIE|Trident/.test(r)},3221:function(t,e,n){"use strict";var r=n(71);t.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},4764:function(t,e,n){"use strict";var r=n(71);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},806:function(t,e,n){"use strict";var r=n(9037),i=n(6648);t.exports="process"===i(r.process)},7486:function(t,e,n){"use strict";var r=n(71);t.exports=/web0s(?!.*chrome)/i.test(r)},71:function(t){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:function(t,e,n){"use strict";var r,i,o=n(9037),s=n(71),a=o.process,c=o.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},7922:function(t,e,n){"use strict";var r=n(71).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},2739:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:function(t,e,n){"use strict";var r=n(9037),i=n(2474).f,o=n(5773),s=n(1880),a=n(5014),c=n(8758),u=n(5266);t.exports=function(t,e){var n,l,h,p,f,d=t.target,g=t.global,v=t.stat;if(n=g?r:v?r[d]||a(d,{}):(r[d]||{}).prototype)for(l in e){if(p=e[l],h=t.dontCallGetSet?(f=i(n,l))&&f.value:n[l],!u(g?l:d+(v?".":"#")+l,t.forced)&&void 0!==h){if(typeof p==typeof h)continue;c(p,h)}(t.sham||h&&h.sham)&&o(p,"sham",!0),s(n,l,p,t)}}},3689:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},8678:function(t,e,n){"use strict";n(4043);var r=n(6576),i=n(1880),o=n(6308),s=n(3689),a=n(4201),c=n(5773),u=a("species"),l=RegExp.prototype;t.exports=function(t,e,n,h){var p=a(t),f=!s((function(){var e={};return e[p]=function(){return 7},7!==""[t](e)})),d=f&&!s((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!f||!d||n){var g=r(/./[p]),v=e(p,""[t],(function(t,e,n,i,s){var a=r(t),c=e.exec;return c===o||c===l.exec?f&&!s?{done:!0,value:g(e,n,i)}:{done:!0,value:a(n,e,i)}:{done:!1}}));i(String.prototype,t,v[0]),i(l,p,v[1])}h&&c(l[p],"sham",!0)}},1735:function(t,e,n){"use strict";var r=n(7215),i=Function.prototype,o=i.apply,s=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},4071:function(t,e,n){"use strict";var r=n(6576),i=n(509),o=n(7215),s=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?s(t,e):function(){return t.apply(e,arguments)}}},7215:function(t,e,n){"use strict";var r=n(3689);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},2615:function(t,e,n){"use strict";var r=n(7215),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},1236:function(t,e,n){"use strict";var r=n(7697),i=n(6812),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&"something"===function(){}.name,u=a&&(!r||r&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},2743:function(t,e,n){"use strict";var r=n(8844),i=n(509);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},6576:function(t,e,n){"use strict";var r=n(6648),i=n(8844);t.exports=function(t){if("Function"===r(t))return i(t)}},8844:function(t,e,n){"use strict";var r=n(7215),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);t.exports=r?s:function(t){return function(){return o.apply(t,arguments)}}},6058:function(t,e,n){"use strict";var r=n(9037),i=n(9985);t.exports=function(t,e){return arguments.length<2?(n=r[t],i(n)?n:void 0):r[t]&&r[t][e];var n}},1664:function(t,e,n){"use strict";var r=n(926),i=n(4849),o=n(981),s=n(9478),a=n(4201)("iterator");t.exports=function(t){if(!o(t))return i(t,a)||i(t,"@@iterator")||s[r(t)]}},5185:function(t,e,n){"use strict";var r=n(2615),i=n(509),o=n(5027),s=n(3691),a=n(1664),c=TypeError;t.exports=function(t,e){var n=arguments.length<2?a(t):e;if(i(n))return o(r(n,t));throw new c(s(t)+" is not iterable")}},4849:function(t,e,n){"use strict";var r=n(509),i=n(981);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},7017:function(t,e,n){"use strict";var r=n(8844),i=n(690),o=Math.floor,s=r("".charAt),a=r("".replace),c=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,h,p){var f=n+t.length,d=r.length,g=l;return void 0!==h&&(h=i(h),g=u),a(p,g,(function(i,a){var u;switch(s(a,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,n);case"'":return c(e,f);case"<":u=h[c(a,1,-1)];break;default:var l=+a;if(0===l)return i;if(l>d){var p=o(l/10);return 0===p?i:p<=d?void 0===r[p-1]?s(a,1):r[p-1]+s(a,1):i}u=r[l-1]}return void 0===u?"":u}))}},9037:function(t,e,n){"use strict";var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},6812:function(t,e,n){"use strict";var r=n(8844),i=n(690),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},7248:function(t){"use strict";t.exports={}},920:function(t){"use strict";t.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}},2688:function(t,e,n){"use strict";var r=n(6058);t.exports=r("document","documentElement")},8506:function(t,e,n){"use strict";var r=n(7697),i=n(3689),o=n(6420);t.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},4413:function(t,e,n){"use strict";var r=n(8844),i=n(3689),o=n(6648),s=Object,a=r("".split);t.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?a(t,""):s(t)}:s},6738:function(t,e,n){"use strict";var r=n(8844),i=n(9985),o=n(4091),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},618:function(t,e,n){"use strict";var r,i,o,s=n(9834),a=n(9037),c=n(8999),u=n(5773),l=n(6812),h=n(4091),p=n(2713),f=n(7248),d="Object already initialized",g=a.TypeError,v=a.WeakMap;if(s||h.state){var m=h.state||(h.state=new v);m.get=m.get,m.has=m.has,m.set=m.set,r=function(t,e){if(m.has(t))throw new g(d);return e.facade=t,m.set(t,e),e},i=function(t){return m.get(t)||{}},o=function(t){return m.has(t)}}else{var y=p("state");f[y]=!0,r=function(t,e){if(l(t,y))throw new g(d);return e.facade=t,u(t,y,e),e},i=function(t){return l(t,y)?t[y]:{}},o=function(t){return l(t,y)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw new g("Incompatible receiver, "+t+" required");return n}}}},3292:function(t,e,n){"use strict";var r=n(4201),i=n(9478),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},9985:function(t,e,n){"use strict";var r=n(2659),i=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===i}:function(t){return"function"==typeof t}},9429:function(t,e,n){"use strict";var r=n(8844),i=n(3689),o=n(9985),s=n(926),a=n(6058),c=n(6738),u=function(){},l=[],h=a("Reflect","construct"),p=/^\s*(?:class|function)\b/,f=r(p.exec),d=!p.test(u),g=function(t){if(!o(t))return!1;try{return h(u,l,t),!0}catch(t){return!1}},v=function(t){if(!o(t))return!1;switch(s(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!f(p,c(t))}catch(t){return!0}};v.sham=!0,t.exports=!h||i((function(){var t;return g(g.call)||!g(Object)||!g((function(){t=!0}))||t}))?v:g},5266:function(t,e,n){"use strict";var r=n(3689),i=n(9985),o=/#|\.prototype\./,s=function(t,e){var n=c[a(t)];return n===l||n!==u&&(i(e)?r(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";t.exports=s},981:function(t){"use strict";t.exports=function(t){return null==t}},8999:function(t,e,n){"use strict";var r=n(9985),i=n(2659),o=i.all;t.exports=i.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===o}:function(t){return"object"==typeof t?null!==t:r(t)}},3931:function(t){"use strict";t.exports=!1},734:function(t,e,n){"use strict";var r=n(6058),i=n(9985),o=n(3622),s=n(9525),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,a(t))}},8734:function(t,e,n){"use strict";var r=n(4071),i=n(2615),o=n(5027),s=n(3691),a=n(3292),c=n(6310),u=n(3622),l=n(5185),h=n(1664),p=n(2125),f=TypeError,d=function(t,e){this.stopped=t,this.result=e},g=d.prototype;t.exports=function(t,e,n){var v,m,y,E,b,_,A,C=n&&n.that,T=!(!n||!n.AS_ENTRIES),x=!(!n||!n.IS_RECORD),S=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),R=r(e,C),P=function(t){return v&&p(v,"normal",t),new d(!0,t)},O=function(t){return T?(o(t),w?R(t[0],t[1],P):R(t[0],t[1])):w?R(t,P):R(t)};if(x)v=t.iterator;else if(S)v=t;else{if(!(m=h(t)))throw new f(s(t)+" is not iterable");if(a(m)){for(y=0,E=c(t);E>y;y++)if((b=O(t[y]))&&u(g,b))return b;return new d(!1)}v=l(t,m)}for(_=x?t.next:v.next;!(A=i(_,v)).done;){try{b=O(A.value)}catch(t){p(v,"throw",t)}if("object"==typeof b&&b&&u(g,b))return b}return new d(!1)}},2125:function(t,e,n){"use strict";var r=n(2615),i=n(5027),o=n(4849);t.exports=function(t,e,n){var s,a;i(t);try{if(!(s=o(t,"return"))){if("throw"===e)throw n;return n}s=r(s,t)}catch(t){a=!0,s=t}if("throw"===e)throw n;if(a)throw s;return i(s),n}},974:function(t,e,n){"use strict";var r=n(2013).IteratorPrototype,i=n(5391),o=n(5684),s=n(5997),a=n(9478),c=function(){return this};t.exports=function(t,e,n,u){var l=e+" Iterator";return t.prototype=i(r,{next:o(+!u,n)}),s(t,l,!1,!0),a[l]=c,t}},1934:function(t,e,n){"use strict";var r=n(9989),i=n(2615),o=n(3931),s=n(1236),a=n(9985),c=n(974),u=n(1868),l=n(9385),h=n(5997),p=n(5773),f=n(1880),d=n(4201),g=n(9478),v=n(2013),m=s.PROPER,y=s.CONFIGURABLE,E=v.IteratorPrototype,b=v.BUGGY_SAFARI_ITERATORS,_=d("iterator"),A="keys",C="values",T="entries",x=function(){return this};t.exports=function(t,e,n,s,d,v,S){c(n,e,s);var w,R,P,O=function(t){if(t===d&&H)return H;if(!b&&t&&t in j)return j[t];switch(t){case A:case C:case T:return function(){return new n(this,t)}}return function(){return new n(this)}},D=e+" Iterator",L=!1,j=t.prototype,I=j[_]||j["@@iterator"]||d&&j[d],H=!b&&I||O(d),N="Array"===e&&j.entries||I;if(N&&(w=u(N.call(new t)))!==Object.prototype&&w.next&&(o||u(w)===E||(l?l(w,E):a(w[_])||f(w,_,x)),h(w,D,!0,!0),o&&(g[D]=x)),m&&d===C&&I&&I.name!==C&&(!o&&y?p(j,"name",C):(L=!0,H=function(){return i(I,this)})),d)if(R={values:O(C),keys:v?H:O(A),entries:O(T)},S)for(P in R)(b||L||!(P in j))&&f(j,P,R[P]);else r({target:e,proto:!0,forced:b||L},R);return o&&!S||j[_]===H||f(j,_,H,{name:d}),g[e]=H,R}},2013:function(t,e,n){"use strict";var r,i,o,s=n(3689),a=n(9985),c=n(8999),u=n(5391),l=n(1868),h=n(1880),p=n(4201),f=n(3931),d=p("iterator"),g=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(r=i):g=!0),!c(r)||s((function(){var t={};return r[d].call(t)!==t}))?r={}:f&&(r=u(r)),a(r[d])||h(r,d,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:g}},9478:function(t){"use strict";t.exports={}},6310:function(t,e,n){"use strict";var r=n(3126);t.exports=function(t){return r(t.length)}},8702:function(t,e,n){"use strict";var r=n(8844),i=n(3689),o=n(9985),s=n(6812),a=n(7697),c=n(1236).CONFIGURABLE,u=n(6738),l=n(618),h=l.enforce,p=l.get,f=String,d=Object.defineProperty,g=r("".slice),v=r("".replace),m=r([].join),y=a&&!i((function(){return 8!==d((function(){}),"length",{value:8}).length})),E=String(String).split("String"),b=t.exports=function(t,e,n){"Symbol("===g(f(e),0,7)&&(e="["+v(f(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!s(t,"name")||c&&t.name!==e)&&(a?d(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&s(n,"arity")&&t.length!==n.arity&&d(t,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&d(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=h(t);return s(r,"source")||(r.source=m(E,"string"==typeof e?e:"")),t};Function.prototype.toString=b((function(){return o(this)&&p(this).source||u(this)}),"toString")},8828:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},231:function(t,e,n){"use strict";var r,i,o,s,a,c=n(9037),u=n(4071),l=n(2474).f,h=n(9886).set,p=n(4410),f=n(4764),d=n(3221),g=n(7486),v=n(806),m=c.MutationObserver||c.WebKitMutationObserver,y=c.document,E=c.process,b=c.Promise,_=l(c,"queueMicrotask"),A=_&&_.value;if(!A){var C=new p,T=function(){var t,e;for(v&&(t=E.domain)&&t.exit();e=C.get();)try{e()}catch(t){throw C.head&&r(),t}t&&t.enter()};f||v||g||!m||!y?!d&&b&&b.resolve?((s=b.resolve(void 0)).constructor=b,a=u(s.then,s),r=function(){a(T)}):v?r=function(){E.nextTick(T)}:(h=u(h,c),r=function(){h(T)}):(i=!0,o=y.createTextNode(""),new m(T).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),A=function(t){C.head||r(),C.add(t)}}t.exports=A},8742:function(t,e,n){"use strict";var r=n(509),i=TypeError,o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw new i("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},5394:function(t,e,n){"use strict";var r=n(7697),i=n(8844),o=n(2615),s=n(3689),a=n(300),c=n(7518),u=n(9556),l=n(690),h=n(4413),p=Object.assign,f=Object.defineProperty,d=i([].concat);t.exports=!p||s((function(){if(r&&1!==p({b:1},p(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!==p({},t)[n]||a(p({},e)).join("")!==i}))?function(t,e){for(var n=l(t),i=arguments.length,s=1,p=c.f,f=u.f;i>s;)for(var g,v=h(arguments[s++]),m=p?d(a(v),p(v)):a(v),y=m.length,E=0;y>E;)g=m[E++],r&&!o(f,v,g)||(n[g]=v[g]);return n}:p},5391:function(t,e,n){"use strict";var r,i=n(5027),o=n(8920),s=n(2739),a=n(7248),c=n(2688),u=n(6420),l=n(2713),h="prototype",p="script",f=l("IE_PROTO"),d=function(){},g=function(t){return"<"+p+">"+t+"</"+p+">"},v=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;m="undefined"!=typeof document?document.domain&&r?v(r):(e=u("iframe"),n="java"+p+":",e.style.display="none",c.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(g("document.F=Object")),t.close(),t.F):v(r);for(var i=s.length;i--;)delete m[h][s[i]];return m()};a[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(d[h]=i(t),n=new d,d[h]=null,n[f]=t):n=m(),void 0===e?n:o.f(n,e)}},8920:function(t,e,n){"use strict";var r=n(7697),i=n(5648),o=n(2560),s=n(5027),a=n(5290),c=n(300);e.f=r&&!i?Object.defineProperties:function(t,e){s(t);for(var n,r=a(e),i=c(e),u=i.length,l=0;u>l;)o.f(t,n=i[l++],r[n]);return t}},2560:function(t,e,n){"use strict";var r=n(7697),i=n(8506),o=n(5648),s=n(5027),a=n(8360),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,h="enumerable",p="configurable",f="writable";e.f=r?o?function(t,e,n){if(s(t),e=a(e),s(n),"function"==typeof t&&"prototype"===e&&"value"in n&&f in n&&!n[f]){var r=l(t,e);r&&r[f]&&(t[e]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:h in n?n[h]:r[h],writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(s(t),e=a(e),s(n),i)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},2474:function(t,e,n){"use strict";var r=n(7697),i=n(2615),o=n(9556),s=n(5684),a=n(5290),c=n(8360),u=n(6812),l=n(8506),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=a(t),e=c(e),l)try{return h(t,e)}catch(t){}if(u(t,e))return s(!i(o.f,t,e),t[e])}},2741:function(t,e,n){"use strict";var r=n(4948),i=n(2739).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},7518:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},1868:function(t,e,n){"use strict";var r=n(6812),i=n(9985),o=n(690),s=n(2713),a=n(1748),c=s("IE_PROTO"),u=Object,l=u.prototype;t.exports=a?u.getPrototypeOf:function(t){var e=o(t);if(r(e,c))return e[c];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof u?l:null}},3622:function(t,e,n){"use strict";var r=n(8844);t.exports=r({}.isPrototypeOf)},4948:function(t,e,n){"use strict";var r=n(8844),i=n(6812),o=n(5290),s=n(4328).indexOf,a=n(7248),c=r([].push);t.exports=function(t,e){var n,r=o(t),u=0,l=[];for(n in r)!i(a,n)&&i(r,n)&&c(l,n);for(;e.length>u;)i(r,n=e[u++])&&(~s(l,n)||c(l,n));return l}},300:function(t,e,n){"use strict";var r=n(4948),i=n(2739);t.exports=Object.keys||function(t){return r(t,i)}},9556:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},9385:function(t,e,n){"use strict";var r=n(2743),i=n(5027),o=n(3550);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},5899:function(t,e,n){"use strict";var r=n(2615),i=n(9985),o=n(8999),s=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&i(n=t.toString)&&!o(a=r(n,t)))return a;if(i(n=t.valueOf)&&!o(a=r(n,t)))return a;if("string"!==e&&i(n=t.toString)&&!o(a=r(n,t)))return a;throw new s("Can't convert object to primitive value")}},9152:function(t,e,n){"use strict";var r=n(6058),i=n(8844),o=n(2741),s=n(7518),a=n(5027),c=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=s.f;return n?c(e,n(t)):e}},9302:function(t){"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},7073:function(t,e,n){"use strict";var r=n(9037),i=n(7919),o=n(9985),s=n(5266),a=n(6738),c=n(4201),u=n(2532),l=n(8563),h=n(3931),p=n(3615),f=i&&i.prototype,d=c("species"),g=!1,v=o(r.PromiseRejectionEvent),m=s("Promise",(function(){var t=a(i),e=t!==String(i);if(!e&&66===p)return!0;if(h&&(!f.catch||!f.finally))return!0;if(!p||p<51||!/native code/.test(t)){var n=new i((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[d]=r,!(g=n.then((function(){}))instanceof r))return!0}return!e&&(u||l)&&!v}));t.exports={CONSTRUCTOR:m,REJECTION_EVENT:v,SUBCLASSING:g}},7919:function(t,e,n){"use strict";var r=n(9037);t.exports=r.Promise},2945:function(t,e,n){"use strict";var r=n(5027),i=n(8999),o=n(8742);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},562:function(t,e,n){"use strict";var r=n(7919),i=n(6431),o=n(7073).CONSTRUCTOR;t.exports=o||!i((function(t){r.all(t).then(void 0,(function(){}))}))},4410:function(t){"use strict";var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},6100:function(t,e,n){"use strict";var r=n(2615),i=n(5027),o=n(9985),s=n(6648),a=n(6308),c=TypeError;t.exports=function(t,e){var n=t.exec;if(o(n)){var u=r(n,t,e);return null!==u&&i(u),u}if("RegExp"===s(t))return r(a,t,e);throw new c("RegExp#exec called on incompatible receiver")}},6308:function(t,e,n){"use strict";var r,i,o=n(2615),s=n(8844),a=n(4327),c=n(9633),u=n(7901),l=n(3430),h=n(5391),p=n(618).get,f=n(2100),d=n(6422),g=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,m=v,y=s("".charAt),E=s("".indexOf),b=s("".replace),_=s("".slice),A=(i=/b*/g,o(v,r=/a/,"a"),o(v,i,"a"),0!==r.lastIndex||0!==i.lastIndex),C=u.BROKEN_CARET,T=void 0!==/()??/.exec("")[1];(A||T||C||f||d)&&(m=function(t){var e,n,r,i,s,u,l,f=this,d=p(f),x=a(t),S=d.raw;if(S)return S.lastIndex=f.lastIndex,e=o(m,S,x),f.lastIndex=S.lastIndex,e;var w=d.groups,R=C&&f.sticky,P=o(c,f),O=f.source,D=0,L=x;if(R&&(P=b(P,"y",""),-1===E(P,"g")&&(P+="g"),L=_(x,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==y(x,f.lastIndex-1))&&(O="(?: "+O+")",L=" "+L,D++),n=new RegExp("^(?:"+O+")",P)),T&&(n=new RegExp("^"+O+"$(?!\\s)",P)),A&&(r=f.lastIndex),i=o(v,R?n:f,L),R?i?(i.input=_(i.input,D),i[0]=_(i[0],D),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:A&&i&&(f.lastIndex=f.global?i.index+i[0].length:r),T&&i&&i.length>1&&o(g,i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i&&w)for(i.groups=u=h(null),s=0;s<w.length;s++)u[(l=w[s])[0]]=i[l[1]];return i}),t.exports=m},9633:function(t,e,n){"use strict";var r=n(5027);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},7901:function(t,e,n){"use strict";var r=n(3689),i=n(9037).RegExp,o=r((function(){var t=i("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),s=o||r((function(){return!i("a","y").sticky})),a=o||r((function(){var t=i("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:o}},2100:function(t,e,n){"use strict";var r=n(3689),i=n(9037).RegExp;t.exports=r((function(){var t=i(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},6422:function(t,e,n){"use strict";var r=n(3689),i=n(9037).RegExp;t.exports=r((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4684:function(t,e,n){"use strict";var r=n(981),i=TypeError;t.exports=function(t){if(r(t))throw new i("Can't call method on "+t);return t}},4241:function(t,e,n){"use strict";var r=n(6058),i=n(2148),o=n(4201),s=n(7697),a=o("species");t.exports=function(t){var e=r(t);s&&e&&!e[a]&&i(e,a,{configurable:!0,get:function(){return this}})}},5997:function(t,e,n){"use strict";var r=n(2560).f,i=n(6812),o=n(4201)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!i(t,o)&&r(t,o,{configurable:!0,value:e})}},2713:function(t,e,n){"use strict";var r=n(3430),i=n(4630),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},4091:function(t,e,n){"use strict";var r=n(9037),i=n(5014),o="__core-js_shared__",s=r[o]||i(o,{});t.exports=s},3430:function(t,e,n){"use strict";var r=n(3931),i=n(4091);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.2",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"})},6373:function(t,e,n){"use strict";var r=n(5027),i=n(2655),o=n(981),s=n(4201)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||o(n=r(a)[s])?e:i(n)}},730:function(t,e,n){"use strict";var r=n(8844),i=n(8700),o=n(4327),s=n(4684),a=r("".charAt),c=r("".charCodeAt),u=r("".slice),l=function(t){return function(e,n){var r,l,h=o(s(e)),p=i(n),f=h.length;return p<0||p>=f?t?"":void 0:(r=c(h,p))<55296||r>56319||p+1===f||(l=c(h,p+1))<56320||l>57343?t?a(h,p):r:t?u(h,p,p+2):l-56320+(r-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},6430:function(t,e,n){"use strict";var r=n(8844),i=2147483647,o=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",c=RangeError,u=r(s.exec),l=Math.floor,h=String.fromCharCode,p=r("".charCodeAt),f=r([].join),d=r([].push),g=r("".replace),v=r("".split),m=r("".toLowerCase),y=function(t){return t+22+75*(t<26)},E=function(t,e,n){var r=0;for(t=n?l(t/700):t>>1,t+=l(t/e);t>455;)t=l(t/35),r+=36;return l(r+36*t/(t+38))},b=function(t){var e=[];t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=p(t,n++);if(i>=55296&&i<=56319&&n<r){var o=p(t,n++);56320==(64512&o)?d(e,((1023&i)<<10)+(1023&o)+65536):(d(e,i),n--)}else d(e,i)}return e}(t);var n,r,o=t.length,s=128,u=0,g=72;for(n=0;n<t.length;n++)(r=t[n])<128&&d(e,h(r));var v=e.length,m=v;for(v&&d(e,"-");m<o;){var b=i;for(n=0;n<t.length;n++)(r=t[n])>=s&&r<b&&(b=r);var _=m+1;if(b-s>l((i-u)/_))throw new c(a);for(u+=(b-s)*_,s=b,n=0;n<t.length;n++){if((r=t[n])<s&&++u>i)throw new c(a);if(r===s){for(var A=u,C=36;;){var T=C<=g?1:C>=g+26?26:C-g;if(A<T)break;var x=A-T,S=36-T;d(e,h(y(T+x%S))),A=l(x/S),C+=36}d(e,h(y(A))),g=E(u,_,m===v),u=0,m++}}u++,s++}return f(e,"")};t.exports=function(t){var e,n,r=[],i=v(g(m(t),s,"."),".");for(e=0;e<i.length;e++)n=i[e],d(r,u(o,n)?"xn--"+b(n):n);return f(r,".")}},146:function(t,e,n){"use strict";var r=n(3615),i=n(3689),o=n(9037).String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},9886:function(t,e,n){"use strict";var r,i,o,s,a=n(9037),c=n(1735),u=n(4071),l=n(9985),h=n(6812),p=n(3689),f=n(2688),d=n(6004),g=n(6420),v=n(1500),m=n(4764),y=n(806),E=a.setImmediate,b=a.clearImmediate,_=a.process,A=a.Dispatch,C=a.Function,T=a.MessageChannel,x=a.String,S=0,w={},R="onreadystatechange";p((function(){r=a.location}));var P=function(t){if(h(w,t)){var e=w[t];delete w[t],e()}},O=function(t){return function(){P(t)}},D=function(t){P(t.data)},L=function(t){a.postMessage(x(t),r.protocol+"//"+r.host)};E&&b||(E=function(t){v(arguments.length,1);var e=l(t)?t:C(t),n=d(arguments,1);return w[++S]=function(){c(e,void 0,n)},i(S),S},b=function(t){delete w[t]},y?i=function(t){_.nextTick(O(t))}:A&&A.now?i=function(t){A.now(O(t))}:T&&!m?(s=(o=new T).port2,o.port1.onmessage=D,i=u(s.postMessage,s)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&r&&"file:"!==r.protocol&&!p(L)?(i=L,a.addEventListener("message",D,!1)):i=R in g("script")?function(t){f.appendChild(g("script"))[R]=function(){f.removeChild(this),P(t)}}:function(t){setTimeout(O(t),0)}),t.exports={set:E,clear:b}},7578:function(t,e,n){"use strict";var r=n(8700),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5290:function(t,e,n){"use strict";var r=n(4413),i=n(4684);t.exports=function(t){return r(i(t))}},8700:function(t,e,n){"use strict";var r=n(8828);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},3126:function(t,e,n){"use strict";var r=n(8700),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},690:function(t,e,n){"use strict";var r=n(4684),i=Object;t.exports=function(t){return i(r(t))}},3250:function(t,e,n){"use strict";var r=n(5904),i=RangeError;t.exports=function(t,e){var n=r(t);if(n%e)throw new i("Wrong offset");return n}},5904:function(t,e,n){"use strict";var r=n(8700),i=RangeError;t.exports=function(t){var e=r(t);if(e<0)throw new i("The argument can't be less than 0");return e}},8732:function(t,e,n){"use strict";var r=n(2615),i=n(8999),o=n(734),s=n(4849),a=n(5899),c=n(4201),u=TypeError,l=c("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,c=s(t,l);if(c){if(void 0===e&&(e="default"),n=r(c,t,e),!i(n)||o(n))return n;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},8360:function(t,e,n){"use strict";var r=n(8732),i=n(734);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},3043:function(t,e,n){"use strict";var r={};r[n(4201)("toStringTag")]="z",t.exports="[object z]"===String(r)},4327:function(t,e,n){"use strict";var r=n(926),i=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},3691:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},4630:function(t,e,n){"use strict";var r=n(8844),i=0,o=Math.random(),s=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++i+o,36)}},6837:function(t,e,n){"use strict";var r=n(3689),i=n(4201),o=n(7697),s=n(3931),a=i("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),r="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),r+=n+t})),n.delete("a",2),n.delete("b",void 0),s&&(!t.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!e.size&&(s||!o)||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},9525:function(t,e,n){"use strict";var r=n(146);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:function(t,e,n){"use strict";var r=n(7697),i=n(3689);t.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1500:function(t){"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},9834:function(t,e,n){"use strict";var r=n(9037),i=n(9985),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},4201:function(t,e,n){"use strict";var r=n(9037),i=n(3430),o=n(6812),s=n(4630),a=n(146),c=n(9525),u=r.Symbol,l=i("wks"),h=c?u.for||u:u&&u.withoutSetter||s;t.exports=function(t){return o(l,t)||(l[t]=a&&o(u,t)?u[t]:h("Symbol."+t)),l[t]}},752:function(t,e,n){"use strict";var r=n(5290),i=n(7370),o=n(9478),s=n(618),a=n(2560).f,c=n(1934),u=n(7807),l=n(3931),h=n(7697),p="Array Iterator",f=s.set,d=s.getterFor(p);t.exports=c(Array,"Array",(function(t,e){f(this,{type:p,target:r(t),index:0,kind:e})}),(function(){var t=d(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,u(void 0,!0);switch(t.kind){case"keys":return u(n,!1);case"values":return u(e[n],!1)}return u([n,e[n]],!1)}),"values");var g=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!l&&h&&"values"!==g.name)try{a(g,"name",{value:"values"})}catch(t){}},278:function(t,e,n){"use strict";var r=n(9989),i=n(8820).left,o=n(6834),s=n(3615);r({target:"Array",proto:!0,forced:!n(806)&&s>79&&s<83||!o("reduce")},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},5137:function(t,e,n){"use strict";var r=n(9989),i=n(8844),o=n(509),s=n(690),a=n(6310),c=n(8494),u=n(4327),l=n(3689),h=n(382),p=n(6834),f=n(7365),d=n(7298),g=n(3615),v=n(7922),m=[],y=i(m.sort),E=i(m.push),b=l((function(){m.sort(void 0)})),_=l((function(){m.sort(null)})),A=p("sort"),C=!l((function(){if(g)return g<70;if(!(f&&f>3)){if(d)return!0;if(v)return v<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)m.push({k:e+r,v:n})}for(m.sort((function(t,e){return e.v-t.v})),r=0;r<m.length;r++)e=m[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:b||!_||!A||!C},{sort:function(t){void 0!==t&&o(t);var e=s(this);if(C)return void 0===t?y(e):y(e,t);var n,r,i=[],l=a(e);for(r=0;r<l;r++)r in e&&E(i,e[r]);for(h(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:u(e)>u(n)?1:-1}}(t)),n=a(i),r=0;r<n;)e[r]=i[r++];for(;r<l;)c(e,r++);return e}})},1692:function(t,e,n){"use strict";var r=n(9989),i=n(2615),o=n(509),s=n(8742),a=n(9302),c=n(8734);r({target:"Promise",stat:!0,forced:n(562)},{all:function(t){var e=this,n=s.f(e),r=n.resolve,u=n.reject,l=a((function(){var n=o(e.resolve),s=[],a=0,l=1;c(t,(function(t){var o=a++,c=!1;l++,i(n,e,t).then((function(t){c||(c=!0,s[o]=t,--l||r(s))}),u)})),--l||r(s)}));return l.error&&u(l.value),n.promise}})},5089:function(t,e,n){"use strict";var r=n(9989),i=n(3931),o=n(7073).CONSTRUCTOR,s=n(7919),a=n(6058),c=n(9985),u=n(1880),l=s&&s.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&c(s)){var h=a("Promise").prototype.catch;l.catch!==h&&u(l,"catch",h,{unsafe:!0})}},6697:function(t,e,n){"use strict";var r,i,o,s=n(9989),a=n(3931),c=n(806),u=n(9037),l=n(2615),h=n(1880),p=n(9385),f=n(5997),d=n(4241),g=n(509),v=n(9985),m=n(8999),y=n(767),E=n(6373),b=n(9886).set,_=n(231),A=n(920),C=n(9302),T=n(4410),x=n(618),S=n(7919),w=n(7073),R=n(8742),P="Promise",O=w.CONSTRUCTOR,D=w.REJECTION_EVENT,L=w.SUBCLASSING,j=x.getterFor(P),I=x.set,H=S&&S.prototype,N=S,k=H,U=u.TypeError,B=u.document,F=u.process,M=R.f,$=M,V=!!(B&&B.createEvent&&u.dispatchEvent),G="unhandledrejection",W=function(t){var e;return!(!m(t)||!v(e=t.then))&&e},X=function(t,e){var n,r,i,o=e.value,s=1===e.state,a=s?t.ok:t.fail,c=t.resolve,u=t.reject,h=t.domain;try{a?(s||(2===e.rejection&&Q(e),e.rejection=1),!0===a?n=o:(h&&h.enter(),n=a(o),h&&(h.exit(),i=!0)),n===t.promise?u(new U("Promise-chain cycle")):(r=W(n))?l(r,n,c,u):c(n)):u(o)}catch(t){h&&!i&&h.exit(),u(t)}},q=function(t,e){t.notified||(t.notified=!0,_((function(){for(var n,r=t.reactions;n=r.get();)X(n,t);t.notified=!1,e&&!t.rejection&&Y(t)})))},z=function(t,e,n){var r,i;V?((r=B.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},!D&&(i=u["on"+t])?i(r):t===G&&A("Unhandled promise rejection",n)},Y=function(t){l(b,u,(function(){var e,n=t.facade,r=t.value;if(K(t)&&(e=C((function(){c?F.emit("unhandledRejection",r,n):z(G,n,r)})),t.rejection=c||K(t)?2:1,e.error))throw e.value}))},K=function(t){return 1!==t.rejection&&!t.parent},Q=function(t){l(b,u,(function(){var e=t.facade;c?F.emit("rejectionHandled",e):z("rejectionhandled",e,t.value)}))},J=function(t,e,n){return function(r){t(e,r,n)}},Z=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,q(t,!0))},tt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new U("Promise can't be resolved itself");var r=W(e);r?_((function(){var n={done:!1};try{l(r,e,J(tt,n,t),J(Z,n,t))}catch(e){Z(n,e,t)}})):(t.value=e,t.state=1,q(t,!1))}catch(e){Z({done:!1},e,t)}}};if(O&&(k=(N=function(t){y(this,k),g(t),l(r,this);var e=j(this);try{t(J(tt,e),J(Z,e))}catch(t){Z(e,t)}}).prototype,(r=function(t){I(this,{type:P,done:!1,notified:!1,parent:!1,reactions:new T,rejection:!1,state:0,value:void 0})}).prototype=h(k,"then",(function(t,e){var n=j(this),r=M(E(this,N));return n.parent=!0,r.ok=!v(t)||t,r.fail=v(e)&&e,r.domain=c?F.domain:void 0,0===n.state?n.reactions.add(r):_((function(){X(r,n)})),r.promise})),i=function(){var t=new r,e=j(t);this.promise=t,this.resolve=J(tt,e),this.reject=J(Z,e)},R.f=M=function(t){return t===N||undefined===t?new i(t):$(t)},!a&&v(S)&&H!==Object.prototype)){o=H.then,L||h(H,"then",(function(t,e){var n=this;return new N((function(t,e){l(o,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete H.constructor}catch(t){}p&&p(H,k)}s({global:!0,constructor:!0,wrap:!0,forced:O},{Promise:N}),f(N,P,!1,!0),d(P)},6409:function(t,e,n){"use strict";var r=n(9989),i=n(3931),o=n(7919),s=n(3689),a=n(6058),c=n(9985),u=n(6373),l=n(2945),h=n(1880),p=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&s((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=u(this,a("Promise")),n=c(t);return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}}),!i&&c(o)){var f=a("Promise").prototype.finally;p.finally!==f&&h(p,"finally",f,{unsafe:!0})}},3964:function(t,e,n){"use strict";n(6697),n(1692),n(5089),n(8829),n(2092),n(7905)},8829:function(t,e,n){"use strict";var r=n(9989),i=n(2615),o=n(509),s=n(8742),a=n(9302),c=n(8734);r({target:"Promise",stat:!0,forced:n(562)},{race:function(t){var e=this,n=s.f(e),r=n.reject,u=a((function(){var s=o(e.resolve);c(t,(function(t){i(s,e,t).then(n.resolve,r)}))}));return u.error&&r(u.value),n.promise}})},2092:function(t,e,n){"use strict";var r=n(9989),i=n(2615),o=n(8742);r({target:"Promise",stat:!0,forced:n(7073).CONSTRUCTOR},{reject:function(t){var e=o.f(this);return i(e.reject,void 0,t),e.promise}})},7905:function(t,e,n){"use strict";var r=n(9989),i=n(6058),o=n(3931),s=n(7919),a=n(7073).CONSTRUCTOR,c=n(2945),u=i("Promise"),l=o&&!a;r({target:"Promise",stat:!0,forced:o||a},{resolve:function(t){return c(l&&this===u?s:this,t)}})},4043:function(t,e,n){"use strict";var r=n(9989),i=n(6308);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},1694:function(t,e,n){"use strict";var r=n(730).charAt,i=n(4327),o=n(618),s=n(1934),a=n(7807),c="String Iterator",u=o.set,l=o.getterFor(c);s(String,"String",(function(t){u(this,{type:c,string:i(t),index:0})}),(function(){var t,e=l(this),n=e.string,i=e.index;return i>=n.length?a(void 0,!0):(t=r(n,i),e.index+=t.length,a(t,!1))}))},7267:function(t,e,n){"use strict";var r=n(1735),i=n(2615),o=n(8844),s=n(8678),a=n(3689),c=n(5027),u=n(9985),l=n(981),h=n(8700),p=n(3126),f=n(4327),d=n(4684),g=n(1514),v=n(4849),m=n(7017),y=n(6100),E=n(4201)("replace"),b=Math.max,_=Math.min,A=o([].concat),C=o([].push),T=o("".indexOf),x=o("".slice),S="$0"==="a".replace(/./,"$0"),w=!!/./[E]&&""===/./[E]("a","$0");s("replace",(function(t,e,n){var o=w?"$":"$0";return[function(t,n){var r=d(this),o=l(t)?void 0:v(t,E);return o?i(o,t,r,n):i(e,f(r),t,n)},function(t,i){var s=c(this),a=f(t);if("string"==typeof i&&-1===T(i,o)&&-1===T(i,"$<")){var l=n(e,s,a,i);if(l.done)return l.value}var d=u(i);d||(i=f(i));var v,E=s.global;E&&(v=s.unicode,s.lastIndex=0);for(var S,w=[];null!==(S=y(s,a))&&(C(w,S),E);){""===f(S[0])&&(s.lastIndex=g(a,p(s.lastIndex),v))}for(var R,P="",O=0,D=0;D<w.length;D++){for(var L,j=f((S=w[D])[0]),I=b(_(h(S.index),a.length),0),H=[],N=1;N<S.length;N++)C(H,void 0===(R=S[N])?R:String(R));var k=S.groups;if(d){var U=A([j],H,I,a);void 0!==k&&C(U,k),L=f(r(i,void 0,U))}else L=m(j,a,I,H,k,i);I>=O&&(P+=x(a,O,I)+L,O=I+j.length)}return P+x(a,O)}]}),!!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!S||w)},9976:function(t,e,n){"use strict";var r=n(9037),i=n(2615),o=n(4872),s=n(6310),a=n(3250),c=n(690),u=n(3689),l=r.RangeError,h=r.Int8Array,p=h&&h.prototype,f=p&&p.set,d=o.aTypedArray,g=o.exportTypedArrayMethod,v=!u((function(){var t=new Uint8ClampedArray(2);return i(f,t,{length:1,0:3},1),3!==t[1]})),m=v&&o.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var t=new h(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));g("set",(function(t){d(this);var e=a(arguments.length>1?arguments[1]:void 0,1),n=c(t);if(v)return i(f,this,n,e);var r=this.length,o=s(n),u=0;if(o+e>r)throw new l("Wrong length");for(;u<o;)this[e+u]=n[u++]}),!v||m)},3356:function(t,e,n){"use strict";var r=n(9037),i=n(6576),o=n(3689),s=n(509),a=n(382),c=n(4872),u=n(7365),l=n(7298),h=n(3615),p=n(7922),f=c.aTypedArray,d=c.exportTypedArrayMethod,g=r.Uint16Array,v=g&&i(g.prototype.sort),m=!(!v||o((function(){v(new g(2),null)}))&&o((function(){v(new g(2),{})}))),y=!!v&&!o((function(){if(h)return h<74;if(u)return u<67;if(l)return!0;if(p)return p<602;var t,e,n=new g(516),r=Array(516);for(t=0;t<516;t++)e=t%4,n[t]=515-t,r[t]=t-2*e+3;for(v(n,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(n[t]!==r[t])return!0}));d("sort",(function(t){return void 0!==t&&s(t),y?v(this,t):a(f(this),function(t){return function(e,n){return void 0!==t?+t(e,n)||0:n!=n?-1:e!=e?1:0===e&&0===n?1/e>0&&1/n<0?1:-1:e>n}}(t))}),!y||m)},6265:function(t,e,n){"use strict";var r=n(9037),i=n(6338),o=n(3265),s=n(752),a=n(5773),c=n(4201),u=c("iterator"),l=c("toStringTag"),h=s.values,p=function(t,e){if(t){if(t[u]!==h)try{a(t,u,h)}catch(e){t[u]=h}if(t[l]||a(t,l,e),i[e])for(var n in s)if(t[n]!==s[n])try{a(t,n,s[n])}catch(e){t[n]=s[n]}}};for(var f in i)p(r[f]&&r[f].prototype,f);p(o,"DOMTokenList")},2625:function(t,e,n){"use strict";n(752);var r=n(9989),i=n(9037),o=n(2615),s=n(8844),a=n(7697),c=n(6837),u=n(1880),l=n(2148),h=n(6045),p=n(5997),f=n(974),d=n(618),g=n(767),v=n(9985),m=n(6812),y=n(4071),E=n(926),b=n(5027),_=n(8999),A=n(4327),C=n(5391),T=n(5684),x=n(5185),S=n(1664),w=n(7807),R=n(1500),P=n(4201),O=n(382),D=P("iterator"),L="URLSearchParams",j=L+"Iterator",I=d.set,H=d.getterFor(L),N=d.getterFor(j),k=Object.getOwnPropertyDescriptor,U=function(t){if(!a)return i[t];var e=k(i,t);return e&&e.value},B=U("fetch"),F=U("Request"),M=U("Headers"),$=F&&F.prototype,V=M&&M.prototype,G=i.RegExp,W=i.TypeError,X=i.decodeURIComponent,q=i.encodeURIComponent,z=s("".charAt),Y=s([].join),K=s([].push),Q=s("".replace),J=s([].shift),Z=s([].splice),tt=s("".split),et=s("".slice),nt=/\+/g,rt=Array(4),it=function(t){return rt[t-1]||(rt[t-1]=G("((?:%[\\da-f]{2}){"+t+"})","gi"))},ot=function(t){try{return X(t)}catch(e){return t}},st=function(t){var e=Q(t,nt," "),n=4;try{return X(e)}catch(t){for(;n;)e=Q(e,it(n--),ot);return e}},at=/[!'()~]|%20/g,ct={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ut=function(t){return ct[t]},lt=function(t){return Q(q(t),at,ut)},ht=f((function(t,e){I(this,{type:j,target:H(t).entries,index:0,kind:e})}),L,(function(){var t=N(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,w(void 0,!0);var r=e[n];switch(t.kind){case"keys":return w(r.key,!1);case"values":return w(r.value,!1)}return w([r.key,r.value],!1)}),!0),pt=function(t){this.entries=[],this.url=null,void 0!==t&&(_(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===z(t,0)?et(t,1):t:A(t)))};pt.prototype={type:L,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,r,i,s,a,c,u=this.entries,l=S(t);if(l)for(n=(e=x(t,l)).next;!(r=o(n,e)).done;){if(s=(i=x(b(r.value))).next,(a=o(s,i)).done||(c=o(s,i)).done||!o(s,i).done)throw new W("Expected sequence with length 2");K(u,{key:A(a.value),value:A(c.value)})}else for(var h in t)m(t,h)&&K(u,{key:h,value:A(t[h])})},parseQuery:function(t){if(t)for(var e,n,r=this.entries,i=tt(t,"&"),o=0;o<i.length;)(e=i[o++]).length&&(n=tt(e,"="),K(r,{key:st(J(n)),value:st(Y(n,"="))}))},serialize:function(){for(var t,e=this.entries,n=[],r=0;r<e.length;)t=e[r++],K(n,lt(t.key)+"="+lt(t.value));return Y(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ft=function(){g(this,dt);var t=I(this,new pt(arguments.length>0?arguments[0]:void 0));a||(this.size=t.entries.length)},dt=ft.prototype;if(h(dt,{append:function(t,e){var n=H(this);R(arguments.length,2),K(n.entries,{key:A(t),value:A(e)}),a||this.length++,n.updateURL()},delete:function(t){for(var e=H(this),n=R(arguments.length,1),r=e.entries,i=A(t),o=n<2?void 0:arguments[1],s=void 0===o?o:A(o),c=0;c<r.length;){var u=r[c];if(u.key!==i||void 0!==s&&u.value!==s)c++;else if(Z(r,c,1),void 0!==s)break}a||(this.size=r.length),e.updateURL()},get:function(t){var e=H(this).entries;R(arguments.length,1);for(var n=A(t),r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){var e=H(this).entries;R(arguments.length,1);for(var n=A(t),r=[],i=0;i<e.length;i++)e[i].key===n&&K(r,e[i].value);return r},has:function(t){for(var e=H(this).entries,n=R(arguments.length,1),r=A(t),i=n<2?void 0:arguments[1],o=void 0===i?i:A(i),s=0;s<e.length;){var a=e[s++];if(a.key===r&&(void 0===o||a.value===o))return!0}return!1},set:function(t,e){var n=H(this);R(arguments.length,1);for(var r,i=n.entries,o=!1,s=A(t),c=A(e),u=0;u<i.length;u++)(r=i[u]).key===s&&(o?Z(i,u--,1):(o=!0,r.value=c));o||K(i,{key:s,value:c}),a||(this.size=i.length),n.updateURL()},sort:function(){var t=H(this);O(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=H(this).entries,r=y(t,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new ht(this,"keys")},values:function(){return new ht(this,"values")},entries:function(){return new ht(this,"entries")}},{enumerable:!0}),u(dt,D,dt.entries,{name:"entries"}),u(dt,"toString",(function(){return H(this).serialize()}),{enumerable:!0}),a&&l(dt,"size",{get:function(){return H(this).entries.length},configurable:!0,enumerable:!0}),p(ft,L),r({global:!0,constructor:!0,forced:!c},{URLSearchParams:ft}),!c&&v(M)){var gt=s(V.has),vt=s(V.set),mt=function(t){if(_(t)){var e,n=t.body;if(E(n)===L)return e=t.headers?new M(t.headers):new M,gt(e,"content-type")||vt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),C(t,{body:T(0,A(n)),headers:T(0,e)})}return t};if(v(B)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return B(t,arguments.length>1?mt(arguments[1]):{})}}),v(F)){var yt=function(t){return g(this,$),new F(t,arguments.length>1?mt(arguments[1]):{})};$.constructor=yt,yt.prototype=$,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:yt})}}t.exports={URLSearchParams:ft,getState:H}},9307:function(t,e,n){"use strict";n(2625)},9391:function(t,e,n){"use strict";n(1694);var r,i=n(9989),o=n(7697),s=n(6837),a=n(9037),c=n(4071),u=n(8844),l=n(1880),h=n(2148),p=n(767),f=n(6812),d=n(5394),g=n(1055),v=n(9015),m=n(730).codeAt,y=n(6430),E=n(4327),b=n(5997),_=n(1500),A=n(2625),C=n(618),T=C.set,x=C.getterFor("URL"),S=A.URLSearchParams,w=A.getState,R=a.URL,P=a.TypeError,O=a.parseInt,D=Math.floor,L=Math.pow,j=u("".charAt),I=u(/./.exec),H=u([].join),N=u(1..toString),k=u([].pop),U=u([].push),B=u("".replace),F=u([].shift),M=u("".split),$=u("".slice),V=u("".toLowerCase),G=u([].unshift),W="Invalid scheme",X="Invalid host",q="Invalid port",z=/[a-z]/i,Y=/[\d+-.a-z]/i,K=/\d/,Q=/^0x/i,J=/^[0-7]+$/,Z=/^\d+$/,tt=/^[\da-f]+$/i,et=/[\0\t\n\r #%/:<>?@[\\\]^|]/,nt=/[\0\t\n\r #/:<>?@[\\\]^|]/,rt=/^[\u0000-\u0020]+/,it=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ot=/[\t\n\r]/g,st=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)G(e,t%256),t=D(t/256);return H(e,".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)0!==t[o]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=N(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},at={},ct=d({},at,{" ":1,'"':1,"<":1,">":1,"`":1}),ut=d({},ct,{"#":1,"?":1,"{":1,"}":1}),lt=d({},ut,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ht=function(t,e){var n=m(t,0);return n>32&&n<127&&!f(e,t)?t:encodeURIComponent(t)},pt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ft=function(t,e){var n;return 2===t.length&&I(z,j(t,0))&&(":"===(n=j(t,1))||!e&&"|"===n)},dt=function(t){var e;return t.length>1&&ft($(t,0,2))&&(2===t.length||"/"===(e=j(t,2))||"\\"===e||"?"===e||"#"===e)},gt=function(t){return"."===t||"%2e"===V(t)},vt={},mt={},yt={},Et={},bt={},_t={},At={},Ct={},Tt={},xt={},St={},wt={},Rt={},Pt={},Ot={},Dt={},Lt={},jt={},It={},Ht={},Nt={},kt=function(t,e,n){var r,i,o,s=E(t);if(e){if(i=this.parse(s))throw new P(i);this.searchParams=null}else{if(void 0!==n&&(r=new kt(n,!0)),i=this.parse(s,null,r))throw new P(i);(o=w(new S)).bindURL(this),this.searchParams=o}};kt.prototype={type:"URL",parse:function(t,e,n){var i,o,s,a,c,u=this,l=e||vt,h=0,p="",d=!1,m=!1,y=!1;for(t=E(t),e||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,t=B(t,rt,""),t=B(t,it,"$1")),t=B(t,ot,""),i=g(t);h<=i.length;){switch(o=i[h],l){case vt:if(!o||!I(z,o)){if(e)return W;l=yt;continue}p+=V(o),l=mt;break;case mt:if(o&&(I(Y,o)||"+"===o||"-"===o||"."===o))p+=V(o);else{if(":"!==o){if(e)return W;p="",l=yt,h=0;continue}if(e&&(u.isSpecial()!==f(pt,p)||"file"===p&&(u.includesCredentials()||null!==u.port)||"file"===u.scheme&&!u.host))return;if(u.scheme=p,e)return void(u.isSpecial()&&pt[u.scheme]===u.port&&(u.port=null));p="","file"===u.scheme?l=Pt:u.isSpecial()&&n&&n.scheme===u.scheme?l=Et:u.isSpecial()?l=Ct:"/"===i[h+1]?(l=bt,h++):(u.cannotBeABaseURL=!0,U(u.path,""),l=It)}break;case yt:if(!n||n.cannotBeABaseURL&&"#"!==o)return W;if(n.cannotBeABaseURL&&"#"===o){u.scheme=n.scheme,u.path=v(n.path),u.query=n.query,u.fragment="",u.cannotBeABaseURL=!0,l=Nt;break}l="file"===n.scheme?Pt:_t;continue;case Et:if("/"!==o||"/"!==i[h+1]){l=_t;continue}l=Tt,h++;break;case bt:if("/"===o){l=xt;break}l=jt;continue;case _t:if(u.scheme=n.scheme,o===r)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=v(n.path),u.query=n.query;else if("/"===o||"\\"===o&&u.isSpecial())l=At;else if("?"===o)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=v(n.path),u.query="",l=Ht;else{if("#"!==o){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=v(n.path),u.path.length--,l=jt;continue}u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=v(n.path),u.query=n.query,u.fragment="",l=Nt}break;case At:if(!u.isSpecial()||"/"!==o&&"\\"!==o){if("/"!==o){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,l=jt;continue}l=xt}else l=Tt;break;case Ct:if(l=Tt,"/"!==o||"/"!==j(p,h+1))continue;h++;break;case Tt:if("/"!==o&&"\\"!==o){l=xt;continue}break;case xt:if("@"===o){d&&(p="%40"+p),d=!0,s=g(p);for(var b=0;b<s.length;b++){var _=s[b];if(":"!==_||y){var A=ht(_,lt);y?u.password+=A:u.username+=A}else y=!0}p=""}else if(o===r||"/"===o||"?"===o||"#"===o||"\\"===o&&u.isSpecial()){if(d&&""===p)return"Invalid authority";h-=g(p).length+1,p="",l=St}else p+=o;break;case St:case wt:if(e&&"file"===u.scheme){l=Dt;continue}if(":"!==o||m){if(o===r||"/"===o||"?"===o||"#"===o||"\\"===o&&u.isSpecial()){if(u.isSpecial()&&""===p)return X;if(e&&""===p&&(u.includesCredentials()||null!==u.port))return;if(a=u.parseHost(p))return a;if(p="",l=Lt,e)return;continue}"["===o?m=!0:"]"===o&&(m=!1),p+=o}else{if(""===p)return X;if(a=u.parseHost(p))return a;if(p="",l=Rt,e===wt)return}break;case Rt:if(!I(K,o)){if(o===r||"/"===o||"?"===o||"#"===o||"\\"===o&&u.isSpecial()||e){if(""!==p){var C=O(p,10);if(C>65535)return q;u.port=u.isSpecial()&&C===pt[u.scheme]?null:C,p=""}if(e)return;l=Lt;continue}return q}p+=o;break;case Pt:if(u.scheme="file","/"===o||"\\"===o)l=Ot;else{if(!n||"file"!==n.scheme){l=jt;continue}switch(o){case r:u.host=n.host,u.path=v(n.path),u.query=n.query;break;case"?":u.host=n.host,u.path=v(n.path),u.query="",l=Ht;break;case"#":u.host=n.host,u.path=v(n.path),u.query=n.query,u.fragment="",l=Nt;break;default:dt(H(v(i,h),""))||(u.host=n.host,u.path=v(n.path),u.shortenPath()),l=jt;continue}}break;case Ot:if("/"===o||"\\"===o){l=Dt;break}n&&"file"===n.scheme&&!dt(H(v(i,h),""))&&(ft(n.path[0],!0)?U(u.path,n.path[0]):u.host=n.host),l=jt;continue;case Dt:if(o===r||"/"===o||"\\"===o||"?"===o||"#"===o){if(!e&&ft(p))l=jt;else if(""===p){if(u.host="",e)return;l=Lt}else{if(a=u.parseHost(p))return a;if("localhost"===u.host&&(u.host=""),e)return;p="",l=Lt}continue}p+=o;break;case Lt:if(u.isSpecial()){if(l=jt,"/"!==o&&"\\"!==o)continue}else if(e||"?"!==o)if(e||"#"!==o){if(o!==r&&(l=jt,"/"!==o))continue}else u.fragment="",l=Nt;else u.query="",l=Ht;break;case jt:if(o===r||"/"===o||"\\"===o&&u.isSpecial()||!e&&("?"===o||"#"===o)){if(".."===(c=V(c=p))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(u.shortenPath(),"/"===o||"\\"===o&&u.isSpecial()||U(u.path,"")):gt(p)?"/"===o||"\\"===o&&u.isSpecial()||U(u.path,""):("file"===u.scheme&&!u.path.length&&ft(p)&&(u.host&&(u.host=""),p=j(p,0)+":"),U(u.path,p)),p="","file"===u.scheme&&(o===r||"?"===o||"#"===o))for(;u.path.length>1&&""===u.path[0];)F(u.path);"?"===o?(u.query="",l=Ht):"#"===o&&(u.fragment="",l=Nt)}else p+=ht(o,ut);break;case It:"?"===o?(u.query="",l=Ht):"#"===o?(u.fragment="",l=Nt):o!==r&&(u.path[0]+=ht(o,at));break;case Ht:e||"#"!==o?o!==r&&("'"===o&&u.isSpecial()?u.query+="%27":u.query+="#"===o?"%23":ht(o,at)):(u.fragment="",l=Nt);break;case Nt:o!==r&&(u.fragment+=ht(o,ct))}h++}},parseHost:function(t){var e,n,r;if("["===j(t,0)){if("]"!==j(t,t.length-1))return X;if(e=function(t){var e,n,r,i,o,s,a,c=[0,0,0,0,0,0,0,0],u=0,l=null,h=0,p=function(){return j(t,h)};if(":"===p()){if(":"!==j(t,1))return;h+=2,l=++u}for(;p();){if(8===u)return;if(":"!==p()){for(e=n=0;n<4&&I(tt,p());)e=16*e+O(p(),16),h++,n++;if("."===p()){if(0===n)return;if(h-=n,u>6)return;for(r=0;p();){if(i=null,r>0){if(!("."===p()&&r<4))return;h++}if(!I(K,p()))return;for(;I(K,p());){if(o=O(p(),10),null===i)i=o;else{if(0===i)return;i=10*i+o}if(i>255)return;h++}c[u]=256*c[u]+i,2!=++r&&4!==r||u++}if(4!==r)return;break}if(":"===p()){if(h++,!p())return}else if(p())return;c[u++]=e}else{if(null!==l)return;h++,l=++u}}if(null!==l)for(s=u-l,u=7;0!==u&&s>0;)a=c[u],c[u--]=c[l+s-1],c[l+--s]=a;else if(8!==u)return;return c}($(t,1,-1)),!e)return X;this.host=e}else if(this.isSpecial()){if(t=y(t),I(et,t))return X;if(e=function(t){var e,n,r,i,o,s,a,c=M(t,".");if(c.length&&""===c[c.length-1]&&c.length--,(e=c.length)>4)return t;for(n=[],r=0;r<e;r++){if(""===(i=c[r]))return t;if(o=10,i.length>1&&"0"===j(i,0)&&(o=I(Q,i)?16:8,i=$(i,8===o?1:2)),""===i)s=0;else{if(!I(10===o?Z:8===o?J:tt,i))return t;s=O(i,o)}U(n,s)}for(r=0;r<e;r++)if(s=n[r],r===e-1){if(s>=L(256,5-e))return null}else if(s>255)return null;for(a=k(n),r=0;r<n.length;r++)a+=n[r]*L(256,3-r);return a}(t),null===e)return X;this.host=e}else{if(I(nt,t))return X;for(e="",n=g(t),r=0;r<n.length;r++)e+=ht(n[r],at);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return f(pt,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"===this.scheme&&1===e&&ft(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,s=t.path,a=t.query,c=t.fragment,u=e+":";return null!==i?(u+="//",t.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=st(i),null!==o&&(u+=":"+o)):"file"===e&&(u+="//"),u+=t.cannotBeABaseURL?s[0]:s.length?"/"+H(s,"/"):"",null!==a&&(u+="?"+a),null!==c&&(u+="#"+c),u},setHref:function(t){var e=this.parse(t);if(e)throw new P(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"===t)try{return new Ut(t.path[0]).origin}catch(t){return"null"}return"file"!==t&&this.isSpecial()?t+"://"+st(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(E(t)+":",vt)},getUsername:function(){return this.username},setUsername:function(t){var e=g(E(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<e.length;n++)this.username+=ht(e[n],lt)}},getPassword:function(){return this.password},setPassword:function(t){var e=g(E(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<e.length;n++)this.password+=ht(e[n],lt)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?st(t):st(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,St)},getHostname:function(){var t=this.host;return null===t?"":st(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,wt)},getPort:function(){var t=this.port;return null===t?"":E(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""===(t=E(t))?this.port=null:this.parse(t,Rt))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+H(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Lt))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""===(t=E(t))?this.query=null:("?"===j(t,0)&&(t=$(t,1)),this.query="",this.parse(t,Ht)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!==(t=E(t))?("#"===j(t,0)&&(t=$(t,1)),this.fragment="",this.parse(t,Nt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ut=function(t){var e=p(this,Bt),n=_(arguments.length,1)>1?arguments[1]:void 0,r=T(e,new kt(t,!1,n));o||(e.href=r.serialize(),e.origin=r.getOrigin(),e.protocol=r.getProtocol(),e.username=r.getUsername(),e.password=r.getPassword(),e.host=r.getHost(),e.hostname=r.getHostname(),e.port=r.getPort(),e.pathname=r.getPathname(),e.search=r.getSearch(),e.searchParams=r.getSearchParams(),e.hash=r.getHash())},Bt=Ut.prototype,Ft=function(t,e){return{get:function(){return x(this)[t]()},set:e&&function(t){return x(this)[e](t)},configurable:!0,enumerable:!0}};if(o&&(h(Bt,"href",Ft("serialize","setHref")),h(Bt,"origin",Ft("getOrigin")),h(Bt,"protocol",Ft("getProtocol","setProtocol")),h(Bt,"username",Ft("getUsername","setUsername")),h(Bt,"password",Ft("getPassword","setPassword")),h(Bt,"host",Ft("getHost","setHost")),h(Bt,"hostname",Ft("getHostname","setHostname")),h(Bt,"port",Ft("getPort","setPort")),h(Bt,"pathname",Ft("getPathname","setPathname")),h(Bt,"search",Ft("getSearch","setSearch")),h(Bt,"searchParams",Ft("getSearchParams")),h(Bt,"hash",Ft("getHash","setHash"))),l(Bt,"toJSON",(function(){return x(this).serialize()}),{enumerable:!0}),l(Bt,"toString",(function(){return x(this).serialize()}),{enumerable:!0}),R){var Mt=R.createObjectURL,$t=R.revokeObjectURL;Mt&&l(Ut,"createObjectURL",c(Mt,R)),$t&&l(Ut,"revokeObjectURL",c($t,R))}b(Ut,"URL"),i({global:!0,constructor:!0,forced:!s,sham:!o},{URL:Ut})},8730:function(t,e,n){"use strict";n(9391)}},r={};function i(t){var e=r[t];if(void 0!==e)return e.exports;var o=r[t]={exports:{}};return n[t].call(o.exports,o,o.exports,i),o.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var o={};return function(){"use strict";function t(e,n){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t(e,n)}function e(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,t(e,n)}i.d(o,{default:function(){return Yt}});var n=i(4616),r=i(5778);function s(){return s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}i(752),i(6265),i(9976),i(3356);var a={print:4,modify:8,extract:16,annotForm:32,fillForm:256,extractAccess:512,assemble:1024,printHigh:2048};let c=r.Deps.jQuery,u=r.shared.browser.getPtPxRatio,l=r.Events;const{ActivationGroup:h}=r.shared.activation,{notImplemented:p}=r.commons,{GraphicsObject:f}=r.PDF.engine,{BuiltinShortcutContext:d,BuiltinCommand:g}=r.keyboard;let v=function(t){function n(e,n,r){var i;return(i=t.call(this)||this).isDestroyed=!1,i.graphicsObject=e,i.pageRender=n,i.dependences=r,i}e(n,t);var i=n.prototype;return i.doActive=function(){let t=this.$handler,e=this.dependences.pdfViewer;if(!t){t=this.initUI(),this.$handler=t;const n=this.getContextMenuConfig();n&&!this.contextmenu&&(this.contextmenu=e.viewerUI.createContextMenu(this,t.get(0),n))}t.addClass("fwr__active"),this.updateShapeControl(),this.bindEvent()},i.getContextMenuConfig=function(){},i.getContextMenuComponentName=function(){p()},i.removeGraphicObject=function(){this.remove()},i.remove=function(){if(this.isActive){this.removeToolbar&&this.removeToolbar();const t=this.dependences.pdfViewer;t.getAllActiveElements().forEach((t=>{t.unActive(),t!==this&&t.remove&&t.remove()}));0===t.getAllActiveElements().length&&t.activeElement()}},i.removeGraphicObjects=function(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(n.removeToolbar&&n.removeToolbar(),n.unActive(),n.dependences.pdfViewer.unActiveElement(n),n.destroy(),!n.graphicsObject.doc.checkPermission(a.modify))throw new Error("Permission error");let r=0===e;n.graphicsObject.getPDFPage().removeGraphicsObjectEx(n.graphicsObject,r)}this.dependences.pdfViewer.activeElement()},i.bindEvent=function(){const{pdfViewer:t}=this.dependences;t.getKeyboard().withContext(d.ACTIVATION_ANY,(e=>{this.isDestroyed||(this.__off__delete__event__=e.keydown(g.DELETE_SELECTED_OBJECT,(e=>{const n=t.getAllActiveElements();n.length>1?this===n[n.length-1]&&this.removeGraphicObjects(n):this.removeGraphicObject(),this.__off__delete__event__()})),this.__off__esc__event__=e.keydown(g.UNSELECT_OBJECT,(t=>{this.unActive(!0)})))}))},i.unBindEvent=function(){this.__off__delete__event__&&this.__off__delete__event__(),this.__off__delete__event__=()=>{},this.__off__esc__event__&&this.__off__esc__event__(),this.__off__esc__event__=()=>{},this.__off_active_escape_event&&this.__off_active_escape_event(),delete this.__off_active_escape_event},i.translateContextMenuName=function(t){for(let e in t)if("items"===e){let n=t[e],r=this.dependences.pdfViewer.i18n;for(let t in n){let e=n[t];e.nameI18nKey&&(e.name=r.t(e.nameI18nKey))}}return t},i.updateShapeControl=function(){const t=this.getBoundary(),e=this._getShapeControllerBoundaryBox();this.shapeControl&&this.shapeControl.active(this.$handler,t,e)},i.unActive=function(){this.isActive&&(t.prototype.unActive.call(this),this.$handler&&(this.$handler.removeClass("fwr__active"),this.shapeControl&&this.shapeControl.deactive(),this.dependences.pdfViewer.eventEmitter.off(l.fitWidthResizeViewport,this.afterZoom),this.dependences.pdfViewer.eventEmitter.off(l.zoomToSuccess,this.afterZoom),this.$handler&&this.$handler.remove(),this.$handler=null,this.unBindEvent(),this.$charEditContainer&&this.$charEditContainer.off("focus"),this.removeToolbar&&this.removeToolbar()))},i.doDeactive=function(){},i.destroy=function(){this.isDestroyed=!0,this.unActive(),this.shapeControl&&this.shapeControl.destroy(),this.contextmenu&&this.contextmenu.destroy()},i.getModel=function(){return this.graphicsObject},i._getShapeControllerBoundaryBox=function(){const t=this.pageRender.page;let e=u()*this.pageRender.getScale(),[n,r]=[t.getPxWidth()*e,t.getPxHeight()*e];return this.pageRender.rotate%180!=0&&([r,n]=[n,r]),{left:0,top:0,width:n,height:r}},i.getBoundary=function(){const t=this.pageRender.page,e=this.graphicsObject.getRect(),n=t.getDeviceRect(e,this.pageRender.getScale(),this.pageRender.getRotation());return{left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top}},i.initUI=function(){if(this.$handler)return;let t=this.$handler=c('<div class="fwr__graphics-object-handler"\n        ></div>');this.pageRender.pageHandler.$handler.append(t),t.get(0).__graphics_object_component=this;let e=!0;return this.predefineTextObject&&(e=!1),this.shapeControl=new r.ShapeControl({prestart:()=>this.onPrestart(),start:(t,e,n)=>this.onStartUpdateShape(t,e,n),moving:(t,e,{offsetX:n,offsetY:r})=>this.onShapeMoving(t,e,n,r),update:(t,e)=>this.onShapeUpdating(t,e),end:(t,e,n,r)=>this.onShapeUpdateEnd(t,e,n,r),afterEnd:t=>this.onAfterShapeCtrlEnd(t),resizable:e,enableDiagonally:!0,enableFrame:!0,previewer:!0,auxiliaryLine:void 0}),this.dependences.pdfViewer.eventEmitter.on(l.zoomToSuccess,this.afterZoom=()=>{this.updateShapeControl()}),this.dependences.pdfViewer.eventEmitter.on(l.fitWidthResizeViewport,this.afterZoom),this.$handler},i.onPrestart=function(){this.dependences.pdfViewer.getAllActiveElements().forEach((t=>{t!==this&&t instanceof n&&this.shapeControl.companion(t.shapeControl)}))},i.onAfterShapeCtrlEnd=function(t){this.shapeControl.clearCompanions()},i.onStartUpdateShape=function(t,e,n){if("move"){if(this.dependences.pdfViewer.getAllActiveElements().length>1||!this.graphicsObject.getBitmap)return;c(this.shapeControl.ui.querySelector(".fv__shape-control-previewer")).show(),this.graphicsObject.getBitmap(this.pageRender.getScale(),this.pageRender.getRotation()).then((t=>{if(!t)return;let e=this.shapeControl.getPreviewerContext();c(e.canvas).attr({width:t.width,height:t.height});let n=e.createImageData(t.width,t.height+1),r=new(Uint8ClampedArray||Uint8Array)(t.buffer);n.data.set(r),e.putImageData(n,0,0)}))}},i.onShapeMoving=function(t,e){},i.onShapeUpdating=function(t,e){},i.onShapeUpdateEnd=function(t,e,n,r=!0){let i=s({},t);i.right=i.left+i.width,i.bottom=i.top+i.height,i=this.pageRender.page.reverseDeviceRect(i,this.pageRender.getScale(),this.pageRender.getRotation()),this.graphicsObject.setRect(i,r).then((t=>{c(this.shapeControl.ui.querySelector(".fv__shape-control-previewer")).hide(),this.updateShapeControl()}))},i.setColor=function(t){return this.graphicsObject.setBorderColor(t)},i.setBorderStyle=function(t,e){return this.graphicsObject.setBorderStyle(t,e).then((t=>{this.updateShapeControl()}))},i.setOpacity=function(t){return this.graphicsObject.setOpacity(t)},i.setFillColor=function(t){return this.graphicsObject.setFillColor(t)},i.setBorderWidth=function(t){return this.graphicsObject.setBorderWidth(t).then((t=>{this.updateShapeControl()}))},i.moveToPosition=function(t,e){return this.graphicsObject.moveToPosition(t,e).then((t=>{this.updateShapeControl()}))},i.getGraphicsObject=function(){return this.graphicsObject},n}(r.shared.activation.Activatable);i(3964),i(4043),i(7267),i(6409);var m={textObjectActive:"text-object-active",textObjectUnActive:"text-object-unactive",addTextObjectParamTransfer:"add-text-object-param-transfer"};i(8730),i(9307);let y,E,b={};"function"==typeof FontFace?(y=function(t,e){return b[t]?b[t]:b[t]=new Promise((function(n,r){e().then((function(e){if(!e)return r(),void b[t];var i=new FontFace(t,e.buffer||e.url);i.load().then((()=>{document.fonts.add(i),n(i)}),(function(){r(),delete b[t]}))}),(function(){r(),delete b[t]}))}))},E=function(t){b[t]&&b[t].then((function(e){delete b[t],document.fonts.delete(e)}))}):(y=function(t,e){return b[t]?b[t]:b[t]=new Promise((function(n,r){e().then((function(e){return e?e.buffer?URL.createObjectURL(new Blob([e.buffer],"application/x-font-woff")):e.url:(r("woff is invalid"),void delete b[t])})).then((function(e){if(!e)return r();let i=document.createElement("style");i.innerHTML='@font-face{font-family:"'+t+'"; src:url("'+e+'");}',document.head.appendChild(i),n(i)}))}))},E=function(t){b[t]&&b[t].then((function(e){delete b[t],e.parentNode.removeChild(e)}))});var _;!function(t){t.STATE_HANDLER_HAND="hand",t.STATE_HANDLER_CHECK_THE_SEARCH="checkTheSearch",t.STATE_HANDLER_CREATE_CARET="createCaret",t.STATE_HANDLER_CREATE_ARROW="createArrow",t.STATE_HANDLER_CREATE_AREA_HIGHLIGHT="createAreaHighlight",t.STATE_HANDLER_CREATE_CREATE_AREA_HIGHLIGHT="createAreaHighlight",t.STATE_HANDLER_CREATE_CIRCLE="createCircle",t.STATE_HANDLER_CREATE_FILE_ATTACHMENT="createFileAttachment",t.STATE_HANDLER_CREATE_HIGHLIGHT="createHighlight",t.STATE_HANDLER_CREATE_IMAGE="createImage",t.STATE_HANDLER_CREATE_LINK="createLink",t.STATE_HANDLER_CREATE_LINE="createLine",t.STATE_HANDLER_CREATE_DISTANCE="createDistance",t.STATE_HANDLER_CREATE_PERIMETER="createPerimeter",t.STATE_HANDLER_CREATE_AREA="createArea",t.STATE_HANDLER_CREATE_CIRCLE_AREA="createCircleArea",t.STATE_HANDLER_CREATE_PENCIL="createPencil",t.STATE_HANDLER_CREATE_POLYGON_CLOUD="createPolygonCloud",t.STATE_HANDLER_CREATE_POLYGON="createPolygon",t.STATE_HANDLER_CREATE_POLYLINE="createPolyline",t.STATE_HANDLER_CREATE_REPLACE="createReplace",t.STATE_HANDLER_CREATE_SQUARE="createSquare",t.STATE_HANDLER_CREATE_SQUIGGLY="createSquiggly",t.STATE_HANDLER_CREATE_STAMP="createStamp",t.STATE_HANDLER_CREATE_STRIKE_OUT="createStrikeOut",t.STATE_HANDLER_CREATE_TEXT="createText",t.STATE_HANDLER_CREATE_UNDERLINE="createUnderline",t.STATE_HANDLER_MARQUEE="marquee",t.STATE_HANDLER_ERASER="eraser",t.STATE_HANDLER_LOUPE="loupe",t.STATE_HANDLER_SELECT_TEXT_ANNOTATION="select-text-annotation",t.STATE_HANDLER_SELECT_TEXT_IMAGE="select-text-image",t.STATE_HANDLER_SELECT_ANNOTATION="select-annotation",t.STATE_HANDLER_CREATE_FREETEXT_BOX="createFreeTextBox",t.STATE_HANDLER_CREATE_FREETEXT_CALLOUT="createFreeTextCallout",t.STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER="createFreeTextTypewriter",t.STATE_HANDLER_CREATE_FIELD_TEXT="CreateTextStateHandler",t.STATE_HANDLER_CREATE_FIELD_SIGNATURE="CreateSignStateHandler",t.STATE_HANDLER_CREATE_FIELD_PUSH_BUTTON="CreatePushButtonStateHandler",t.STATE_HANDLER_CREATE_FIELD_CHECK_BOX="CreateCheckBoxStateHandler",t.STATE_HANDLER_CREATE_RADIO_BUTTON="CreateRadioButtonStateHandler",t.STATE_HANDLER_CREATE_FIELD_COMBO_BOX="CreateComboBoxStateHandler",t.STATE_HANDLER_CREATE_FIELD_LIST_BOX="CreateListBoxStateHandler",t.STATE_HANDLER_CREATE_FIELD_DATE="CreateDateStateHandler",t.STATE_HANDLER_CREATE_FIELD_IMAGE="CreateImageStateHandler",t.STATE_HANDLER_SNAPSHOT_TOOL="snapshot-tool"}(_||(_={}));const A=_.STATE_HANDLER_HAND;_.STATE_HANDLER_CHECK_THE_SEARCH,_.STATE_HANDLER_CREATE_CARET,_.STATE_HANDLER_CREATE_ARROW,_.STATE_HANDLER_CREATE_AREA_HIGHLIGHT,_.STATE_HANDLER_CREATE_AREA_HIGHLIGHT,_.STATE_HANDLER_CREATE_CIRCLE,_.STATE_HANDLER_CREATE_FILE_ATTACHMENT,_.STATE_HANDLER_CREATE_HIGHLIGHT,_.STATE_HANDLER_CREATE_IMAGE,_.STATE_HANDLER_CREATE_LINK,_.STATE_HANDLER_CREATE_LINE,_.STATE_HANDLER_CREATE_DISTANCE,_.STATE_HANDLER_CREATE_PERIMETER,_.STATE_HANDLER_CREATE_AREA,_.STATE_HANDLER_CREATE_CIRCLE_AREA,_.STATE_HANDLER_CREATE_PENCIL,_.STATE_HANDLER_CREATE_POLYGON_CLOUD,_.STATE_HANDLER_CREATE_POLYGON,_.STATE_HANDLER_CREATE_POLYLINE,_.STATE_HANDLER_CREATE_REPLACE,_.STATE_HANDLER_CREATE_SQUARE,_.STATE_HANDLER_CREATE_SQUIGGLY,_.STATE_HANDLER_CREATE_STAMP,_.STATE_HANDLER_CREATE_STRIKE_OUT,_.STATE_HANDLER_CREATE_TEXT,_.STATE_HANDLER_CREATE_UNDERLINE,_.STATE_HANDLER_MARQUEE,_.STATE_HANDLER_ERASER,_.STATE_HANDLER_LOUPE,_.STATE_HANDLER_SELECT_TEXT_ANNOTATION,_.STATE_HANDLER_SELECT_TEXT_IMAGE,_.STATE_HANDLER_SELECT_ANNOTATION,_.STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER,_.STATE_HANDLER_CREATE_FREETEXT_CALLOUT,_.STATE_HANDLER_CREATE_FREETEXT_BOX,_.STATE_HANDLER_SNAPSHOT_TOOL,_.STATE_HANDLER_CREATE_FIELD_TEXT,_.STATE_HANDLER_CREATE_FIELD_SIGNATURE,_.STATE_HANDLER_CREATE_FIELD_PUSH_BUTTON,_.STATE_HANDLER_CREATE_RADIO_BUTTON;i(278);function C(t,e,n){t.focus(n),setTimeout((()=>{t.focus(n),t.setSelectionRange(e.startOffset,e.endOffset)})),t.setSelectionRange(e.startOffset,e.endOffset)}function T(t,e,n){var r,i;t.focus(e),setTimeout((()=>t.focus(e)));const o=document.createRange();if(o.selectNodeContents(t),n){const e=t.childNodes[n.startNodeIndex||0];e&&o.setStart(e,Math.min(n.startOffset,(null===(r=e.textContent)||void 0===r?void 0:r.length)||0));const s=t.childNodes[n.endNodeIndex||0];s&&o.setStart(s,Math.min(n.endOffset,(null===(i=e.textContent)||void 0===i?void 0:i.length)||0))}o.collapse(!0);const s=window.getSelection();s&&(s.removeAllRanges(),s.addRange(o))}let x=r.Deps.jQuery,S=r.shared.browser.getPtPxRatio;const w=r.ViewerEvents.renderPageSuccess,R=r.ViewerEvents.switchStateHandler,{BuiltinCommand:P,BuiltinShortcutContext:O}=r.keyboard,{debounce:D}=r.shared,{colorConvertor:L,KeyCodes:j,KeyboardUtils:{isMatch:I,matchers:H}}=r.commons;let N=function(t){function n(e,n,r){var i;return(i=t.call(this,e,n,r)||this).fillSign=!1,i}e(n,t);var i=n.prototype;return i.initUI=function(){let t=this.$handler=x('<div class="fwr__graphics-object-handler fwr__text-object-edit"\n        ></div>');this.pageRender.pageHandler.$handler.after(t),t.get(0).__graphics_object_component=this;this.shapeControl=new r.ShapeControl({prestart:()=>this.onPrestart(),start:(t,e,n)=>this.onStartUpdateShape(t,e,n),moving:(t,e,{offsetX:n,offsetY:r})=>this.onShapeMoving(t,e,n,r),update:(t,e)=>this.onShapeUpdating(t,e),rotate:(t,e)=>this.onRotate(t,e),end:(t,e,n,r)=>this.onShapeUpdateEnd(t,e,n,r),afterEnd:t=>this.onAfterShapeCtrlEnd(t),resizable:!0,enableDiagonally:!0,enableFrame:!0,previewer:!0});return t.on("dblclick",(()=>{this.unActive(),this.activeCharEdit()})),this.$handler},i.reActive=function(){},i.active=function(e=!0){t.prototype.active.call(this),this.reActive=()=>{this.unActive(),this.active()};let n=this.pageRender.pdfViewer.getEventEmitter();e&&n.emit(m.textObjectActive,this),this.pageRedrawBind&&n.off(w,this.pageRedrawBind),n.on(w,this.pageRedrawBind=t=>{t.index===this.getModel().getPDFPage().getIndex()&&this.reActive()}),n.on(R,this.switchStateHandlerBind=()=>{this.eCharInput&&this.applyEdit()})},i.unActive=function(){this.dependences.pdfViewer._setSaveBefore(),t.prototype.unActive.call(this),this.unActiveCharEdit();let e=this.pageRender.pdfViewer.getEventEmitter();e.off(w,this.pageRedrawBind),e.off(R,this.switchStateHandlerBind),e.emit(m.textObjectUnActive,this)},i.unActiveCharEdit=function(){this.$charEditContainer&&this.$charEditContainer.remove(),this.$charEditContainer=null,this.unswitchBinder&&this.unswitchBinder()},i.applyEdit=function(){if(!this.eCharInput)return Promise.reject(new Error("text input box has not been initialized!"));let t=this.eCharInput.innerText;"string"!=typeof t&&(t=this.eCharInput.textContent);let e="",n=0;for(let r=0;r<t.length;r++){this.eCharInput.innerText=t.substring(0,r+1);let i=t[r];for(;("\n"==i||"\r"==i)&&r<t.length;)r++,i=t[r];const o=this.eCharInput.offsetHeight;e+=0!==n&&n<o?"\n"+i:i,n=o}return t=e.replace(/\u00a0/g," "),this.isApplyEdit=!0,this.setTextChar(t).then((()=>{this.unActive()})).finally((()=>{this.isApplyEdit=!1}))},i.initCharEditContainer=function(){let t;t=this.fillSign?x('<div class="fv__text-object-edit-char-container"><div class="fv__text-object-edit-char-mask-layer"></div><div><span class="fv_fillsign-moving"></span><span class="fv__text-object-edit-char-input " contenteditable></span></div></div>'):x('<div class="fv__text-object-edit-char-container"><div class="fv__text-object-edit-char-mask-layer"></div><span class="fv__text-object-edit-char-input " contenteditable></span></div>'),this.pageRender.$handler.after(t);let e=t.find(".fv__text-object-edit-char-input"),n=e[0];return this.eCharInput=n,e.on("keydown",(n=>{if(!n.shiftKey&&(13===n.keyCode&&(n.preventDefault(),this.applyEdit()),this.fillSign)){let n=t.find(".fv__text-object-edit-char-mask-layer"),r=e[0].getBoundingClientRect().width;n.width()<r+15&&n.css("width",r+15+"px")}})),this.fillSign&&this.bindMovingEvent(t),t},i.activeCharEdit=function(t){this.isActive=!0;let e=this.$charEditContainer=this.$charEditContainer||this.initCharEditContainer(),n=e.find(".fv__text-object-edit-char-mask-layer");const i=e.find(".fv__text-object-edit-char-input");this.dependences.pdfViewer._setSaveBefore((()=>this.applyEdit()));let o=this.graphicsObject,s=o.getRect(),a=this.pageRender;const c=a.pdfViewer;return i.off("focus").on("focus",(()=>{const t=c.getKeyboard(),e=t.activeContext(O.EDIT_TEXT_OBJECT);let n,r=!1;t.withContext(O.EDIT_TEXT_OBJECT,(t=>{r||(n=t.keyup(P.BLUR_EDITTING_TEXT_OBJECT,(()=>{let t=this.eCharInput.innerText;"string"!=typeof t&&(t=this.eCharInput.textContent),this.setTextChar(t).then((()=>{this.unActive()})),c.getStateHandlerManager().switchTo(A)})))})),this.unswitchBinder=()=>{r||(r=!0,e(),n&&n())}})),c.getEventEmitter().on(R,this.switchStateHandlerBind=()=>{this.eCharInput&&this.applyEdit()}),Promise.all([a.getPDFPage(),a.getScale(),a.getRotation()]).then((([t,e,n])=>[t.getDeviceRect(s,e,n),t,e,n])).then((([i,s,c,u])=>{e.css({left:i.left+"px",top:i.bottom+"px"});let l=e.find(".fv__text-object-edit-char-input"),h=l[0];n.css({width:i.right-i.left+"px",height:i.bottom-i.top+"px"});let p=o.getText();p=p.replace(/\u0020/g," "),void 0===t&&(t=p),"string"==typeof h.innerText?h.innerText=p:h.textContent=p;let f=o.getFontSize(),d=o.getMatrix().toArray().slice(0,4),g=12,v=f*S()<g;v&&(f*=g,d[0]/=g,d[1]/=g,d[2]/=g,d[3]/=g),d[0]*=c,d[1]*=-c,d[2]*=-c,d[3]*=c;let E=new r.Matrix(d[0],d[1],d[2],d[3],0,0),b=s.getRotationAngle()+u;if(E.rotate(b/180*Math.PI),this.fillSign)l.css({fontSize:f+"pt",transform:"matrix("+E.toArray().join(",")+")",color:L(16777215&o.getFillColor(),"#"),transform:"matrix("+E.toArray().join(",")+")"});else{if("TimesNewRoman"===o.info.textState.font.baseName)otherFontName="Times New Roman";l.css({fontFamily:'"'+[o.info.textState.font.baseName,o.info.textState.font.familyName,o.info.textState.font.nameKey,o.info.textState.font.name,"FoxitPDFSDKForWeb"].join('","')+'"',fontSize:f+"pt",fontWeight:o.info.textState.font.isBold?700:400,fontStyle:o.info.textState.font.isItalic?"italic":"",transform:"matrix("+E.toArray().join(",")+")",color:L(16777215&o.getFillColor(),"#")})}let _,A,x=l.height(),R=l.width(),P=E.transformPoint(R,x),O=P[0],j=P[1];this.fillSign&&this.showToolbar(Math.abs(j)),O>=0&&j>0?(_=-E.transformPoint(R,0)[1]-x,A=0):O<0&&j>=0?(_=-E.transformPoint(R,0)[1]-x,A=-E.transformPoint(0,R)[1]):O<=0&&j<0?(_=E.transformPoint(0,x)[1]-x,A=-O+E.transformPoint(0,x)[0]):O>0&&j<=0&&(_=-E.transformPoint(0,x)[1]-x,A=O-E.transformPoint(R,0)[0]),l.css({top:_+"px",left:A+"px",transformOrigin:"left "+x+"px",bottom:"auto"}),t!==p&&("string"==typeof h.innerText?h.innerText=t:h.textContent=t),this.fillSign||y(o.info.textState.font.nameKey||o.info.textState.font.name,o.getWoff.bind(o)).catch((function(){})),this.reActive=t=>{this.unActive(),this.activeCharEdit(t)};let I=this.pageRender.pdfViewer.getEventEmitter();this.fillSign||I.emit(m.textObjectActive,this),document.activeElement!==h&&h.focus();let{maxWidth:H,maxHeight:N}=$(),k=v?c/g:c;h.style.cssText+=`\n                max-width: ${H/k}px;\n            `;let U=h.textContent;const B=()=>{h.style.cssText+="\n                    white-space: pre;\n                    width: auto;\n                ";const{width:t}=h.getBoundingClientRect();h.style.cssText+=`\n                    width: ${Math.min(H,t)/k}px;\n                    white-space: pre-line;\n                `;const e=function(t){const e=window.getSelection();if(null==e?void 0:e.rangeCount){const r=e.getRangeAt(0);if(t.contains(r.startContainer)&&t.contains(r.endContainer))return{startNodeIndex:n(r.startContainer),endNodeIndex:n(r.endContainer),startOffset:r.startOffset,endOffset:r.endOffset}}return null;function n(e){let n=e;for(;n&&n.parentElement!==t;)n=n.parentNode;return Array.from(t.childNodes).indexOf(n)}}(h),{height:n}=h.getBoundingClientRect();n>N?(h.textContent=U,function(t,e,n){t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement?C(t,e,n):"inherit"!==t.contentEditable&&T(t,n,e)}(h,e)):U=h.textContent};let F=!1;h.addEventListener("input",(()=>{F||B()})),h.addEventListener("compositionstart",(()=>{F=!0,h.style.maxWidth=H/c+"px"}));const M=D(B,0);function $(){const t=a.$ui[0].getBoundingClientRect(),e=h.getBoundingClientRect();return{maxWidth:t.right-e.left,maxHeight:t.bottom-e.top}}h.addEventListener("compositionupdate",(()=>{M()})),h.addEventListener("compositionend",(()=>{F=!1,h.style.maxWidth="",B()})),this.pageRedrawBind&&I.off(w,this.pageRedrawBind),I.on(w,this.pageRedrawBind=e=>{if(e.index===this.getModel().getPDFPage().getIndex()){t="string"==typeof h.innerText?h.innerText:h.textContent;const{maxWidth:n,maxHeight:r}=$();H=n,N=r;let i=v?e.scale/g:e.scale;h.style.cssText+=`\n                        max-width: ${H/i}px;\n                    `}})}))},i.showToolbar=function(t){},i.setTextChar=function(t){return this.graphicsObject.setText(t)},i.getContextMenuConfig=function(){},i.getTextChar=function(){if(this.$charEditContainer){let t=this.$charEditContainer.find(".fv__text-object-edit-char-input")[0],e=t.innerText;return"string"!=typeof e&&(e=t.textContent),e.replace(/\u00a0/g," ")}return this.getModel().getText()},i.textCharSure=function(){return!this.isApplyEdit&&this.$charEditContainer?this.fillSign?this.saveFillSign():this.applyEdit():Promise.resolve()},i.remove=function(){return t.prototype.remove.call(this),this.dependences.pdfViewer.unActiveElement(this),this.destroy(),this.graphicsObject.remove()},n}(v);function k(t){if("clientX"in t)return t.clientX;switch(t.type){case"touchstart":case"touchmove":return t.touches[0].clientX;case"touchend":case"touchcancel":return t.changedTouches[0].clientX}}function U(t){if("clientY"in t)return t.clientY;switch(t.type){case"touchstart":case"touchmove":return t.touches[0].clientY;case"touchend":case"touchcancel":return t.changedTouches[0].clientY}}let B=r.Deps.jQuery;const{colorConvertor:F}=r.commons;let M=function(t){function n(e,n,r){return t.call(this,e,n,r)||this}e(n,t);var i=n.prototype;return i.active=function(){t.prototype.active.call(this)},i.getPropertyOptions=function(){let t=this.graphicsObject,e=t.getBorderColor();e=this.graphicsObject.needStroke()?F(e||4278190080,"#"):0;let n=t.getFillColor();0==t.getFillMode()&&(n=0);let r=t.getBorderWidth();return{color:e,borderTransparent:!0,opacity:t.getOpacity(),fillColor:n,borderWidth:r}},i.initUI=function(){t.prototype.initUI.call(this),this.$tip=B('<div class="fwr__path-object-tip"></div>'),this.$tip.appendTo(this.$handler);let e=this.rectHammer=new Hammer.Manager(this.$handler[0],{recognizers:[[Hammer.Press]]});return this.$handler.on("mousemove",(t=>{this.$tip.hide()})),e.on("press",(t=>{if(B(".fv__ui-mobile").length)return;const e=this.graphicsObject.getRect();let n=$(this.$handler.parent()[0],t),r={left:n.x+"px",top:n.y+20+"px"};n=this.pageRender.page.reverseDevicePoint([n.x,n.y],this.pageRender.getScale(),this.pageRender.getRotation()),this.$tip.show().css(r).html(`object : x:${e.left.toFixed(2)},y:${e.bottom.toFixed(2)}<br/>mouse: x:${n[0].toFixed(2)},y:${n[1].toFixed(2)}`)})),this.$handler},i.showPropertiesDialog=function(t){let e=this.dependences.pdfViewer.activePropertiesDialog;this.dependences.pdfViewer.activePropertiesDialog?(e.show(t),e.setViewerComponent(this),this.activePropertiesDialog=e):this.propertiesControl=new r.PropertiesControl(this)},i.getContextMenuComponentName=function(){return"fv--path-graphics-object-contextmenu"},i.getContextMenuConfig=function(){return{selector:"div.fv__shape-control",items:{properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:(t,e,n)=>{this.showPropertiesDialog(n)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:()=>{this.remove()}}}}},i.unActive=function(e){let n=this.activePropertiesDialog;n&&n.viewerComponent===this&&n.hide(),t.prototype.unActive.call(this,e)},i.remove=function(){return t.prototype.remove.call(this),this.dependences.pdfViewer.unActiveElement(this),this.destroy(),this.graphicsObject.remove()},i.destroy=function(){this.contextmenu&&this.contextmenu.destroy(),this.propertiesControl&&this.propertiesControl.close(),this.propertiesControl=null,this.rectHammer&&this.rectHammer.destroy(),t.prototype.destroy.call(this)},n}(v);const $=(t,e)=>{let n=t.getBoundingClientRect();const r=e.srcEvent,i=k(r),o=U(r);return{x:i-n.left-e.deltaX,y:o-n.top-e.deltaY}};let V=r.Deps.jQuery,G=r.Events,W=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype._resize=function(e,n,r){this.enableUniform="north"!=e&&"south"!=e&&"east"!=e&&"west"!=e,t.prototype._resize.call(this,e,n,r)},n}(r.ShapeControl),X=function(t){function n(e,n,r){return t.call(this,e,n,r)||this}e(n,t);var i=n.prototype;return i.initUI=function(){let t=this,e=this.$handler=V('<div class="fwr__graphics-object-handler" \n        ></div>');return this.pageRender.pageHandler.$handler.append(e),e.get(0).__graphics_object_component=this,this.shapeControl=new W({prestart:()=>this.onPrestart(),start:(t,e,n)=>this.onStartUpdateShape(t,e,n),moving:(t,e,{offsetX:n,offsetY:r})=>this.onShapeMoving(t,e,n,r),update:(t,e)=>this.onShapeUpdating(t,e),beforeRotateStart:()=>this.onBeforeRotateStart(),rotateEnd:(t,e,n,r)=>this.onRotate(t),afterRotateEnd:()=>this.onAfterRotateEnd(),rotateStart:()=>this.onRotateStart(),end:(t,e,n,r)=>this.onShapeUpdateEnd(t,e,n,r),afterEnd:t=>this.onAfterShapeCtrlEnd(t),resizable:!0,rotatable:!0,enableDiagonally:!0,enableFrame:!0,enableUniform:!0,previewer:!0,enableSizeBox:!0}),this.dependences.pdfViewer.eventEmitter.on(G.zoomToSuccess,this.afterZoom=function(){t.updateShapeControl()}),this.$handler},i.onBeforeRotateStart=function(){this.dependences.pdfViewer.getAllActiveElements().forEach((t=>{t!==this&&t instanceof n&&this.shapeControl.companion(t.shapeControl)}))},i.onAfterRotateEnd=function(){this.shapeControl.rotateDegree=0,this.shapeControl.companions.forEach((t=>t.rotateDegree=0)),this.shapeControl.clearCompanions()},i.onRotate=function(t){return this.pageRender.$handler.get(0).classList.remove("fv__cursor-rotation"),this.graphicsObject.setRotation(t).then((t=>{this.updateShapeControl()}))},i.updateShapeControl=function(){t.prototype.updateShapeControl.call(this),this.shapeControl.ui.style.transform=""},i.onRotateStart=function(){this.pageRender.$handler.get(0).classList.add("fv__cursor-rotation")},i.getContextMenuConfig=function(){return{selector:"div.fv__shape-control",items:{properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:(t,e,n)=>{this.showPropertiesDialog(n)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:()=>{const t=this.dependences.pdfViewer;t.getAllActiveElements().forEach((t=>{t.remove&&t.remove()}));if(0===t.getAllActiveElements().length){const e=t.getCurrentActivatable();e&&t.unActiveElement(e)}}}}}},i.getContextMenuComponentName=function(){return"fv--image-graphics-object-contextmenu"},i.getPropertyOptions=function(){return{opacity:this.graphicsObject.getOpacity(),borderStyle:!1}},i.showPropertiesDialog=function(t){let e=this.dependences.pdfViewer.activePropertiesDialog;this.dependences.pdfViewer.activePropertiesDialog?(e.show(t),e.setViewerComponent(this),this.activePropertiesDialog=e):this.$propertiesControl=new r.PropertiesControl(this)},i.hidePropertiesDialog=function(){this.$propertiesControl&&this.$propertiesControl.close()},i.destroy=function(){this.contextmenu&&this.contextmenu.destroy(),this.dependences.pdfViewer.eventEmitter.off(G.zoomToSuccess,this.afterZoom),t.prototype.destroy.call(this)},i.setOpacity=function(t){this.graphicsObject.setOpacity(t)},i.remove=function(){t.prototype.remove.call(this),this.graphicsObject.remove(),this.dependences.pdfViewer.unActiveElement(this),this.destroy()},i.unActive=function(e){let n=this.activePropertiesDialog;n&&n.viewerComponent===this&&n.hide(),t.prototype.unActive.call(this,e)},n}(v),q=function(){function t(){this.matchRules=[]}var e=t.prototype;return e.registerMatchRule=function(t){return this.matchRules.push(t),t},e.unRegisterMatchRule=function(t){let e=this.matchRules.indexOf(t);-1!==e&&this.matchRules.splice(e,1)},e.get=function(t){let e=this.matchRules,n=this.getDefault(t);for(let r=e.length;r--;){let i=e[r];if("function"!=typeof i)continue;let o=i(t,n);if(o)return o}return n},e.getDefault=function(t){switch(t.getType()){case 1:return N;case 2:return M;case 3:return X;default:return v}},t}();const{Hammer:z}=r.Deps;function Y(t,n){const i=t.graphicsManager;let o=["","text","path","image","shading","all"][n],s=o?["fv__edit-",o,"-state-handler"].join(""):"";return s+=" fv__edit-graphics-state-handler",function(r){function a(t){return r.call(this,t)||this}e(a,r),a.getStateName=function(){return"edit-"+o};var c=a.prototype;return c.pageHandler=function(e){this.pageRender=e;let r=e.getPDFPage(),o=e.$handler,a=o[0];o.addClass(s),(this.hammer=new z(a)).on("tap",(o=>{if(-1!=o.target.className.indexOf("fv__shape-control-move-area"))return Promise.resolve();this.resetHandler();let s=K(a,o);r.then((t=>[t,t.reverseDevicePoint([s.x,s.y],e.getScale(),e.getRotation())])).then((([t,[e,r]])=>5===n?t.getGraphicsObjectAtPoint([e,r],5,0):t.getGraphicsObjectAtPoint([e,r],3,n))).then((t=>!t||t.type<1||t.type>3?Promise.reject():[i.get(t),t])).then((([n,r])=>new n(r,e,t))).then((t=>(this.currentComponent=t,t.active()))).catch((t=>{t&&console.error(t),this.currentComponent=null,this.pdfViewer.activeElement()}))}))},c.destroyPageHandler=function(){this.unregisterKeyEvent&&this.unregisterKeyEvent(),this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(s),this.resetHandler()},c.out=function(){this.destroyPageHandler()},c.resetHandler=function(){this.currentComponent&&(this.currentComponent.textCharSure&&this.currentComponent.textCharSure(),this.currentComponent.unActive())},a}(r.IStateHandler)}const K=(t,e)=>{let n=t.getBoundingClientRect(),r=e.srcEvent;const i=k(r),o=U(r);return{x:i-n.left-e.deltaX,y:o-n.top-e.deltaY}},{Hammer:Q}=r.Deps;let J=function(){function t(){}return t.pointsToRect=function(t,e,n){let r=t.x>e.x?e.x:t.x,i=t.x<e.x?e.x:t.x,o=t.y>e.y?e.y:t.y,s=t.y<e.y?e.y:t.y;if(n){let t=o;o=s,s=t,o-s<1&&(o=s+1,s-=1)}else s-o<1&&(s=o+1,o-=1);return i-r<1&&(i=r+1,r-=1),{left:r-2,top:s+1,right:i+2,bottom:o-1}},t.generatePoints=function(e,n,r){let{x:i,y:o}=e,{x:s,y:a}=n,c=s-i,u=a-o;switch(r){case"line":return t.genLinePoints(i,o,c,u);case"square":return t.genSquarePoints(i,o,c,u);case"circle":return t.genOvalPoints(i,o,c,u);case"roundRect":return t.genRoundRectPoints(i,o,c,u)}},t.genLinePoints=function(t,e,n,r){let i=[];return i.push(["m",t,e]),i.push(["l",t+n,e+r]),i},t.genOvalPoints=function(t,e,n,r){let i=[];return i.push(["m",t+n/2,e]),i=i.concat(Z(t+n/2,e,n/2,r/2,1)),i=i.concat(Z(t+n,e+r/2,-n/2,r/2,0)),i=i.concat(Z(t+n/2,e+r,-n/2,-r/2,1)),i=i.concat(Z(t,e+r/2,n/2,-r/2,0)),i.push(["h",i[0][1],i[0][2]]),i},t.genRoundRectPoints=function(t,e,n,r){let i=[],o=.2*n,s=.2*r,a=.8*n,c=.8*r;return i.push(["m",t+o,e]),i.push(["l",t+a,e]),i=i.concat(Z(t+a,e,o,s,1)),i.push(["l",t+n,e+c]),i=i.concat(Z(t+n,e+c,-o,s,0)),i.push(["l",t+o,e+r]),i=i.concat(Z(t+o,e+r,-o,-s,1)),i.push(["l",t,e+s]),i=i.concat(Z(t,e+s,o,-s,0)),i.push(["l",i[0][1],i[0][2]]),i.push(["h"]),i},t.genSquarePoints=function(t,e,n,r){let i=[];return i.push(["m",t,e]),i.push(["l",t+n,e]),i.push(["l",t+n,e+r]),i.push(["l",t,e+r]),i.push(["h",t,e]),i},t}();function Z(t,e,n,r,i){let o=[],s=.5522847498308;return i?(o.push(["c",t+s*n,e]),o.push(["c",t+n,e+s*r]),o.push(["c",t+n,e+r])):(o.push(["c",t,e+s*r]),o.push(["c",t+s*n,e+r]),o.push(["c",t+n,e+r])),o}let tt=r.Deps.jQuery;const{Hammer:et}=r.Deps,nt=r.IStateHandler;let rt=function(){this.addon=null,this.pathType=0,this.canAdd=!1},it=function(t){function n(e){var n;return(n=t.call(this,e)||this).destroyHooks=[],n}e(n,t);var r=n.prototype;return r.addDestroyHook=function(...t){var e;(e=this.destroyHooks).push.apply(e,t)},r.addEventTo=function(t,e,n){return t.on(e,n),()=>{t.off(e,n)}},n.setAddon=function(t,e=(t?t.pdfViewer:null)){if(e){e.getIoC().getInstanceByClass(rt).addon=t}},n.getStateName=function(){return"add-path-object"},n.setPathType=function(t,e=0){t.getIoC().getInstanceByClass(rt).pathType=e},r.pageHandler=function(t){this.pageRender=t;const e=t.pdfViewer.getIoC().getInstanceByClass(rt);let n=t.$handler;n.addClass("fv__create-callout-state-handler "+this.cursorStyle),this.shapeDom=(t=>{let e=t.find(".fv__add-path-preview");return 0==e.length&&(e=tt('<canvas class="fv__add-path-preview" style="position: absolute;display:none"></canvas>'),t.append(e)),e})(n);let r,i,o=n[0],s=this.hammer=new et.Manager(o,{recognizers:[[et.Pan,{direction:et.DIRECTION_ALL}]]});const a=t=>{e.canAdd=-1!=t.target.className.indexOf("fv__pdf-page-handler-container")};this.addDestroyHook(this.addEventTo(n,"mousedown",a),this.addEventTo(n,"touchstart",a),(()=>{s.destroy()})),s.on("panstart",(t=>{e.canAdd&&(r=ot(o,t))})).on("panend",(n=>{if(!r)return;i={x:r.x+n.deltaX,y:r.y+n.deltaY};let o=this.pageRender.page.reverseDevicePoint([r.x,r.y],this.pageRender.getScale(),this.pageRender.getRotation()),s=this.pageRender.page.reverseDevicePoint([i.x,i.y],this.pageRender.getScale(),this.pageRender.getRotation()),a={x:o[0],y:o[1]},c={x:s[0],y:s[1]},u=J.generatePoints(a,c,e.pathType),l=J.pointsToRect(a,c);this.pageRender.page.addGraphicsObject({type:2,points:u,rect:l}).then((t=>(r=null,this.shapeDom.hide(),t))).then((t=>t?[e.addon.graphicsManager.get(t),t]:Promise.reject(new Error("Graphics object was not created!")))).then((([n,r])=>new n(r,t,e.addon))).then((t=>{this.currentComponet=t,this.pdfViewer.activeElement(t)})).catch((t=>{throw this.currentComponet=null,this.pdfViewer.activeElement(),t}))})).on("panmove",(t=>{if(r){i={x:r.x+t.deltaX,y:r.y+t.deltaY};let n=J.pointsToRect(r,i,!0);((t,e,n)=>{let r=n[0],i=r.getContext("2d");i.clearRect(0,0,n.width(),n.height()),r.width=e.right-e.left+4,r.height=e.bottom-e.top+4,i.clearRect(0,0,n.width(),n.height()),i.beginPath(),i.lineWidth=2,i.strokeStyle="#5aa",i.transform(1,0,0,1,2-e.left,2-e.top);for(var o=[],s=0;s<t.length;s++)switch(t[s][0]){case"m":i.moveTo(t[s][1],t[s][2]);break;case"l":i.lineTo(t[s][1],t[s][2]);break;case"c":o.push(t[s][1],t[s][2]),6===o.length&&(i.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]),o=[]);break;case"h":4===o.length?(i.bezierCurveTo(o[0],o[1],o[2],o[3],t[s][1],t[s][2]),o=[]):i.lineTo(t[s][1],t[s][2]),i.closePath()}i.stroke(),n.css({left:e.left,top:e.top}).show()})(J.generatePoints(r,i,e.pathType),n,this.shapeDom)}}))},r.destroyPageHandler=function(){this.destroyHooks.forEach((t=>t())),this.resetHandler()},r.out=function(){this.destroyPageHandler()},r.resetHandler=function(){this.currentComponet&&this.currentComponet.destroy()},n}(nt);const ot=(t,e)=>{let n=t.getBoundingClientRect(),r=e.srcEvent;const i=k(r),o=U(r);return{x:i-n.left-e.deltaX,y:o-n.top-e.deltaY}},st=r.Deps.jQuery,at=r.IStateHandler,ct=r.Events;let ut=function(){this.addon=null},lt=function(t){function n(e){return t.call(this,e)||this}e(n,t),n.setAddon=function(t,e=(t?t.pdfViewer:null)){if(e){e.getIoC().getInstanceByClass(ut).addon=t}},n.getStateName=function(){return"add-image-object"};var r=n.prototype;return r.pageHandler=function(t){let e=this;this.pageRender=t;const n=this.pdfViewer.getIoC().getInstanceByClass(ut);let r,i,o=this.$handler=t.$handler,s=o[0],a=this.hammer=new Hammer.Manager(s,{recognizers:[[Hammer.Tap],[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});function c(){return i||(i=st('<img style="position: absolute;top:200%;left:0;border:2px solid transparent;" src="'+r+'"/>'),o.append(i),i)}this.pdfViewer.eventEmitter.on(ct.addEditImage,this.loadFile=t=>{r=t}),o.off("mouseenter").on("mouseenter",(t=>{r&&c().show()})),o.off("mousemove mousewheel").on("mousemove mousewheel",(t=>{if(!r)return;let e=s.getBoundingClientRect(),n=t.clientX-e.left,i=t.clientY-e.top;c().css({top:i,left:n})})),o.off("mouseleave").on("mouseleave",(t=>{r&&c().hide()}));let u=!0;a.on("tap",(i=>{if(!u)return;if(u=!1,!r)return;let o={},a=ht(s,i),l=c(),h=l.width(),p=l.height();t.getPDFPage().then((i=>{const s=t.getRotation();let c=3*h/i.getPxWidth(),f=3*p/i.getPxHeight();if(c>1||f>1){let t=Math.max(c,f);t>1&&(t=1/t),h*=t,p*=t}if(90===s||270===s){const t=h;h=p,p=t}var d;o.top=a.y,o.left=a.x,o.right=o.left+h,o.bottom=o.top+p,(d=r,new Promise((function(t,e){let n=new XMLHttpRequest;n.open("GET",d),n.responseType="arraybuffer",n.onreadystatechange=function(){4===n.readyState&&(n.status>=200&&n.status<300||304===n.status?t(n.response):e())},n.onerror=function(){e()},n.send()}))).then((r=>{let a=i.reverseDeviceRect(o,t.getScale(),s);i.addImage(r,a,s).then((e=>{if(!e)return this.pdfViewer.getStateHandlerManager().switchTo("edit-all"),l.remove(),this.currentComponet=null,void this.pdfViewer.activeElement();let r=new(n.addon.graphicsManager.get(e))(e,t,n.addon);this.pdfViewer.getStateHandlerManager().switchTo("edit-all"),this.currentComponet=r,l.remove(),u=!0,this.pdfViewer.activeElement(r)})).catch((t=>{t&&console.error(t),e.currentComponet=null,e.pdfViewer.activeElement()}))}))}))}))},r.destroyPageHandler=function(){this.$handler.off("mousemove mousewheel mouseleave"),this.$handler.empty(),this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.pdfViewer.eventEmitter.off(ct.addEditImage,this.loadFile)},r.out=function(){this.destroyPageHandler()},n}(at);const ht=(t,e)=>{let n=t.getBoundingClientRect(),r=e.srcEvent;const i=k(r),o=U(r);return{x:i-n.left-e.deltaX,y:o-n.top-e.deltaY}};let pt="fv__add-text-object-state-handler";const{Hammer:ft}=r.Deps;var dt;!function(t){t[t.ALL=0]="ALL",t[t.TEXT=1]="TEXT",t[t.PATH=2]="PATH",t[t.IMAGE=3]="IMAGE",t[t.SHADING=4]="SHADING",t[t.FORM_X_OBJECT=5]="FORM_X_OBJECT"}(dt||(dt={}));const{Selections:gt,SelectionEventType:vt,createAreaLimitationReducer:mt,BorderStyle:yt}=r.shared.areaSelections,{Hammer:Et}=r.Deps,{ActivationGroup:bt}=r.shared.activation,_t=r.shared.keyboardStatus,At=r.shared.QueuedAsyncTaskExecutor,Ct={};function Tt(t){const n=t.graphicsManager,i="fv__edit-all-state-handler fv__edit-graphics-state-handler";return function(o){function a(t){var e;return(e=o.call(this,t)||this).destroyHooks=[],e}e(a,o),a.getStateName=function(){return"edit-all"};var c=a.prototype;return c.pageHandler=function(e){let o=new bt;this.pageRender=e;let a=e.getPDFPage(),c=e.$handler,u=c[0];c.addClass(i);const l=new At;this.selections=new gt({anchorElement:u,borderStyle:yt.DOTTED}),this.selections.reducer(mt(u)),this.selections.reducer((function(t){if(void 0===t)return;const e=u.getBoundingClientRect();return s({left:t.clientLeft-e.left,top:t.clientTop-e.top},t)})),this.selections.eventInterceptor((t=>t.target===u));let h=!1;this.selections.eventInterceptor((t=>h));const p=t=>{h=t.target===u};u.addEventListener("mousedown",p),u.addEventListener("touchstart",p),this.destroyHooks.push((()=>{u.removeEventListener("mousedown",p),u.removeEventListener("touchstart",p)})),this.selections.on(vt.END,(i=>{l.exec((()=>a.then((s=>{let a=this.pageRender.scale,c=this.pageRender.getRotation();const u=s.reverseDeviceRect({left:i.left,right:i.left+i.width,top:i.top,bottom:i.top+i.height},a,c);let l=Math.min(2/this.pageRender.scale,2);return s.getGraphicsObjectsInRect(u,l,dt.ALL).then((i=>{!i||i.length<1||(d()||o.clear(),this.pdfViewer.activeElement(o),i.forEach((r=>{let i=r.getRect();if(i.right-i.left<1||i.top-i.bottom<1)return;const s=new(n.get(r))(r,e,t);o.add(s)})),this.pdfViewer.eventEmitter.emit(r.Events.activeElementChanged))}))}))))}));let f=this.hammer=new Et(u);f.on("tap",(i=>{this.resetHandler();let s=function(t,e){let n=t.getBoundingClientRect(),r=e.srcEvent;const i=k(r),o=U(r);return{x:i-n.left-e.deltaX,y:o-n.top-e.deltaY}}(u,i);a.then((t=>[t,t.reverseDevicePoint([s.x,s.y],e.getScale(),e.getRotation())])).then((([t,[e,n]])=>t.getGraphicsObjectAtPoint([e,n],5,0))).then((t=>t?t.type<1||t.type>3?Promise.reject():[n.get(t),t]:Promise.reject(Ct))).then((([n,r])=>new n(r,e,t))).then((t=>{if(this.currentComponent=t,d()){const t=i.target.closest(".fwr__graphics-object-handler");if(t){const e=o.activations.find((e=>!!e.$handler&&e.$handler.get(0)===t));if(e)return o.remove(e),void this.pdfViewer.activeElement(o)}}else o.clear();o.add(t),this.pdfViewer.activeElement(o),this.pdfViewer.eventEmitter.emit(r.Events.tapGraphicsObject,t.getGraphicsObject())})).catch((t=>{t===Ct&&d()||(t!==Ct&&t&&console.error(t),this.currentComponent=null,this.pdfViewer.activeElement())}))})),this.destroyHooks.push((()=>f.destroy()),(()=>this.selections.destroy()),(()=>{o.clear(),this.pdfViewer.unActiveElement(o)}));const d=()=>!!this.pdfViewer.isShortcutKeyEnabled()&&(r.DeviceInfo.isMac?_t.isWin:_t.isCtrl)},c.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.destroyHooks.forEach((t=>t())),this.pageRender.$handler.removeClass(i),this.resetHandler(),this.pageRender=null,this.destroyHooks=null},c.out=function(){this.destroyPageHandler()},c.resetHandler=function(){this.currentComponent&&this.currentComponent.textCharSure&&this.currentComponent.textCharSure()},a}(r.IStateHandler)}let xt=function(){function t(t){this.pdfViewer=t,this.graphicsManager=new q,this.pdfViewer.addon=this}var n=t.prototype;return n.init=function(){let t=function(t){const n=t.graphicsManager;let i="text",o=i?["fv__edit-",i,"-state-handler"].join(""):"";return o+=" fv__edit-graphics-state-handler",function(r){function s(t){return r.call(this,t)||this}e(s,r),s.getStateName=function(){return"edit-"+i};var a=s.prototype;return a.pageHandler=function(e){this.pageRender=e;let r=e.$handler,i=r[0];r.addClass(o);let s=this.hammer=new Q.Manager(i,{recognizers:[[Q.Pan,{direction:Q.DIRECTION_ALL}]]});s.add(new Q.Tap({event:"doubletap",taps:2})),s.add(new Q.Tap({event:"singletap"})),s.get("doubletap").recognizeWith("singletap"),s.get("singletap").requireFailure("doubletap"),s.on("singletap",(r=>{this.resetHandler();let i=r.changedPointers[0];e.getPDFPage().then((t=>[t,t.reverseDevicePoint([i.offsetX,i.offsetY],e.getScale(),e.getRotation())])).then((([t,[e,n]])=>t.getGraphicsObjectAtPoint([e,n],3,1))).then((t=>t?[n.get(t),t]:Promise.reject(new Error(`Text object not found at this position: [${i.offsetX}, ${i.offsetY}]`)))).then((([n,r])=>new n(r,e,t))).then((t=>(this.currentComponet=t,t.active()))).catch((t=>{t&&console.error(t),this.currentComponet=null,this.pdfViewer.activeElement()}))})),s.on("doubletap",(r=>{this.resetHandler();let i=r.changedPointers[0];e.getPDFPage().then((t=>[t,t.reverseDevicePoint([i.offsetX,i.offsetY],e.getScale(),e.getRotation())])).then((([t,[e,n]])=>t.getGraphicsObjectAtPoint([e,n],3,1))).then((t=>t?[n.get(t),t]:Promise.reject(new Error(`Text object not found at this position: [${i.offsetX}, ${i.offsetY}]`)))).then((([n,r])=>new n(r,e,t))).then((t=>(this.currentComponet=t,t.activeCharEdit()))).catch((t=>{t&&console.error(t),this.currentComponet=null,this.pdfViewer.activeElement()}))}))},a.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(o),this.resetHandler()},a.out=function(){this.destroyPageHandler()},a.resetHandler=function(){this.currentComponet&&(this.currentComponet.textCharSure&&this.currentComponet.textCharSure(),this.currentComponet.unActive())},s}(r.IStateHandler)}(this),n=Y(this,2),i=Y(this,3),o=Tt(this),a=function(t){const n=t.graphicsManager;let i=function(){function t(){this.currentEditingGraphicComponent=null}t.inject=function(){return{pdfViewer:r.PDFViewer}};var e=t.prototype;return e.allInjected=function(){this.pdfViewer.eventEmitter.on(r.ViewerEvents.willCloseDocument,(()=>{this.currentEditingGraphicComponent&&this.currentEditingGraphicComponent.isActive&&this.currentEditingGraphicComponent.unActive(),this.currentEditingGraphicComponent=null}))},e.applyCurrent=function(){const t=this.currentEditingGraphicComponent;t&&(t.textCharSure&&t.textCharSure(),t.unActive(),this.currentEditingGraphicComponent=null)},t}();return function(o){function a(t){var e;return(e=o.call(this,t)||this).service=t.getIoC().getInstanceByClass(i),e}e(a,o),a.getStateName=function(){return"add-text-object"};var c=a.prototype;return c.pageHandler=function(e){this.pageRender=e;let i=e.getPDFPage(),o=e.$handler,a=o[0];o.addClass(pt),(this.hammer=new ft(a)).on("tap",(o=>{this.resetHandler();let a=o.changedPointers[0];i.then((t=>[t,t.reverseDevicePoint([a.offsetX,a.offsetY],e.getScale(),e.getRotation())])).then((([t,[n,i]])=>{let o=t.getRotationAngle(),a=new r.Matrix;a.rotate((o+e.getRotation())/180*Math.PI),a.translate(n,i);let c=this.pdfViewer.store.getCurrentValue("add-text-object-param-transfer");return t.addGraphicsObject(s({},c,{originPosition:{x:n,y:i}},{type:1,matrix:a.toArray()}))})).then((t=>t?[n.get(t),t]:Promise.reject(new Error("Graphics object was not created!")))).then((([n,r])=>new n(r,e,t))).then((t=>(this.service.currentEditingGraphicComponent=t,this.currentGraphicComponent=t,t.activeCharEdit()))).catch((t=>{t&&console.error(t),this.service.currentEditingGraphicComponent=null,this.currentGraphicComponent=null,this.pdfViewer.activeElement()}))}))},c.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(pt),this.pdfViewer.getEventEmitter().off(m.addTextObjectParamTransfer,this.addTextObjectParamTransferBind),this.resetHandler()},c.out=function(){this.destroyPageHandler()},c.resetHandler=function(){this.service.currentEditingGraphicComponent&&this.service.applyCurrent()},a}(r.IStateHandler)}(this),c=this.pdfViewer.getStateHandlerManager();[t,n,i,o,it,a,lt].forEach((t=>{t.setAddon&&t.setAddon(this),c.register(t)})),this.pdfViewer.addDestroyHook((()=>{it.setAddon(null,this.pdfViewer),lt.setAddon(null,this.pdfViewer)}))},n.getGraphicsManager=function(){return this.graphicsManager},t}();var St=i(5485),wt=i.n(St);const Rt=0,Pt=1,Ot={0:"None",1:"Square",2:"Circle",3:"Diamond",4:"OpenArrow",5:"ClosedArrow",6:"Butt",7:"ROpenArrow",8:"RClosedArrow",9:"Slash"};Object.keys(Ot).reduce(((t,e)=>(t[Ot[e]]=Number(e),t)),{}),Promise.resolve();let Dt=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.getName=function(){return"MoveFrontGraphicsObjectController"},n.prototype.handle=function(t){if(!this.getPDFUI().checkAppSignIn())return;const e=this.component.parent.getCurrentTarget();e.moveToPosition&&e.moveToPosition(Rt,null)},n}(n.Controller),Lt=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.getName=function(){return"MoveBackGraphicsObjectController"},n.prototype.handle=function(t){if(!this.getPDFUI().checkAppSignIn())return;const e=this.component.parent.getCurrentTarget();e.moveToPosition&&e.moveToPosition(Pt,null)},n}(n.Controller),jt=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"ShowGraphicsObjectPropertiesController"};var r=n.prototype;return r.initDialog=function(){let t="fv--graphics-object-properties-dialog";this.pdfUI.registerDialog(t,(e=>this[t]?Promise.resolve(this[t]):this.pdfUI.getComponentByName("template-container").then((e=>this[t]=e.append("<edit-graphics:graphic-object-properties-dialog></edit-graphics:graphic-object-properties-dialog>")))))},r.handle=function(t){this.getPDFUI().checkAppSignIn()&&(this.isInitDialog||(this.initDialog(),this.isInitDialog=!0),this.pdfUI.openDialog("fv--graphics-object-properties-dialog").then((e=>{e.showAt(t.pageX,t.pageY)})))},n}(n.Controller),It=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.getName=function(){return"DeleteGraphicsObjectController"},n.prototype.handle=function(){if(!this.getPDFUI().checkAppSignIn())return;const t=this.component.parent.getCurrentTarget();t.remove&&t.remove()},n}(n.Controller),Ht=function(t){function r(){return t.apply(this,arguments)||this}return e(r,t),r.getName=function(){return"check-activates"},r.prototype.init=function(e){t.prototype.init.call(this,e);const r=e.getPDFUI();r.getPDFViewer().then((t=>{this.addDestroyHook(r.addViewerEventListener(n.PDFViewCtrl.Events.activeElementChanged,(()=>{t.getAllActivatedElements().some((t=>t.graphicsObject&&1===t.graphicsObject.info.type))?e.deactive():e.active()})))}))},r}(n.Directive);var Nt=i(105),kt=i.n(Nt);i(5137);const Ut=n.PDFViewCtrl.shared.colorConvertor,Bt={},Ft=[[],[2,2,2,2],[3,3,3,3],[4,4,4,4],[4,3,2,3],[8,4,4,4],[4,3,16,3]];let Mt=function(){function t(){}var e=t.prototype;return e.getMergedPropertiesOfActivateElements=function(t){const e=t.filter((t=>!!t.graphicsObject)).map((t=>{switch(t.graphicsObject.info.type){case 3:return this.exportImageProperties(t);case 2:return this.exportPathProperties(t)}})).filter(Boolean);return this.mergeAllProperties(e)},e.mergeAllProperties=function(t){if(0===t.length)return{isEmpty:!0};const e=t.map((t=>Object.keys(t)));return e.sort(((t,e)=>t.length>e.length?1:-1)),e[0].reduce(((e,n)=>(e[n]=function(e){const n=t[0][e];if(t.slice(1).some((t=>t[e]!==n)))return Bt;return n}(n),e)),{})},e.exportImageProperties=function(t){const{opacity:e}=t.getPropertyOptions();return{opacity:100*e}},e.exportPathProperties=function(t){const e=t.graphicsObject,{color:n,opacity:r,fillColor:i,borderWidth:o}=t.getPropertyOptions();return{borderWidth:o,borderStyle:function(t){const e=t.getBorderStyle();let n=0;const r=t.getBorderDashes();if(1==e&&r.length>0){const t=Math.max.apply(Math,r),e=Math.min.apply(Math,r);n=e==t?e>3?3:e>2?2:e<2||2==e?1:3:t>8?6:t>4?5:4}return n}(e),borderColor:n,fillColor:0===i?0:Ut(i,"#"),opacity:100*r}},e.applyOpacityChange=function(t,e){t!==e.graphicsObject.getOpacity()&&e.setOpacity(t)},e.applyBorderWidthChange=function(t,e){t!==e.graphicsObject.getBorderWidth()&&e.setBorderWidth(t)},e.applyBorderColorChange=function(t,e){const n=0===t?0:Ut(t,"int");n!==e.graphicsObject.getBorderColor()&&e.setColor(n)},e.applyFillColorChange=function(t,e){const n=0==t?0:Ut(t,"int");n!==e.graphicsObject.getFillColor()&&e.setFillColor(n)},e.applyBorderStyleChange=function(t,e){const[n,r]=[0===(i=t)?0:1,Ft[i]];var i;e.setBorderStyle(n,r)},e.isAllSame=function(t,e){return t[e]!==Bt},t}();const $t=n.PDFViewCtrl,Vt=$t.DeviceInfo.isMobile,Gt=$t.ViewerEvents,{matchers:Wt}=n.PDFViewCtrl.keyboard.KeyboardUtils,{Escape:Xt}=Wt,{attachKeypressEvent:qt}=$t._internal.shared;let zt=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"graphic-object-properties-dialog"},n.services=function(){return{graphicsObjectService:Mt}};var r=n.prototype;return r.init=function(){t.prototype.init.call(this),this.title="ega:graphics-properties.dialog.title",this.properties={},this.digest()},r.mounted=function(){t.prototype.mounted.call(this);const e=this.getPDFUI(),n=this.graphicsObjectService;this.addDestroyHook(e.addViewerEventListener(Gt.activeElementChanged,(()=>{this.isVisible&&this.updateActivatedElements()})),this.watchProperty("fillColor",(t=>{const e="string"==typeof t?t:"transparent";this.fillColorMaskElement.style.backgroundColor=e,"object"!=typeof t&&void 0!==t&&this.forEachGraphicObject((e=>{n.applyFillColorChange(t,e)}))})),this.watchProperty("borderColor",(t=>{const e="string"==typeof t?t:"transparent";this.borderColorMaskElement.style.backgroundColor=e,"object"!=typeof t&&void 0!==t&&this.forEachGraphicObject((e=>{n.applyBorderColorChange(t,e)}))})),this.watchProperty("opacity",(t=>{"object"!=typeof t&&void 0!==t&&this.forEachGraphicObject((e=>{n.applyOpacityChange(t/100,e)}))})),this.watchProperty("borderWidth",(t=>{"object"!=typeof t&&void 0!==t&&this.forEachGraphicObject((e=>{n.applyBorderWidthChange(t,e)}))})),this.watchProperty("borderStyle",(t=>{"object"!=typeof t&&void 0!==t&&this.forEachGraphicObject((e=>{n.applyBorderStyleChange(t,e)}))})),qt(this.element,(t=>{this.hide(),t.stopPropagation()}),Xt))},r.watchProperty=function(t,e){return this.watch(`$component.properties.${t}`,(n=>{this.supportsProperty(t)&&e(n)}))},r.supportsProperty=function(t,e=this.properties){return t in e},r.forEachGraphicObject=function(t){return this.getPDFUI().getAllActivatedElements().then((e=>{e.forEach((e=>{e.graphicsObject&&t(e)}))}))},r.showAt=function(e,n){t.prototype.show.call(this),this.updateActivatedElements(),Vt||this.resetPosition(e,n)},r.resetPosition=function(t,e){const n=this.getRoot().element,r=this.element,i=r.offsetWidth,o=r.offsetHeight;t+i>n.offsetWidth?r.style.left=n.offsetWidth-i+"px":r.style.left=t+"px",e+o>n.offsetHeight?r.style.top=n.offsetHeight-o+"px":r.style.top=e+"px"},r.updateActivatedElements=function(){this.getPDFUI().getAllActivatedElements().then((t=>{const e=this.graphicsObjectService.getMergedPropertiesOfActivateElements(t);if(e.isEmpty)return void this.hide();const n=Array.from(new Set(t.filter((t=>!!t.graphicsObject)).map((t=>t.graphicsObject.getType()))));if(1!==n.length)this.title="ega:graphics-properties.dialog.title";else{switch(n[0]){case 2:this.title="ega:graphics-properties.dialog.path-title";break;case 3:this.title="ega:graphics-properties.dialog.image-title"}}this.correctPropertyKeys=Object.keys(e),this.properties=e,this.digest(),this.updateUIByProperties(e)}))},r.updateUIByProperties=function(t){this.updateBorderWidthUI(t),this.updateBorderStyleUI(t),this.updateBorderColorUI(t),this.updateFillColorUI(t),this.updateOpacityUI(t)},r.updateBorderWidthUI=function(t){this.supportsProperty("borderWidth",t)?(this.borderWidthFieldset.show(),this.graphicsObjectService.isAllSame(t,"borderWidth")||(this.borderWidthElement.element.value="")):this.borderWidthFieldset.hide()},r.updateBorderStyleUI=function(t){if(this.supportsProperty("borderStyle",t))if(this.borderStyleFieldset.show(),this.graphicsObjectService.isAllSame(t,"borderStyle"))this.borderStyleChoice.setValue(t.borderStyle);else{this.borderStyleChoice.element.querySelector(".fv__ui-select-lable").className="fv__ui-select-lable"}else this.borderStyleFieldset.hide()},r.updateBorderColorUI=function(t){this.supportsProperty("borderColor",t)?(this.borderColorFieldset.show(),this.graphicsObjectService.isAllSame(t,"borderColor")||(this.borderColorMaskElement.style.backgroundColor="transparent")):this.borderColorFieldset.hide()},r.updateFillColorUI=function(t){this.supportsProperty("fillColor",t)?(this.fillColorFieldset.show(),this.graphicsObjectService.isAllSame(t,"fillColor")||(this.fillColorMaskElement.style.backgroundColor="transparent")):this.fillColorFieldset.hide()},r.updateOpacityUI=function(t){this.supportsProperty("opacity",t)?(this.opacityInputFieldset.show(),this.opacitySlider.show(),this.graphicsObjectService.isAllSame(t,"opacity")||(this.opacityInput.element.value="")):(this.opacityInputFieldset.hide(),this.opacitySlider.hide())},r.toggleLock=function(t){t?this.appearanceTabBody.lock():this.appearanceTabBody.unlock()},r.borderStyleChanged=function(t){this.properties.borderStyle=t,this.digest()},r.showColorPicker=function(t,e){const n=this.getPDFUI().colorSpectrum;switch(t){case"fillColor":let t=this.properties.fillColor;"object"==typeof t&&(t=0),n.showTransparent(!0).setDefaultColor(t),n.show(e.element,(t=>{this.properties.fillColor=t,this.digest()}));break;case"borderColor":let r=this.properties.borderColor;"object"==typeof r&&(r=0),n.showTransparent(!0).setDefaultColor(r),n.show(e.element,(t=>{this.properties.borderColor=t,this.digest()}))}},n}(n.SeniorComponentFactory.createSuperClass({template:kt()(),fragments:[{target:"graphics-property-borderStyle",config:{iconclass:"fv__ui-property-icon-border-style",noOptionLable:!0,selectorClass:"fv__ui-border-style-selector",options:Array(7).fill(0).map(((t,e)=>({value:e,class:"fv__ui-line-style-"+e})))}}]})),Yt=function(t){function r(){return t.apply(this,arguments)||this}e(r,t),r.getName=function(){return"edit-graphics"},r.getLoader=function(){return wt()},r.initOnLoad=function(){const t=n.modular.module("edit-graphics",[]);t.registerController(jt),t.registerController(Dt),t.registerController(Lt),t.registerController(It),t.registerComponent(zt),t.getRegistry().registerDirective(Ht),t.registerPreConfiguredComponent("contextmenu-item-properties",{template:'<contextmenu-item @controller="edit-graphics:ShowGraphicsObjectPropertiesController">ega:contextmenu.properties</contextmenu-item>'}),t.registerPreConfiguredComponent("contextmenu-item-set-to-front",{template:'<contextmenu-item @controller="edit-graphics:MoveFrontGraphicsObjectController">ega:contextmenu.set-to-front</contextmenu-item>'}),t.registerPreConfiguredComponent("contextmenu-item-set-to-back",{template:'<contextmenu-item @controller="edit-graphics:MoveBackGraphicsObjectController">ega:contextmenu.set-to-back</contextmenu-item>'}),t.registerPreConfiguredComponent("contextmenu-item-delete",{template:'<contextmenu-item @controller="edit-graphics:DeleteGraphicsObjectController">ega:contextmenu.delete</contextmenu-item>'}),t.registerPreConfiguredComponent("image-contextmenu",{template:'\n            <contextmenu name="fv--image-graphics-object-contextmenu" @edit-graphics:check-activates>\n                <edit-graphics:contextmenu-item-set-to-front name="fv--contextmenu-item-image-graphics-object-set-to-front"></edit-graphics:contextmenu-item-set-to-front>\n                <edit-graphics:contextmenu-item-set-to-back name="fv--contextmenu-item-image-graphics-object-set-to-back"></edit-graphics:contextmenu-item-set-to-back>\n                <edit-graphics:contextmenu-separator></edit-graphics:contextmenu-separator>\n                <edit-graphics:contextmenu-item-delete name="fv--contextmenu-item-image-graphics-object-delete"></edit-graphics:contextmenu-item-delete>\n                <edit-graphics:contextmenu-separator></edit-graphics:contextmenu-separator>\n                <edit-graphics:contextmenu-item-properties name="fv--contextmenu-item-image-graphics-object-properties"></edit-graphics:contextmenu-item-properties>\n            </contextmenu>\n            '})};var i=r.prototype;return i.init=function(e){t.prototype.init.call(this,e),e.getPDFViewer().then((t=>{(this.addon=new xt(t)).init()}))},i.receiveAction=function(t,e){if("getGraphicsObjectComponent"===t){const{graphicsObject:t,pageRender:n}=e;return new(this.addon.getGraphicsManager().get(t))(t,n,this.addon)}},r}(n.UIXAddon)}(),o=o.default}()}));