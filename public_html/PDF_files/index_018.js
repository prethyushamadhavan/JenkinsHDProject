!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],e):"object"==typeof exports?exports.Thumbnail=e(require("UIExtension")):t.Thumbnail=e(t.UIExtension)}(self,(function(t){return function(){var e={1276:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<contextmenu name="fv--thumbnail-contextmenu" @thumbnail:permission>\n<contextmenu-item feature="rotate" name="contextmenu-item-thumbnail-rotate-left" @controller="thumbnail:RotateLeftController">thumbnail:contextmenu.rotateLeft</contextmenu-item>\n<contextmenu-item feature="rotate" name="contextmenu-item-thumbnail-rotate-right" @controller="thumbnail:RotateRightController">thumbnail:contextmenu.rotateRight</contextmenu-item>\n<contextmenu-separator></contextmenu-separator>\n<contextmenu-item feature="insert" name="contextmenu-item-thumbnail-add-blank-page" @controller="thumbnail:InsertBlankPageController">thumbnail:contextmenu.addBlankPage</contextmenu-item>\n<contextmenu-separator></contextmenu-separator>\n<thumbnail:delete-page-contextmenu-item name="contextmenu-item-thumbnail-delete"></thumbnail:delete-page-contextmenu-item>\n\x3c!--\n<contextmenu-item @controller="crop-pages:ShowCropPagesDialogController">thumbnail:contextmenu.crop</contextmenu-item>\n--\x3e\n</contextmenu>\n','<contextmenu name="fv--thumbnail-contextmenu" @thumbnail:permission>\n<contextmenu-item feature="rotate" name="contextmenu-item-thumbnail-rotate-left" @controller="thumbnail:RotateLeftController">thumbnail:contextmenu.rotateLeft</contextmenu-item>\n<contextmenu-item feature="rotate" name="contextmenu-item-thumbnail-rotate-right" @controller="thumbnail:RotateRightController">thumbnail:contextmenu.rotateRight</contextmenu-item>\n<contextmenu-separator></contextmenu-separator>\n<contextmenu-item feature="insert" name="contextmenu-item-thumbnail-add-blank-page" @controller="thumbnail:InsertBlankPageController">thumbnail:contextmenu.addBlankPage</contextmenu-item>\n<contextmenu-separator></contextmenu-separator>\n<thumbnail:delete-page-contextmenu-item name="contextmenu-item-thumbnail-delete"></thumbnail:delete-page-contextmenu-item>\n\x3c!--\n<contextmenu-item @controller="crop-pages:ShowCropPagesDialogController">thumbnail:contextmenu.crop</contextmenu-item>\n--\x3e\n</contextmenu>\n'}},4967:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<thumbnail:thumbnail-list\n@thumbnail:centered\n@thumbnail:rearrange-pages\n@thumbnail:drop-to-merge-doc\n@aria:label="thumbnail:title"\nname="thumbnail-list"\n>\n<thumbnail:thumbnail-item\n@foreach="thumbnail in thumbnail_list.thumbnails track by id"\n@setter.thumbnail_id="thumbnail.id"\n@lazy-content="visible"\nname="thumbnail-item"\n>\n<div class="fv__ui-thumbnail-viewer-container">\n<thumbnail:thumbnail-viewer @setter.thumbnail="thumbnail" @thumbnail:visible-rect-control name="thumbnail-page-viewer"></thumbnail:thumbnail-viewer>\n</div>\n<thumbnail:page-number name="thumbnail-page-number">@{thumbnail.pageIndex+1}</thumbnail:page-number>\n</thumbnail:thumbnail-item>\n</thumbnail:thumbnail-list>\n','<thumbnail:thumbnail-list\n@thumbnail:centered\n@thumbnail:rearrange-pages\n@thumbnail:drop-to-merge-doc\n@aria:label="thumbnail:title"\nname="thumbnail-list"\n>\n<thumbnail:thumbnail-item\n@foreach="thumbnail in thumbnail_list.thumbnails track by id"\n@setter.thumbnail_id="thumbnail.id"\n@lazy-content="visible"\nname="thumbnail-item"\n>\n<div class="fv__ui-thumbnail-viewer-container">\n<thumbnail:thumbnail-viewer @setter.thumbnail="thumbnail" @thumbnail:visible-rect-control name="thumbnail-page-viewer"></thumbnail:thumbnail-viewer>\n</div>\n<thumbnail:page-number name="thumbnail-page-number">@{thumbnail.pageIndex+1}</thumbnail:page-number>\n</thumbnail:thumbnail-item>\n</thumbnail:thumbnail-list>\n'}},9784:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<ol class="fv__ui-thumbnail-list" @var.thumbnail_list="$component"></ol>','<ol class="fv__ui-thumbnail-list" @var.thumbnail_list="$component"></ol>'}},6512:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<thumbnail:sidebar-panel name="sidebar-thumbnail-panel" @lazy-content="active">\n<thumbnail:toolbar></thumbnail:toolbar>\n<thumbnail:complete-thumbnail-list></thumbnail:complete-thumbnail-list>\n</thumbnail:sidebar-panel>\n','<thumbnail:sidebar-panel name="sidebar-thumbnail-panel" @lazy-content="active">\n<thumbnail:toolbar></thumbnail:toolbar>\n<thumbnail:complete-thumbnail-list></thumbnail:complete-thumbnail-list>\n</thumbnail:sidebar-panel>\n'}},1597:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<sidebar-panel\n@tooltip tooltip-placement="right"\ntooltip-title="thumbnail:tooltip"\ntitle="thumbnail:title"\nclass="fv__ui-thumbnail-sidebar"\nicon-class="fv__icon-sidebar-thumbnail"\n@lazy-content="active">\n</sidebar-panel>','<sidebar-panel\n@tooltip tooltip-placement="right"\ntooltip-title="thumbnail:tooltip"\ntitle="thumbnail:title"\nclass="fv__ui-thumbnail-sidebar"\nicon-class="fv__icon-sidebar-thumbnail"\n@lazy-content="active">\n</sidebar-panel>'}},8834:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<div class="fv__ui-thumbnail-toolbar">\n<thumbnail:enlarge-thumbnail name="thumbnail-zoom-in"></thumbnail:enlarge-thumbnail>\n<thumbnail:reduce-thumbnail name="thumbnail-zoom-out"></thumbnail:reduce-thumbnail>\n</div>\n','<div class="fv__ui-thumbnail-toolbar">\n<thumbnail:enlarge-thumbnail name="thumbnail-zoom-in"></thumbnail:enlarge-thumbnail>\n<thumbnail:reduce-thumbnail name="thumbnail-zoom-out"></thumbnail:reduce-thumbnail>\n</div>\n'}},3358:function(t){t.exports=null},5585:function(t,e,n){"use strict";
/*! art-template@runtime | https://github.com/aui/art-template */var i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},r=Object.create(i),o=/["&'<>]/;function s(t){return"string"!=typeof t&&(t=null==t?"":"function"==typeof t?s(t.call(t)):JSON.stringify(t)),t}r.$escape=function(t){return function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i="",r=void 0,s=void 0,a=void 0;for(r=n.index,s=0;r<e.length;r++){switch(e.charCodeAt(r)){case 34:a="&#34;";break;case 38:a="&#38;";break;case 39:a="&#39;";break;case 60:a="&#60;";break;case 62:a="&#62;";break;default:continue}s!==r&&(i+=e.substring(s,r)),s=r+1,i+=a}return s!==r?i+e.substring(s,r):i}(s(t))},r.$each=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;n++)e(t[n],n);else for(var r in t)e(t[r],r)},t.exports=r},5779:function(t,e,n){"use strict";t.exports=n(5585)},4616:function(e){"use strict";e.exports=t},509:function(t,e,n){"use strict";var i=n(9985),r=n(3691),o=TypeError;t.exports=function(t){if(i(t))return t;throw new o(r(t)+" is not a function")}},2655:function(t,e,n){"use strict";var i=n(9429),r=n(3691),o=TypeError;t.exports=function(t){if(i(t))return t;throw new o(r(t)+" is not a constructor")}},3550:function(t,e,n){"use strict";var i=n(9985),r=String,o=TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw new o("Can't set "+r(t)+" as a prototype")}},7370:function(t,e,n){"use strict";var i=n(4201),r=n(5391),o=n(2560).f,s=i("unscopables"),a=Array.prototype;void 0===a[s]&&o(a,s,{configurable:!0,value:r(null)}),t.exports=function(t){a[s][t]=!0}},1514:function(t,e,n){"use strict";var i=n(730).charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},767:function(t,e,n){"use strict";var i=n(3622),r=TypeError;t.exports=function(t,e){if(i(e,t))return t;throw new r("Incorrect invocation")}},5027:function(t,e,n){"use strict";var i=n(8999),r=String,o=TypeError;t.exports=function(t){if(i(t))return t;throw new o(r(t)+" is not an object")}},4328:function(t,e,n){"use strict";var i=n(5290),r=n(7578),o=n(6310),s=function(t){return function(e,n,s){var a,u=i(e),c=o(u),l=r(s,c);if(t&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},6834:function(t,e,n){"use strict";var i=n(3689);t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){return 1},1)}))}},8820:function(t,e,n){"use strict";var i=n(509),r=n(690),o=n(4413),s=n(6310),a=TypeError,u=function(t){return function(e,n,u,c){i(n);var l=r(e),h=o(l),f=s(l),d=t?f-1:0,p=t?-1:1;if(u<2)for(;;){if(d in h){c=h[d],d+=p;break}if(d+=p,t?d<0:f<=d)throw new a("Reduce of empty array with no initial value")}for(;t?d>=0:f>d;d+=p)d in h&&(c=n(c,h[d],d,l));return c}};t.exports={left:u(!1),right:u(!0)}},9015:function(t,e,n){"use strict";var i=n(7578),r=n(6310),o=n(6522),s=Array,a=Math.max;t.exports=function(t,e,n){for(var u=r(t),c=i(e,u),l=i(void 0===n?u:n,u),h=s(a(l-c,0)),f=0;c<l;c++,f++)o(h,f,t[c]);return h.length=f,h}},6004:function(t,e,n){"use strict";var i=n(8844);t.exports=i([].slice)},382:function(t,e,n){"use strict";var i=n(9015),r=Math.floor,o=function(t,e){var n=t.length,u=r(n/2);return n<8?s(t,e):a(t,o(i(t,0,u),e),o(i(t,u),e),e)},s=function(t,e){for(var n,i,r=t.length,o=1;o<r;){for(i=o,n=t[o];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==o++&&(t[i]=n)}return t},a=function(t,e,n,i){for(var r=e.length,o=n.length,s=0,a=0;s<r||a<o;)t[s+a]=s<r&&a<o?i(e[s],n[a])<=0?e[s++]:n[a++]:s<r?e[s++]:n[a++];return t};t.exports=o},6431:function(t,e,n){"use strict";var i=n(4201)("iterator"),r=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){r=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){try{if(!e&&!r)return!1}catch(t){return!1}var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},6648:function(t,e,n){"use strict";var i=n(8844),r=i({}.toString),o=i("".slice);t.exports=function(t){return o(r(t),8,-1)}},926:function(t,e,n){"use strict";var i=n(3043),r=n(9985),o=n(6648),s=n(4201)("toStringTag"),a=Object,u="Arguments"===o(function(){return arguments}());t.exports=i?o:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=a(t),s))?n:u?o(e):"Object"===(i=o(e))&&r(e.callee)?"Arguments":i}},8758:function(t,e,n){"use strict";var i=n(6812),r=n(9152),o=n(2474),s=n(2560);t.exports=function(t,e,n){for(var a=r(e),u=s.f,c=o.f,l=0;l<a.length;l++){var h=a[l];i(t,h)||n&&i(n,h)||u(t,h,c(e,h))}}},1748:function(t,e,n){"use strict";var i=n(3689);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},7807:function(t){"use strict";t.exports=function(t,e){return{value:t,done:e}}},5773:function(t,e,n){"use strict";var i=n(7697),r=n(2560),o=n(5684);t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},5684:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6522:function(t,e,n){"use strict";var i=n(8360),r=n(2560),o=n(5684);t.exports=function(t,e,n){var s=i(e);s in t?r.f(t,s,o(0,n)):t[s]=n}},2148:function(t,e,n){"use strict";var i=n(8702),r=n(2560);t.exports=function(t,e,n){return n.get&&i(n.get,e,{getter:!0}),n.set&&i(n.set,e,{setter:!0}),r.f(t,e,n)}},1880:function(t,e,n){"use strict";var i=n(9985),r=n(2560),o=n(8702),s=n(5014);t.exports=function(t,e,n,a){a||(a={});var u=a.enumerable,c=void 0!==a.name?a.name:e;if(i(n)&&o(n,c,a),a.global)u?t[e]=n:s(e,n);else{try{a.unsafe?t[e]&&(u=!0):delete t[e]}catch(t){}u?t[e]=n:r.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},5014:function(t,e,n){"use strict";var i=n(9037),r=Object.defineProperty;t.exports=function(t,e){try{r(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},8494:function(t,e,n){"use strict";var i=n(3691),r=TypeError;t.exports=function(t,e){if(!delete t[e])throw new r("Cannot delete property "+i(e)+" of "+i(t))}},7697:function(t,e,n){"use strict";var i=n(3689);t.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2659:function(t){"use strict";var e="object"==typeof document&&document.all,n=void 0===e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},6420:function(t,e,n){"use strict";var i=n(9037),r=n(8999),o=i.document,s=r(o)&&r(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},6338:function(t){"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3265:function(t,e,n){"use strict";var i=n(6420)("span").classList,r=i&&i.constructor&&i.constructor.prototype;t.exports=r===Object.prototype?void 0:r},7365:function(t,e,n){"use strict";var i=n(71).match(/firefox\/(\d+)/i);t.exports=!!i&&+i[1]},2532:function(t,e,n){"use strict";var i=n(8563),r=n(806);t.exports=!i&&!r&&"object"==typeof window&&"object"==typeof document},8563:function(t){"use strict";t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},7298:function(t,e,n){"use strict";var i=n(71);t.exports=/MSIE|Trident/.test(i)},3221:function(t,e,n){"use strict";var i=n(71);t.exports=/ipad|iphone|ipod/i.test(i)&&"undefined"!=typeof Pebble},4764:function(t,e,n){"use strict";var i=n(71);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},806:function(t,e,n){"use strict";var i=n(9037),r=n(6648);t.exports="process"===r(i.process)},7486:function(t,e,n){"use strict";var i=n(71);t.exports=/web0s(?!.*chrome)/i.test(i)},71:function(t){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:function(t,e,n){"use strict";var i,r,o=n(9037),s=n(71),a=o.process,u=o.Deno,c=a&&a.versions||u&&u.version,l=c&&c.v8;l&&(r=(i=l.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(r=+i[1]),t.exports=r},7922:function(t,e,n){"use strict";var i=n(71).match(/AppleWebKit\/(\d+)\./);t.exports=!!i&&+i[1]},2739:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:function(t,e,n){"use strict";var i=n(9037),r=n(2474).f,o=n(5773),s=n(1880),a=n(5014),u=n(8758),c=n(5266);t.exports=function(t,e){var n,l,h,f,d,p=t.target,m=t.global,v=t.stat;if(n=m?i:v?i[p]||a(p,{}):(i[p]||{}).prototype)for(l in e){if(f=e[l],h=t.dontCallGetSet?(d=r(n,l))&&d.value:n[l],!c(m?l:p+(v?".":"#")+l,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;u(f,h)}(t.sham||h&&h.sham)&&o(f,"sham",!0),s(n,l,f,t)}}},3689:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},8678:function(t,e,n){"use strict";n(4043);var i=n(6576),r=n(1880),o=n(6308),s=n(3689),a=n(4201),u=n(5773),c=a("species"),l=RegExp.prototype;t.exports=function(t,e,n,h){var f=a(t),d=!s((function(){var e={};return e[f]=function(){return 7},7!==""[t](e)})),p=d&&!s((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!d||!p||n){var m=i(/./[f]),v=e(f,""[t],(function(t,e,n,r,s){var a=i(t),u=e.exec;return u===o||u===l.exec?d&&!s?{done:!0,value:m(e,n,r)}:{done:!0,value:a(n,e,r)}:{done:!1}}));r(String.prototype,t,v[0]),r(l,f,v[1])}h&&u(l[f],"sham",!0)}},1735:function(t,e,n){"use strict";var i=n(7215),r=Function.prototype,o=r.apply,s=r.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?s.bind(o):function(){return s.apply(o,arguments)})},4071:function(t,e,n){"use strict";var i=n(6576),r=n(509),o=n(7215),s=i(i.bind);t.exports=function(t,e){return r(t),void 0===e?t:o?s(t,e):function(){return t.apply(e,arguments)}}},7215:function(t,e,n){"use strict";var i=n(3689);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},2615:function(t,e,n){"use strict";var i=n(7215),r=Function.prototype.call;t.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},1236:function(t,e,n){"use strict";var i=n(7697),r=n(6812),o=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,a=r(o,"name"),u=a&&"something"===function(){}.name,c=a&&(!i||i&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:u,CONFIGURABLE:c}},2743:function(t,e,n){"use strict";var i=n(8844),r=n(509);t.exports=function(t,e,n){try{return i(r(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},6576:function(t,e,n){"use strict";var i=n(6648),r=n(8844);t.exports=function(t){if("Function"===i(t))return r(t)}},8844:function(t,e,n){"use strict";var i=n(7215),r=Function.prototype,o=r.call,s=i&&r.bind.bind(o,o);t.exports=i?s:function(t){return function(){return o.apply(t,arguments)}}},6058:function(t,e,n){"use strict";var i=n(9037),r=n(9985);t.exports=function(t,e){return arguments.length<2?(n=i[t],r(n)?n:void 0):i[t]&&i[t][e];var n}},1664:function(t,e,n){"use strict";var i=n(926),r=n(4849),o=n(981),s=n(9478),a=n(4201)("iterator");t.exports=function(t){if(!o(t))return r(t,a)||r(t,"@@iterator")||s[i(t)]}},5185:function(t,e,n){"use strict";var i=n(2615),r=n(509),o=n(5027),s=n(3691),a=n(1664),u=TypeError;t.exports=function(t,e){var n=arguments.length<2?a(t):e;if(r(n))return o(i(n,t));throw new u(s(t)+" is not iterable")}},4849:function(t,e,n){"use strict";var i=n(509),r=n(981);t.exports=function(t,e){var n=t[e];return r(n)?void 0:i(n)}},7017:function(t,e,n){"use strict";var i=n(8844),r=n(690),o=Math.floor,s=i("".charAt),a=i("".replace),u=i("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,i,h,f){var d=n+t.length,p=i.length,m=l;return void 0!==h&&(h=r(h),m=c),a(f,m,(function(r,a){var c;switch(s(a,0)){case"$":return"$";case"&":return t;case"`":return u(e,0,n);case"'":return u(e,d);case"<":c=h[u(a,1,-1)];break;default:var l=+a;if(0===l)return r;if(l>p){var f=o(l/10);return 0===f?r:f<=p?void 0===i[f-1]?s(a,1):i[f-1]+s(a,1):r}c=i[l-1]}return void 0===c?"":c}))}},9037:function(t,e,n){"use strict";var i=function(t){return t&&t.Math===Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},6812:function(t,e,n){"use strict";var i=n(8844),r=n(690),o=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(r(t),e)}},7248:function(t){"use strict";t.exports={}},920:function(t){"use strict";t.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}},2688:function(t,e,n){"use strict";var i=n(6058);t.exports=i("document","documentElement")},8506:function(t,e,n){"use strict";var i=n(7697),r=n(3689),o=n(6420);t.exports=!i&&!r((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},4413:function(t,e,n){"use strict";var i=n(8844),r=n(3689),o=n(6648),s=Object,a=i("".split);t.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?a(t,""):s(t)}:s},6738:function(t,e,n){"use strict";var i=n(8844),r=n(9985),o=n(4091),s=i(Function.toString);r(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},618:function(t,e,n){"use strict";var i,r,o,s=n(9834),a=n(9037),u=n(8999),c=n(5773),l=n(6812),h=n(4091),f=n(2713),d=n(7248),p="Object already initialized",m=a.TypeError,v=a.WeakMap;if(s||h.state){var g=h.state||(h.state=new v);g.get=g.get,g.has=g.has,g.set=g.set,i=function(t,e){if(g.has(t))throw new m(p);return e.facade=t,g.set(t,e),e},r=function(t){return g.get(t)||{}},o=function(t){return g.has(t)}}else{var b=f("state");d[b]=!0,i=function(t,e){if(l(t,b))throw new m(p);return e.facade=t,c(t,b,e),e},r=function(t){return l(t,b)?t[b]:{}},o=function(t){return l(t,b)}}t.exports={set:i,get:r,has:o,enforce:function(t){return o(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=r(e)).type!==t)throw new m("Incompatible receiver, "+t+" required");return n}}}},3292:function(t,e,n){"use strict";var i=n(4201),r=n(9478),o=i("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||s[o]===t)}},9985:function(t,e,n){"use strict";var i=n(2659),r=i.all;t.exports=i.IS_HTMLDDA?function(t){return"function"==typeof t||t===r}:function(t){return"function"==typeof t}},9429:function(t,e,n){"use strict";var i=n(8844),r=n(3689),o=n(9985),s=n(926),a=n(6058),u=n(6738),c=function(){},l=[],h=a("Reflect","construct"),f=/^\s*(?:class|function)\b/,d=i(f.exec),p=!f.test(c),m=function(t){if(!o(t))return!1;try{return h(c,l,t),!0}catch(t){return!1}},v=function(t){if(!o(t))return!1;switch(s(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(f,u(t))}catch(t){return!0}};v.sham=!0,t.exports=!h||r((function(){var t;return m(m.call)||!m(Object)||!m((function(){t=!0}))||t}))?v:m},5266:function(t,e,n){"use strict";var i=n(3689),r=n(9985),o=/#|\.prototype\./,s=function(t,e){var n=u[a(t)];return n===l||n!==c&&(r(e)?i(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=s.data={},c=s.NATIVE="N",l=s.POLYFILL="P";t.exports=s},981:function(t){"use strict";t.exports=function(t){return null==t}},8999:function(t,e,n){"use strict";var i=n(9985),r=n(2659),o=r.all;t.exports=r.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:i(t)||t===o}:function(t){return"object"==typeof t?null!==t:i(t)}},3931:function(t){"use strict";t.exports=!1},734:function(t,e,n){"use strict";var i=n(6058),r=n(9985),o=n(3622),s=n(9525),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return r(e)&&o(e.prototype,a(t))}},8734:function(t,e,n){"use strict";var i=n(4071),r=n(2615),o=n(5027),s=n(3691),a=n(3292),u=n(6310),c=n(3622),l=n(5185),h=n(1664),f=n(2125),d=TypeError,p=function(t,e){this.stopped=t,this.result=e},m=p.prototype;t.exports=function(t,e,n){var v,g,b,y,x,S,I,w=n&&n.that,P=!(!n||!n.AS_ENTRIES),C=!(!n||!n.IS_RECORD),T=!(!n||!n.IS_ITERATOR),E=!(!n||!n.INTERRUPTED),L=i(e,w),O=function(t){return v&&f(v,"normal",t),new p(!0,t)},R=function(t){return P?(o(t),E?L(t[0],t[1],O):L(t[0],t[1])):E?L(t,O):L(t)};if(C)v=t.iterator;else if(T)v=t;else{if(!(g=h(t)))throw new d(s(t)+" is not iterable");if(a(g)){for(b=0,y=u(t);y>b;b++)if((x=R(t[b]))&&c(m,x))return x;return new p(!1)}v=l(t,g)}for(S=C?t.next:v.next;!(I=r(S,v)).done;){try{x=R(I.value)}catch(t){f(v,"throw",t)}if("object"==typeof x&&x&&c(m,x))return x}return new p(!1)}},2125:function(t,e,n){"use strict";var i=n(2615),r=n(5027),o=n(4849);t.exports=function(t,e,n){var s,a;r(t);try{if(!(s=o(t,"return"))){if("throw"===e)throw n;return n}s=i(s,t)}catch(t){a=!0,s=t}if("throw"===e)throw n;if(a)throw s;return r(s),n}},974:function(t,e,n){"use strict";var i=n(2013).IteratorPrototype,r=n(5391),o=n(5684),s=n(5997),a=n(9478),u=function(){return this};t.exports=function(t,e,n,c){var l=e+" Iterator";return t.prototype=r(i,{next:o(+!c,n)}),s(t,l,!1,!0),a[l]=u,t}},1934:function(t,e,n){"use strict";var i=n(9989),r=n(2615),o=n(3931),s=n(1236),a=n(9985),u=n(974),c=n(1868),l=n(9385),h=n(5997),f=n(5773),d=n(1880),p=n(4201),m=n(9478),v=n(2013),g=s.PROPER,b=s.CONFIGURABLE,y=v.IteratorPrototype,x=v.BUGGY_SAFARI_ITERATORS,S=p("iterator"),I="keys",w="values",P="entries",C=function(){return this};t.exports=function(t,e,n,s,p,v,T){u(n,e,s);var E,L,O,R=function(t){if(t===p&&k)return k;if(!x&&t&&t in _)return _[t];switch(t){case I:case w:case P:return function(){return new n(this,t)}}return function(){return new n(this)}},D=e+" Iterator",A=!1,_=t.prototype,j=_[S]||_["@@iterator"]||p&&_[p],k=!x&&j||R(p),N="Array"===e&&_.entries||j;if(N&&(E=c(N.call(new t)))!==Object.prototype&&E.next&&(o||c(E)===y||(l?l(E,y):a(E[S])||d(E,S,C)),h(E,D,!0,!0),o&&(m[D]=C)),g&&p===w&&j&&j.name!==w&&(!o&&b?f(_,"name",w):(A=!0,k=function(){return r(j,this)})),p)if(L={values:R(w),keys:v?k:R(I),entries:R(P)},T)for(O in L)(x||A||!(O in _))&&d(_,O,L[O]);else i({target:e,proto:!0,forced:x||A},L);return o&&!T||_[S]===k||d(_,S,k,{name:p}),m[e]=k,L}},2013:function(t,e,n){"use strict";var i,r,o,s=n(3689),a=n(9985),u=n(8999),c=n(5391),l=n(1868),h=n(1880),f=n(4201),d=n(3931),p=f("iterator"),m=!1;[].keys&&("next"in(o=[].keys())?(r=l(l(o)))!==Object.prototype&&(i=r):m=!0),!u(i)||s((function(){var t={};return i[p].call(t)!==t}))?i={}:d&&(i=c(i)),a(i[p])||h(i,p,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:m}},9478:function(t){"use strict";t.exports={}},6310:function(t,e,n){"use strict";var i=n(3126);t.exports=function(t){return i(t.length)}},8702:function(t,e,n){"use strict";var i=n(8844),r=n(3689),o=n(9985),s=n(6812),a=n(7697),u=n(1236).CONFIGURABLE,c=n(6738),l=n(618),h=l.enforce,f=l.get,d=String,p=Object.defineProperty,m=i("".slice),v=i("".replace),g=i([].join),b=a&&!r((function(){return 8!==p((function(){}),"length",{value:8}).length})),y=String(String).split("String"),x=t.exports=function(t,e,n){"Symbol("===m(d(e),0,7)&&(e="["+v(d(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!s(t,"name")||u&&t.name!==e)&&(a?p(t,"name",{value:e,configurable:!0}):t.name=e),b&&n&&s(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var i=h(t);return s(i,"source")||(i.source=g(y,"string"==typeof e?e:"")),t};Function.prototype.toString=x((function(){return o(this)&&f(this).source||c(this)}),"toString")},8828:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var i=+t;return(i>0?n:e)(i)}},231:function(t,e,n){"use strict";var i,r,o,s,a,u=n(9037),c=n(4071),l=n(2474).f,h=n(9886).set,f=n(4410),d=n(4764),p=n(3221),m=n(7486),v=n(806),g=u.MutationObserver||u.WebKitMutationObserver,b=u.document,y=u.process,x=u.Promise,S=l(u,"queueMicrotask"),I=S&&S.value;if(!I){var w=new f,P=function(){var t,e;for(v&&(t=y.domain)&&t.exit();e=w.get();)try{e()}catch(t){throw w.head&&i(),t}t&&t.enter()};d||v||m||!g||!b?!p&&x&&x.resolve?((s=x.resolve(void 0)).constructor=x,a=c(s.then,s),i=function(){a(P)}):v?i=function(){y.nextTick(P)}:(h=c(h,u),i=function(){h(P)}):(r=!0,o=b.createTextNode(""),new g(P).observe(o,{characterData:!0}),i=function(){o.data=r=!r}),I=function(t){w.head||i(),w.add(t)}}t.exports=I},8742:function(t,e,n){"use strict";var i=n(509),r=TypeError,o=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw new r("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)};t.exports.f=function(t){return new o(t)}},5391:function(t,e,n){"use strict";var i,r=n(5027),o=n(8920),s=n(2739),a=n(7248),u=n(2688),c=n(6420),l=n(2713),h="prototype",f="script",d=l("IE_PROTO"),p=function(){},m=function(t){return"<"+f+">"+t+"</"+f+">"},v=function(t){t.write(m("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){try{i=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;g="undefined"!=typeof document?document.domain&&i?v(i):(e=c("iframe"),n="java"+f+":",e.style.display="none",u.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(m("document.F=Object")),t.close(),t.F):v(i);for(var r=s.length;r--;)delete g[h][s[r]];return g()};a[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p[h]=r(t),n=new p,p[h]=null,n[d]=t):n=g(),void 0===e?n:o.f(n,e)}},8920:function(t,e,n){"use strict";var i=n(7697),r=n(5648),o=n(2560),s=n(5027),a=n(5290),u=n(300);e.f=i&&!r?Object.defineProperties:function(t,e){s(t);for(var n,i=a(e),r=u(e),c=r.length,l=0;c>l;)o.f(t,n=r[l++],i[n]);return t}},2560:function(t,e,n){"use strict";var i=n(7697),r=n(8506),o=n(5648),s=n(5027),a=n(8360),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,h="enumerable",f="configurable",d="writable";e.f=i?o?function(t,e,n){if(s(t),e=a(e),s(n),"function"==typeof t&&"prototype"===e&&"value"in n&&d in n&&!n[d]){var i=l(t,e);i&&i[d]&&(t[e]=n.value,n={configurable:f in n?n[f]:i[f],enumerable:h in n?n[h]:i[h],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(s(t),e=a(e),s(n),r)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new u("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},2474:function(t,e,n){"use strict";var i=n(7697),r=n(2615),o=n(9556),s=n(5684),a=n(5290),u=n(8360),c=n(6812),l=n(8506),h=Object.getOwnPropertyDescriptor;e.f=i?h:function(t,e){if(t=a(t),e=u(e),l)try{return h(t,e)}catch(t){}if(c(t,e))return s(!r(o.f,t,e),t[e])}},2741:function(t,e,n){"use strict";var i=n(4948),r=n(2739).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},7518:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},1868:function(t,e,n){"use strict";var i=n(6812),r=n(9985),o=n(690),s=n(2713),a=n(1748),u=s("IE_PROTO"),c=Object,l=c.prototype;t.exports=a?c.getPrototypeOf:function(t){var e=o(t);if(i(e,u))return e[u];var n=e.constructor;return r(n)&&e instanceof n?n.prototype:e instanceof c?l:null}},3622:function(t,e,n){"use strict";var i=n(8844);t.exports=i({}.isPrototypeOf)},4948:function(t,e,n){"use strict";var i=n(8844),r=n(6812),o=n(5290),s=n(4328).indexOf,a=n(7248),u=i([].push);t.exports=function(t,e){var n,i=o(t),c=0,l=[];for(n in i)!r(a,n)&&r(i,n)&&u(l,n);for(;e.length>c;)r(i,n=e[c++])&&(~s(l,n)||u(l,n));return l}},300:function(t,e,n){"use strict";var i=n(4948),r=n(2739);t.exports=Object.keys||function(t){return i(t,r)}},9556:function(t,e){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},9385:function(t,e,n){"use strict";var i=n(2743),r=n(5027),o=n(3550);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=i(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t(n,i):n.__proto__=i,n}}():void 0)},5899:function(t,e,n){"use strict";var i=n(2615),r=n(9985),o=n(8999),s=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&r(n=t.toString)&&!o(a=i(n,t)))return a;if(r(n=t.valueOf)&&!o(a=i(n,t)))return a;if("string"!==e&&r(n=t.toString)&&!o(a=i(n,t)))return a;throw new s("Can't convert object to primitive value")}},9152:function(t,e,n){"use strict";var i=n(6058),r=n(8844),o=n(2741),s=n(7518),a=n(5027),u=r([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=s.f;return n?u(e,n(t)):e}},9302:function(t){"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},7073:function(t,e,n){"use strict";var i=n(9037),r=n(7919),o=n(9985),s=n(5266),a=n(6738),u=n(4201),c=n(2532),l=n(8563),h=n(3931),f=n(3615),d=r&&r.prototype,p=u("species"),m=!1,v=o(i.PromiseRejectionEvent),g=s("Promise",(function(){var t=a(r),e=t!==String(r);if(!e&&66===f)return!0;if(h&&(!d.catch||!d.finally))return!0;if(!f||f<51||!/native code/.test(t)){var n=new r((function(t){t(1)})),i=function(t){t((function(){}),(function(){}))};if((n.constructor={})[p]=i,!(m=n.then((function(){}))instanceof i))return!0}return!e&&(c||l)&&!v}));t.exports={CONSTRUCTOR:g,REJECTION_EVENT:v,SUBCLASSING:m}},7919:function(t,e,n){"use strict";var i=n(9037);t.exports=i.Promise},2945:function(t,e,n){"use strict";var i=n(5027),r=n(8999),o=n(8742);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},562:function(t,e,n){"use strict";var i=n(7919),r=n(6431),o=n(7073).CONSTRUCTOR;t.exports=o||!r((function(t){i.all(t).then(void 0,(function(){}))}))},4410:function(t){"use strict";var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},6100:function(t,e,n){"use strict";var i=n(2615),r=n(5027),o=n(9985),s=n(6648),a=n(6308),u=TypeError;t.exports=function(t,e){var n=t.exec;if(o(n)){var c=i(n,t,e);return null!==c&&r(c),c}if("RegExp"===s(t))return i(a,t,e);throw new u("RegExp#exec called on incompatible receiver")}},6308:function(t,e,n){"use strict";var i,r,o=n(2615),s=n(8844),a=n(4327),u=n(9633),c=n(7901),l=n(3430),h=n(5391),f=n(618).get,d=n(2100),p=n(6422),m=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,g=v,b=s("".charAt),y=s("".indexOf),x=s("".replace),S=s("".slice),I=(r=/b*/g,o(v,i=/a/,"a"),o(v,r,"a"),0!==i.lastIndex||0!==r.lastIndex),w=c.BROKEN_CARET,P=void 0!==/()??/.exec("")[1];(I||P||w||d||p)&&(g=function(t){var e,n,i,r,s,c,l,d=this,p=f(d),C=a(t),T=p.raw;if(T)return T.lastIndex=d.lastIndex,e=o(g,T,C),d.lastIndex=T.lastIndex,e;var E=p.groups,L=w&&d.sticky,O=o(u,d),R=d.source,D=0,A=C;if(L&&(O=x(O,"y",""),-1===y(O,"g")&&(O+="g"),A=S(C,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==b(C,d.lastIndex-1))&&(R="(?: "+R+")",A=" "+A,D++),n=new RegExp("^(?:"+R+")",O)),P&&(n=new RegExp("^"+R+"$(?!\\s)",O)),I&&(i=d.lastIndex),r=o(v,L?n:d,A),L?r?(r.input=S(r.input,D),r[0]=S(r[0],D),r.index=d.lastIndex,d.lastIndex+=r[0].length):d.lastIndex=0:I&&r&&(d.lastIndex=d.global?r.index+r[0].length:i),P&&r&&r.length>1&&o(m,r[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(r[s]=void 0)})),r&&E)for(r.groups=c=h(null),s=0;s<E.length;s++)c[(l=E[s])[0]]=r[l[1]];return r}),t.exports=g},9633:function(t,e,n){"use strict";var i=n(5027);t.exports=function(){var t=i(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},7901:function(t,e,n){"use strict";var i=n(3689),r=n(9037).RegExp,o=i((function(){var t=r("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),s=o||i((function(){return!r("a","y").sticky})),a=o||i((function(){var t=r("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:o}},2100:function(t,e,n){"use strict";var i=n(3689),r=n(9037).RegExp;t.exports=i((function(){var t=r(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},6422:function(t,e,n){"use strict";var i=n(3689),r=n(9037).RegExp;t.exports=i((function(){var t=r("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4684:function(t,e,n){"use strict";var i=n(981),r=TypeError;t.exports=function(t){if(i(t))throw new r("Can't call method on "+t);return t}},4241:function(t,e,n){"use strict";var i=n(6058),r=n(2148),o=n(4201),s=n(7697),a=o("species");t.exports=function(t){var e=i(t);s&&e&&!e[a]&&r(e,a,{configurable:!0,get:function(){return this}})}},5997:function(t,e,n){"use strict";var i=n(2560).f,r=n(6812),o=n(4201)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!r(t,o)&&i(t,o,{configurable:!0,value:e})}},2713:function(t,e,n){"use strict";var i=n(3430),r=n(4630),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},4091:function(t,e,n){"use strict";var i=n(9037),r=n(5014),o="__core-js_shared__",s=i[o]||r(o,{});t.exports=s},3430:function(t,e,n){"use strict";var i=n(3931),r=n(4091);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.2",mode:i?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"})},6373:function(t,e,n){"use strict";var i=n(5027),r=n(2655),o=n(981),s=n(4201)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||o(n=i(a)[s])?e:r(n)}},730:function(t,e,n){"use strict";var i=n(8844),r=n(8700),o=n(4327),s=n(4684),a=i("".charAt),u=i("".charCodeAt),c=i("".slice),l=function(t){return function(e,n){var i,l,h=o(s(e)),f=r(n),d=h.length;return f<0||f>=d?t?"":void 0:(i=u(h,f))<55296||i>56319||f+1===d||(l=u(h,f+1))<56320||l>57343?t?a(h,f):i:t?c(h,f,f+2):l-56320+(i-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},146:function(t,e,n){"use strict";var i=n(3615),r=n(3689),o=n(9037).String;t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},9886:function(t,e,n){"use strict";var i,r,o,s,a=n(9037),u=n(1735),c=n(4071),l=n(9985),h=n(6812),f=n(3689),d=n(2688),p=n(6004),m=n(6420),v=n(1500),g=n(4764),b=n(806),y=a.setImmediate,x=a.clearImmediate,S=a.process,I=a.Dispatch,w=a.Function,P=a.MessageChannel,C=a.String,T=0,E={},L="onreadystatechange";f((function(){i=a.location}));var O=function(t){if(h(E,t)){var e=E[t];delete E[t],e()}},R=function(t){return function(){O(t)}},D=function(t){O(t.data)},A=function(t){a.postMessage(C(t),i.protocol+"//"+i.host)};y&&x||(y=function(t){v(arguments.length,1);var e=l(t)?t:w(t),n=p(arguments,1);return E[++T]=function(){u(e,void 0,n)},r(T),T},x=function(t){delete E[t]},b?r=function(t){S.nextTick(R(t))}:I&&I.now?r=function(t){I.now(R(t))}:P&&!g?(s=(o=new P).port2,o.port1.onmessage=D,r=c(s.postMessage,s)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&i&&"file:"!==i.protocol&&!f(A)?(r=A,a.addEventListener("message",D,!1)):r=L in m("script")?function(t){d.appendChild(m("script"))[L]=function(){d.removeChild(this),O(t)}}:function(t){setTimeout(R(t),0)}),t.exports={set:y,clear:x}},7578:function(t,e,n){"use strict";var i=n(8700),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},5290:function(t,e,n){"use strict";var i=n(4413),r=n(4684);t.exports=function(t){return i(r(t))}},8700:function(t,e,n){"use strict";var i=n(8828);t.exports=function(t){var e=+t;return e!=e||0===e?0:i(e)}},3126:function(t,e,n){"use strict";var i=n(8700),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},690:function(t,e,n){"use strict";var i=n(4684),r=Object;t.exports=function(t){return r(i(t))}},8732:function(t,e,n){"use strict";var i=n(2615),r=n(8999),o=n(734),s=n(4849),a=n(5899),u=n(4201),c=TypeError,l=u("toPrimitive");t.exports=function(t,e){if(!r(t)||o(t))return t;var n,u=s(t,l);if(u){if(void 0===e&&(e="default"),n=i(u,t,e),!r(n)||o(n))return n;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},8360:function(t,e,n){"use strict";var i=n(8732),r=n(734);t.exports=function(t){var e=i(t,"string");return r(e)?e:e+""}},3043:function(t,e,n){"use strict";var i={};i[n(4201)("toStringTag")]="z",t.exports="[object z]"===String(i)},4327:function(t,e,n){"use strict";var i=n(926),r=String;t.exports=function(t){if("Symbol"===i(t))throw new TypeError("Cannot convert a Symbol value to a string");return r(t)}},3691:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},4630:function(t,e,n){"use strict";var i=n(8844),r=0,o=Math.random(),s=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++r+o,36)}},9525:function(t,e,n){"use strict";var i=n(146);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:function(t,e,n){"use strict";var i=n(7697),r=n(3689);t.exports=i&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1500:function(t){"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},9834:function(t,e,n){"use strict";var i=n(9037),r=n(9985),o=i.WeakMap;t.exports=r(o)&&/native code/.test(String(o))},4201:function(t,e,n){"use strict";var i=n(9037),r=n(3430),o=n(6812),s=n(4630),a=n(146),u=n(9525),c=i.Symbol,l=r("wks"),h=u?c.for||c:c&&c.withoutSetter||s;t.exports=function(t){return o(l,t)||(l[t]=a&&o(c,t)?c[t]:h("Symbol."+t)),l[t]}},752:function(t,e,n){"use strict";var i=n(5290),r=n(7370),o=n(9478),s=n(618),a=n(2560).f,u=n(1934),c=n(7807),l=n(3931),h=n(7697),f="Array Iterator",d=s.set,p=s.getterFor(f);t.exports=u(Array,"Array",(function(t,e){d(this,{type:f,target:i(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,c(void 0,!0);switch(t.kind){case"keys":return c(n,!1);case"values":return c(e[n],!1)}return c([n,e[n]],!1)}),"values");var m=o.Arguments=o.Array;if(r("keys"),r("values"),r("entries"),!l&&h&&"values"!==m.name)try{a(m,"name",{value:"values"})}catch(t){}},278:function(t,e,n){"use strict";var i=n(9989),r=n(8820).left,o=n(6834),s=n(3615);i({target:"Array",proto:!0,forced:!n(806)&&s>79&&s<83||!o("reduce")},{reduce:function(t){var e=arguments.length;return r(this,t,e,e>1?arguments[1]:void 0)}})},5137:function(t,e,n){"use strict";var i=n(9989),r=n(8844),o=n(509),s=n(690),a=n(6310),u=n(8494),c=n(4327),l=n(3689),h=n(382),f=n(6834),d=n(7365),p=n(7298),m=n(3615),v=n(7922),g=[],b=r(g.sort),y=r(g.push),x=l((function(){g.sort(void 0)})),S=l((function(){g.sort(null)})),I=f("sort"),w=!l((function(){if(m)return m<70;if(!(d&&d>3)){if(p)return!0;if(v)return v<603;var t,e,n,i,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)g.push({k:e+i,v:n})}for(g.sort((function(t,e){return e.v-t.v})),i=0;i<g.length;i++)e=g[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}}));i({target:"Array",proto:!0,forced:x||!S||!I||!w},{sort:function(t){void 0!==t&&o(t);var e=s(this);if(w)return void 0===t?b(e):b(e,t);var n,i,r=[],l=a(e);for(i=0;i<l;i++)i in e&&y(r,e[i]);for(h(r,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:c(e)>c(n)?1:-1}}(t)),n=a(r),i=0;i<n;)e[i]=r[i++];for(;i<l;)u(e,i++);return e}})},1692:function(t,e,n){"use strict";var i=n(9989),r=n(2615),o=n(509),s=n(8742),a=n(9302),u=n(8734);i({target:"Promise",stat:!0,forced:n(562)},{all:function(t){var e=this,n=s.f(e),i=n.resolve,c=n.reject,l=a((function(){var n=o(e.resolve),s=[],a=0,l=1;u(t,(function(t){var o=a++,u=!1;l++,r(n,e,t).then((function(t){u||(u=!0,s[o]=t,--l||i(s))}),c)})),--l||i(s)}));return l.error&&c(l.value),n.promise}})},5089:function(t,e,n){"use strict";var i=n(9989),r=n(3931),o=n(7073).CONSTRUCTOR,s=n(7919),a=n(6058),u=n(9985),c=n(1880),l=s&&s.prototype;if(i({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(t){return this.then(void 0,t)}}),!r&&u(s)){var h=a("Promise").prototype.catch;l.catch!==h&&c(l,"catch",h,{unsafe:!0})}},6697:function(t,e,n){"use strict";var i,r,o,s=n(9989),a=n(3931),u=n(806),c=n(9037),l=n(2615),h=n(1880),f=n(9385),d=n(5997),p=n(4241),m=n(509),v=n(9985),g=n(8999),b=n(767),y=n(6373),x=n(9886).set,S=n(231),I=n(920),w=n(9302),P=n(4410),C=n(618),T=n(7919),E=n(7073),L=n(8742),O="Promise",R=E.CONSTRUCTOR,D=E.REJECTION_EVENT,A=E.SUBCLASSING,_=C.getterFor(O),j=C.set,k=T&&T.prototype,N=T,M=k,z=c.TypeError,V=c.document,F=c.process,$=L.f,U=$,B=!!(V&&V.createEvent&&c.dispatchEvent),H="unhandledrejection",W=function(t){var e;return!(!g(t)||!v(e=t.then))&&e},G=function(t,e){var n,i,r,o=e.value,s=1===e.state,a=s?t.ok:t.fail,u=t.resolve,c=t.reject,h=t.domain;try{a?(s||(2===e.rejection&&Z(e),e.rejection=1),!0===a?n=o:(h&&h.enter(),n=a(o),h&&(h.exit(),r=!0)),n===t.promise?c(new z("Promise-chain cycle")):(i=W(n))?l(i,n,u,c):u(n)):c(o)}catch(t){h&&!r&&h.exit(),c(t)}},q=function(t,e){t.notified||(t.notified=!0,S((function(){for(var n,i=t.reactions;n=i.get();)G(n,t);t.notified=!1,e&&!t.rejection&&X(t)})))},K=function(t,e,n){var i,r;B?((i=V.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),c.dispatchEvent(i)):i={promise:e,reason:n},!D&&(r=c["on"+t])?r(i):t===H&&I("Unhandled promise rejection",n)},X=function(t){l(x,c,(function(){var e,n=t.facade,i=t.value;if(Y(t)&&(e=w((function(){u?F.emit("unhandledRejection",i,n):K(H,n,i)})),t.rejection=u||Y(t)?2:1,e.error))throw e.value}))},Y=function(t){return 1!==t.rejection&&!t.parent},Z=function(t){l(x,c,(function(){var e=t.facade;u?F.emit("rejectionHandled",e):K("rejectionhandled",e,t.value)}))},J=function(t,e,n){return function(i){t(e,i,n)}},Q=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,q(t,!0))},tt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new z("Promise can't be resolved itself");var i=W(e);i?S((function(){var n={done:!1};try{l(i,e,J(tt,n,t),J(Q,n,t))}catch(e){Q(n,e,t)}})):(t.value=e,t.state=1,q(t,!1))}catch(e){Q({done:!1},e,t)}}};if(R&&(M=(N=function(t){b(this,M),m(t),l(i,this);var e=_(this);try{t(J(tt,e),J(Q,e))}catch(t){Q(e,t)}}).prototype,(i=function(t){j(this,{type:O,done:!1,notified:!1,parent:!1,reactions:new P,rejection:!1,state:0,value:void 0})}).prototype=h(M,"then",(function(t,e){var n=_(this),i=$(y(this,N));return n.parent=!0,i.ok=!v(t)||t,i.fail=v(e)&&e,i.domain=u?F.domain:void 0,0===n.state?n.reactions.add(i):S((function(){G(i,n)})),i.promise})),r=function(){var t=new i,e=_(t);this.promise=t,this.resolve=J(tt,e),this.reject=J(Q,e)},L.f=$=function(t){return t===N||undefined===t?new r(t):U(t)},!a&&v(T)&&k!==Object.prototype)){o=k.then,A||h(k,"then",(function(t,e){var n=this;return new N((function(t,e){l(o,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete k.constructor}catch(t){}f&&f(k,M)}s({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:N}),d(N,O,!1,!0),p(O)},6409:function(t,e,n){"use strict";var i=n(9989),r=n(3931),o=n(7919),s=n(3689),a=n(6058),u=n(9985),c=n(6373),l=n(2945),h=n(1880),f=o&&o.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!o&&s((function(){f.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,a("Promise")),n=u(t);return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}}),!r&&u(o)){var d=a("Promise").prototype.finally;f.finally!==d&&h(f,"finally",d,{unsafe:!0})}},3964:function(t,e,n){"use strict";n(6697),n(1692),n(5089),n(8829),n(2092),n(7905)},8829:function(t,e,n){"use strict";var i=n(9989),r=n(2615),o=n(509),s=n(8742),a=n(9302),u=n(8734);i({target:"Promise",stat:!0,forced:n(562)},{race:function(t){var e=this,n=s.f(e),i=n.reject,c=a((function(){var s=o(e.resolve);u(t,(function(t){r(s,e,t).then(n.resolve,i)}))}));return c.error&&i(c.value),n.promise}})},2092:function(t,e,n){"use strict";var i=n(9989),r=n(2615),o=n(8742);i({target:"Promise",stat:!0,forced:n(7073).CONSTRUCTOR},{reject:function(t){var e=o.f(this);return r(e.reject,void 0,t),e.promise}})},7905:function(t,e,n){"use strict";var i=n(9989),r=n(6058),o=n(3931),s=n(7919),a=n(7073).CONSTRUCTOR,u=n(2945),c=r("Promise"),l=o&&!a;i({target:"Promise",stat:!0,forced:o||a},{resolve:function(t){return u(l&&this===c?s:this,t)}})},4043:function(t,e,n){"use strict";var i=n(9989),r=n(6308);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},7267:function(t,e,n){"use strict";var i=n(1735),r=n(2615),o=n(8844),s=n(8678),a=n(3689),u=n(5027),c=n(9985),l=n(981),h=n(8700),f=n(3126),d=n(4327),p=n(4684),m=n(1514),v=n(4849),g=n(7017),b=n(6100),y=n(4201)("replace"),x=Math.max,S=Math.min,I=o([].concat),w=o([].push),P=o("".indexOf),C=o("".slice),T="$0"==="a".replace(/./,"$0"),E=!!/./[y]&&""===/./[y]("a","$0");s("replace",(function(t,e,n){var o=E?"$":"$0";return[function(t,n){var i=p(this),o=l(t)?void 0:v(t,y);return o?r(o,t,i,n):r(e,d(i),t,n)},function(t,r){var s=u(this),a=d(t);if("string"==typeof r&&-1===P(r,o)&&-1===P(r,"$<")){var l=n(e,s,a,r);if(l.done)return l.value}var p=c(r);p||(r=d(r));var v,y=s.global;y&&(v=s.unicode,s.lastIndex=0);for(var T,E=[];null!==(T=b(s,a))&&(w(E,T),y);){""===d(T[0])&&(s.lastIndex=m(a,f(s.lastIndex),v))}for(var L,O="",R=0,D=0;D<E.length;D++){for(var A,_=d((T=E[D])[0]),j=x(S(h(T.index),a.length),0),k=[],N=1;N<T.length;N++)w(k,void 0===(L=T[N])?L:String(L));var M=T.groups;if(p){var z=I([_],k,j,a);void 0!==M&&w(z,M),A=d(i(r,void 0,z))}else A=g(_,a,j,k,M,r);j>=R&&(O+=C(a,R,j)+A,R=j+_.length)}return O+C(a,R)}]}),!!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!T||E)},6265:function(t,e,n){"use strict";var i=n(9037),r=n(6338),o=n(3265),s=n(752),a=n(5773),u=n(4201),c=u("iterator"),l=u("toStringTag"),h=s.values,f=function(t,e){if(t){if(t[c]!==h)try{a(t,c,h)}catch(e){t[c]=h}if(t[l]||a(t,l,e),r[e])for(var n in s)if(t[n]!==s[n])try{a(t,n,s[n])}catch(e){t[n]=s[n]}}};for(var d in r)f(i[d]&&i[d].prototype,d);f(o,"DOMTokenList")}},n={};function i(t){var r=n[t];if(void 0!==r)return r.exports;var o=n[t]={exports:{}};return e[t].call(o.exports,o,o.exports,i),o.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var r={};return function(){"use strict";function t(e,n){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t(e,n)}function e(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,t(e,n)}i.d(r,{default:function(){return Ae}});var n=i(4616);const{PDFUI:o,UIXAddon:s,SeniorComponentFactory:a,modular:u,ServiceScope:c,Directive:l,Controller:h,Component:f,ContainerComponent:d}=n,{keyboardStatus:p,attachContextMenuEvent:m,addEventListener:v}=n.shared,g=n.PDFViewCtrl,{PDFViewer:b,ViewerEvents:y,DeviceInfo:x,BrowserInfo:S}=g,{Disposable:I,Store:w,debounce:P,observeResize:C,throttle:T,Draggable:E,browser:L,DebounceAsyncTaskExecutor:O,ThrottleAsyncTaskExecutor:R,QueuedAsyncTaskExecutor:D,BuiltinIntersectionObserver:A,FileFormat:_,getClientX:j,getClientY:k}=g.shared,{LoggerFactory:N}=g.Log,{COLLABORATION_ACTION:M}=g.collab,{Hammer:z}=g.vendors,{DataEvents:V}=g.PDF,{PDFDocPermission:F}=g.Consts,{BuiltinShortcutCommand:$,BuiltinShortcutContext:U,KeyboardUtils:B}=g.keyboard,{IoCScope:H,Lazy:W}=g._internal.shared;var G=i(3358),q=i.n(G);const K="zoom";let X=function(){function t(){this.initScaleLevel=x.isMobile?2:3,this.scaleLevel=this.initScaleLevel,this.zoomToScaleRatio=0,this.store=new w}var e=t.prototype;return e.allInjected=function(){this.availableScaleValues=[.24,.48,.72,.96,1.2,1.44,1.68,1.92,2.16,2.4],this.zoomToScaleRatio=this.availableScaleValues[this.initScaleLevel],this.dispatchScaleLevelChange()},e.setInitializeScaleLevel=function(t=3){t>=0&&t<this.availableScaleValues.length&&(this.scaleLevel=~~t)},e.zoomIn=function(){return!(this.scaleLevel>=this.availableScaleValues.length-1)&&(this.scaleLevel++,this.zoomToScaleRatio=this.availableScaleValues[this.scaleLevel],this.dispatchScaleLevelChange(),!0)},e.zoomOut=function(){return!(this.scaleLevel<=0)&&(this.scaleLevel--,this.zoomToScaleRatio=this.availableScaleValues[this.scaleLevel],this.dispatchScaleLevelChange(),!0)},e.zoomTo=function(t){if(t>10||t<0)return!1;const e=this.availableScaleValues.indexOf(t);if(-1===e){const e=this.availableScaleValues.findIndex((e=>e>t))-1,n=this.availableScaleValues[e],i=this.availableScaleValues[e+1];this.scaleLevel=void 0===i||t-n<=i-t?e:e+1}else this.scaleLevel=e;return this.zoomToScaleRatio=t,this.dispatchScaleLevelChange(),!0},e.resetScale=function(){this.scaleLevel=this.initScaleLevel,this.zoomToScaleRatio=this.availableScaleValues[this.scaleLevel],this.dispatchScaleLevelChange()},e.dispatchScaleLevelChange=function(){this.store.dispatch(K,this.zoomToScaleRatio)},e.isMaxScale=function(){return this.scaleLevel===this.availableScaleValues.length-1},e.isMinScale=function(){return 0===this.scaleLevel},e.isSmallScale=function(){return this.scaleLevel<this.initScaleLevel},e.getScaleRatio=function(){return this.zoomToScaleRatio},e.scaleEqualInitialize=function(){return this.scaleLevel===this.initScaleLevel},e.onScaleChanged=function(t){return this.store.subscribe(K,(()=>t(this.getScaleRatio(),this.isMinScale(),this.isMaxScale(),this.isSmallScale())))},e.setAvailableScaleValues=function(t,e){this.availableScaleValues=t;const n=t.indexOf(e);return this.initScaleLevel=n,this.zoomTo(n)},t}();var Y=i(1597),Z=i.n(Y);const J=u.module("thumbnail",[]);var Q;i(278),i(3964),i(752),i(6265);function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function et(t){return function(t){if(Array.isArray(t))return tt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return tt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(t){t[t.CLICK=0]="CLICK",t[t.INTERNAL_EVENT=1]="INTERNAL_EVENT"}(Q||(Q={}));i(5137);let nt=function(){function t(t,e){this.id=t,this.pageIndex=e,this.onChangePageIndexCallback=()=>{}}var e=t.prototype;return e.setPageIndex=function(t){this.pageIndex!==t&&(this.pageIndex=t,this.onChangePageIndexCallback())},e.onChangePageIndex=function(t){this.onChangePageIndexCallback=t},t}(),it=0;function rt(){return"thumbnail-"+it++}function ot(t,e,n){if(e&&!Array.isArray(e)&&"number"==typeof e.length){var i=e.length;return function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}(e,void 0!==n&&n<i?n:i)}return t(e,n)}let st=function(){function t(t){this.doc=t,this.items=Array(this.doc.getPageCount()).fill(null).map(((t,e)=>{const n=rt();return new nt(n,e)}))}var e=t.prototype;return e.reload=function(){const t=this.doc.pageCache,e=this.items.reduce(((t,e)=>(t[e.id]=e,t)),{});this.items=Array(this.doc.getPageCount()).fill(null).map(((n,i)=>{const r=t[i],o=(null==r?void 0:r.$$thumbnailId)||rt();r&&(r.$$thumbnailId=o);const s=e[o];return s?(s.setPageIndex(i),s):new nt(o,i)}))},e.addThumbnail=function(t){const e=t.getIndex(),n=t.$$thumbnailId=rt(),i=new nt(n,e);if(!(-1===this.items.findIndex((t=>t.pageIndex===e)))){this.items.splice(e,0,i);const t=this.items.slice(e+1);return t.forEach((t=>{t.setPageIndex(t.pageIndex+1)})),t}{let t=this.items.length-1;for(;t>0;){if(this.items[t].pageIndex<e){t+=1;break}t--}-1===t?this.items.push(i):(0===t&&(t+=1),this.items.splice(t,0,i))}},e.removeThumbnail=function(t){-1===t&&(t=this.items.length-1),this.items.splice(t,1);const e=this.items.slice(t);return e.forEach((t=>{t.setPageIndex(t.pageIndex-1)})),e},e.removeThumbnails=function(t){const e=(t=t.map((t=>-1===t?this.items.length-1:t))).slice(0).sort(((t,e)=>t>e?-1:1));return e.forEach((t=>{this.items.splice(t,1)})),this.refreshIndex(),this.items.slice(e[e.length-1])},e.moveThumbnails=function(t,e){var n;const i=t.map((t=>this.items[t]));t.slice(0).sort(((t,e)=>t>e?-1:1)).forEach((t=>{t<e&&e--,this.items.splice(t,1)})),(n=this.items).splice.apply(n,[e,0].concat(ot(et,i))),this.refreshIndex()},e.insertThumbnails=function(t){t.sort(((t,e)=>t.getIndex()>e.getIndex()?1:-1)),t.forEach((t=>{const e=t.getIndex(),n=t.$$thumbnailId=rt();this.items.splice(e,0,new nt(n,e))})),this.refreshIndex()},e.getThumbnailId=function(t){var e,n;return null===(n=null===(e=this.items)||void 0===e?void 0:e[t])||void 0===n?void 0:n.id},e.getThumbnailItemById=function(t){return this.items.find((e=>e.id===t))},e.refreshIndex=function(){this.items.forEach(((t,e)=>{t.setPageIndex(e)}))},e.sync=function(t){if(t.$$thumbnailId)return;const e=this.getThumbnailId(t.getIndex());t.$$thumbnailId=e},e.clear=function(){this.items=[]},e.getThumbnailItems=function(){return this.items.slice(0)},t}();const at="thumbnail-list-updated",ut="thumbnail-selected-item";let ct=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).store=new w,e.selectItemWay=Q.INTERNAL_EVENT,e.freezed=!1,e}e(n,t),n.inject=function(){return{pdfui:o}},n.isLazy=function(){return!1};var i=n.prototype;return i.allInjected=function(){this.clear(),this.addDestroyHook(this.pdfui.addViewerEventListener(y.willCloseDocument,(()=>{this.clear()})),this.pdfui.addViewerEventListener(V.obtainsPageFromEngine,(t=>{var e;null===(e=this.thumbnailItemList)||void 0===e||e.sync(t)})),this.pdfui.addViewerEventListener(y.openFileSuccess,(t=>{this.thumbnailItemList=new st(t),this.triggerUpdateThumbnailList()})),this.pdfui.addViewerEventListener(V.pageRemoved,(t=>{var e;null===(e=this.thumbnailItemList)||void 0===e||e.removeThumbnail(t),this.triggerUpdateThumbnailList()})),this.pdfui.addViewerEventListener(V.pagesRemoved,(t=>{var e;const n=t.reduce(((t,e)=>1===e.length?t.concat(e[0]):e.length>1?t.concat(function(t,e,n){n||(n=t>e?-1:1);const i=[];for(let r=t;r<e;r+=n)i.push(r);return i.push(e),i}(e[0],e[1]-1)):t),[]);null===(e=this.thumbnailItemList)||void 0===e||e.removeThumbnails(n),this.triggerUpdateThumbnailList()})),this.pdfui.addViewerEventListener(V.pageAdded,(t=>{var e;null===(e=this.thumbnailItemList)||void 0===e||e.addThumbnail(t),this.triggerUpdateThumbnailList()})),this.pdfui.addViewerEventListener(V.insertPages,(t=>{var e;null===(e=this.thumbnailItemList)||void 0===e||e.insertThumbnails(t),this.triggerUpdateThumbnailList()})),this.pdfui.addViewerEventListener(V.pagesReplace,((t,e)=>{this.reloadThumbnailItems()})),this.pdfui.addViewerEventListener(V.pageMoved,((t,e)=>{var n;null===(n=this.thumbnailItemList)||void 0===n||n.moveThumbnails([t],e),this.triggerUpdateThumbnailList()})),this.pdfui.addViewerEventListener(V.pagesMoved,((t,e)=>{var n;null===(n=this.thumbnailItemList)||void 0===n||n.moveThumbnails(t,e),this.triggerUpdateThumbnailList()}))),this.triggerUpdateThumbnailList()},i.freeze=function(t){this.freezed=t},i.reloadThumbnailItems=function(){var t;null===(t=this.thumbnailItemList)||void 0===t||t.reload(),this.triggerUpdateThumbnailList()},i.triggerUpdateThumbnailList=function(){var t;const e=(null===(t=this.thumbnailItemList)||void 0===t?void 0:t.getThumbnailItems())||[];this.store.dispatch(at,e)},i.onUpdateThumbnailList=function(t){return this.store.subscribe(at,(e=>{if(!this.freezed)return t(e);(window.requestIdleCallback||window.setTimeout)((()=>{t(e)}))}))},i.getCurrentThumbnailList=function(){return this.store.getCurrentValue(at)||[]},i.getThumbnailItemByIndex=function(t){return this.getCurrentThumbnailList().find((e=>e.pageIndex===t))},i.getThumbnailItemById=function(t){return this.getCurrentThumbnailList().find((e=>e.id===t))},i.isSelected=function(t){var e;const n=null===(e=this.thumbnailItemList)||void 0===e?void 0:e.getThumbnailItemById(t);if(!n)return!1;return this.getSelectedItems().has(n)},i.selectItem=function(t,e){var n;const i=null===(n=this.thumbnailItemList)||void 0===n?void 0:n.getThumbnailItemById(t);if(!i)return Promise.resolve();const r=e===Q.CLICK,o=this.getSelectedItems();if(r&&this.isMultipleSelectionArea()){const t=this.getCurrentThumbnailList(),e=this.lastSelectedItem;if(e){o.clear();const n=Math.min(e.pageIndex,i.pageIndex),r=Math.max(e.pageIndex,i.pageIndex);for(let e=n;e<=r;e++){const n=t[e];o.add(n)}}else o.add(i),this.lastSelectedItem=i}else r&&this.isMultipleSelection()?(o.has(i)?o.size>1&&o.delete(i):o.add(i),this.lastSelectedItem=i):(o.clear(),o.add(i),this.lastSelectedItem=i);return this.selectItemWay=e,this.store.dispatch(ut,o)},i.getSelectedItems=function(){return this.store.getCurrentValue(ut)},i.getSelectedWay=function(){return this.selectItemWay},i.onSelectedItemChange=function(t){return this.store.subscribe(ut,t)},i.isMultipleSelection=function(){return p.isCtrl},i.isMultipleSelectionArea=function(){return p.isShift},i.clear=function(){this.lastSelectedItem=void 0,this.selectItemWay=Q.INTERNAL_EVENT,this.thumbnailItemList=void 0,this.store.dispatch(ut,new Set),this.store.dispatch(at,[])},n}(I),lt=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"sidebar-panel"},n.inject=function(){return{listService:ct}};var i=n.prototype;return i.render=function(){t.prototype.render.call(this),this.bodyElement.classList.add("fv__ui-thumbnail-sidebar-body")},i.doActive=function(){t.prototype.doActive.call(this),this.listService.freeze(!1)},i.doDeactive=function(){t.prototype.doDeactive.call(this),this.listService.freeze(!0)},n}(a.createSuperClass({template:Z()()}));function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}function ft(t){var e=function(t,e){if("object"!==ht(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==ht(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ht(e)?e:String(e)}function dt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,ft(i.key),i)}}J.registerComponent(lt);i(4043);var pt=i(9784),mt=i.n(pt);let vt=function(){function t(){this.record={}}var e=t.prototype;return e.getOrCreate=function(t,e,n,i){const r=this.record[t]||{};this.record[t]=r;const o=`${t}_${e}_${n}`,s=r[o];return s||(r[o]=i())},e.clearThat=function(t){if(Array.isArray(t))return t.forEach((t=>{this.record[t.$$thumbnailId]={}})),t.map((t=>t.$$thumbnailId));if("string"==typeof t)return this.record[t]={},[t];{const e=t.$$thumbnailId;return this.record[e]={},[e]}},e.clearAll=function(){const t=Object.keys(this.record);return this.record={},t},t}();const gt="XTHUMBNAIL-CACHE-UPDATED";let bt=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).thumbnailCache=new vt,e.store=new w,e}e(n,t),n.scope=function(){return c.COMPONENT_TREE},n.inject=function(){return{zoomService:X,viewer:b,pdfui:o}};var i=n.prototype;return i.allInjected=function(){this.addDestroyHook((()=>{this.thumbnailCache.clearAll()}),this.pdfui.addViewerEventListener(y.willCloseDocument,(()=>{this.thumbnailCache.clearAll()})),this.pdfui.addViewerEventListener({[V.pageRotationChanged]:t=>{this.clearCache(t)},[V.pagesRotated]:t=>{this.clearCache(t)},[V.pagesBoxChange]:t=>{this.clearCache(t)},[V.annotationAdded]:(t,e)=>{this.clearCache(e)},[V.annotationUpdated]:(t,e)=>{this.clearCache(e)},[V.annotationRemoved]:(t,e)=>{this.clearCache(e)},[V.graphicsUpdated]:t=>{this.clearCache(t)},[V.annotationImported]:(t,e)=>{for(let t in e){let{newAnnots:n,page:i}=e[t];n.length?this.clearCache(i):this.pdfui.getPDFPageRender(i.getIndex()).then((t=>{t.isRendered&&this.clearCache(i)}))}},[V.annotationAppearanceUpdated]:(t,e)=>{this.clearCache(e)},[V.imageAdded]:t=>{this.clearCache(t)},[V.afterDocumentRotation]:()=>{const t=this.thumbnailCache.clearAll();this.dispatchCacheUpdate(t)},[y.renderPageSuccess]:t=>{this.pdfui.getStateHandlerManager().then((e=>{"page-editor"!==e.getCurrentStates().getStateName()&&"touch-up-editor"!==e.getCurrentStates().getStateName()||t.getPDFPage().then((t=>{this.clearCache(t)}))}))}}))},i.dispatchIntersectionVisibleChange=function(t,e){return this.store.dispatch(t,e)},i.onIntersectionVisibleChange=function(t,e){return this.store.subscribe(t,e)},i.clearCache=function(t){const e=this.thumbnailCache.clearThat(t);this.dispatchCacheUpdate(e)},i.dispatchCacheUpdate=function(t){this.store.dispatch(gt,t)},i.getSize=function(){const t=this.zoomService.getScaleRatio();return{width:200*t,height:300*t}},i.onCacheUpdated=function(t){return this.store.subscribe(gt,t)},i.loadThumbnail=function(t){const e=t.pageIndex;if("number"!=typeof e||e<0)throw new Error(`Incorrect pageIndex: ${e}`);const n=this.viewer.getCurrentPDFDoc();if(!n)return Promise.resolve(void 0);const i=n.getPageCount();if(e>=i)throw new Error(`Incorrect pageIndex: ${e} is greater or equals to page count ${i}`);return n.getPageByIndex(e).then((i=>{const r=this.zoomService.getScaleRatio(),o=i.getRotation(),s=this.viewer.getPDFDocRender().getRotation();return this.thumbnailCache.getOrCreate(t.id,r,`${o}_${s}`,(()=>n.loadThumbnail({pageIndex:e,type:"image",scale:r,rotation:s})))}))},n}(I);function yt(t,e,n){if(e&&!Array.isArray(e)&&"number"==typeof e.length){var i=e.length;return function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}(e,void 0!==n&&n<i?n:i)}return t(e,n)}const{match:xt,matchers:St}=B,{Home:It,End:wt,ArrowUp:Pt,ArrowDown:Ct}=St;let Tt=function(t){function n(){var e;return(e=t.apply(this,arguments)||this)._thumbnails=[],e.ignorePageNumberChangeEvent=!1,e}e(n,t),n.getName=function(){return"thumbnail-list"},n.inject=function(){return{listService:ct,viewerService:bt}};var i,r,o,s=n.prototype;return s.allInjected=function(){this.addDestroyHook(this.listService.onUpdateThumbnailList((t=>{this.isDestroyed||(this._thumbnails=t,this.digest(),this.selectThumbnailItemOfCurrentPage())})))},s.selectThumbnailItemOfCurrentPage=function(){return this.pdfUI?this.pdfUI.getPDFDocRender().then((t=>{if(!t)return;const e=t.getCurrentPageIndex(),n=this.listService.getThumbnailItemByIndex(e);n&&this.listService.selectItem(n.id,Q.INTERNAL_EVENT)})):Promise.resolve()},s.createDOMElement=function(){return document.createElement("ol")},s.postlink=function(){t.prototype.postlink.call(this),this.observer=new A(this.element,.1),this.addDestroyHook((()=>{this.observer.destroy()}),this.listService.onSelectedItemChange((t=>{if(!t||1!==t.size)return;if(this.listService.getSelectedWay()!==Q.CLICK)return;const{pageIndex:e}=t.values().next().value;return this.pdfUI.goToPage(e,0,0,!1)})),this.pdfUI.addViewerEventListener(y.pageNumberChange,(t=>{if(this.ignorePageNumberChangeEvent)return void(this.ignorePageNumberChangeEvent=!1);const e=t-1,n=this.listService.getThumbnailItemByIndex(e);n&&this.listService.selectItem(n.id,Q.INTERNAL_EVENT)})))},s.mounted=function(){t.prototype.mounted.call(this),this.attachEventToElement(this.element,"keyup",(t=>{const e=this.listService.getCurrentThumbnailList();let n;xt(t).when(It,(()=>{n=e[0],t.stopPropagation(),t.preventDefault()})).when(wt,(()=>{const n=e[e.length-1];n&&this.listService.selectItem(n.id,Q.CLICK),t.stopPropagation(),t.preventDefault()})).when(Pt,(()=>{const t=Array.from(this.listService.getSelectedItems()),i=(Math.min.apply(Math,yt(et,t.map((t=>e.indexOf(t)))))-1+e.length)%e.length;n=e[i]})).when(Ct,(()=>{const t=Array.from(this.listService.getSelectedItems()),i=(Math.max.apply(Math,yt(et,t.map((t=>e.indexOf(t)))))+1+e.length)%e.length;n=e[i]})),n&&(this.ignorePageNumberChangeEvent=!0,this.listService.selectItem(n.id,Q.CLICK))}))},s.observeIntersection=function(t,e){return this.observer.observe(t,((t,n)=>{e(n)}))},i=n,(r=[{key:"thumbnails",get:function(){return this._thumbnails}}])&&dt(i.prototype,r),o&&dt(i,o),Object.defineProperty(i,"prototype",{writable:!1}),n}(a.createSuperClass({template:mt()()}));J.registerComponent(Tt);const Et="fv__ui-thumbnail-viewer-loading",Lt=(()=>{const t=document.createElement("div");return t.classList.add("fv__ui-thumbnail-viewer",Et),t})();let Ot=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).isIntersectionVisible=!1,e.unobserveIntersectionVisibleChange=()=>{},e.renderSequence=0,e}e(n,t),n.getName=function(){return"thumbnail-viewer"},n.inject=function(){return{viewerService:bt,zoomService:X}};var i=n.prototype;return i.createDOMElement=function(){return Lt.cloneNode()},i.setThumbnail=function(t){this.thumbnailItem=t,t.onChangePageIndex((()=>{this.isIntersectionVisible&&this.renderThumbnail()})),this.unobserveIntersectionVisibleChange(),this.unobserveIntersectionVisibleChange=this.viewerService.onIntersectionVisibleChange(t.id,(t=>{if(this.isIntersectionVisible=t,t)return this.renderThumbnail()}))},i.getThumbnailId=function(){var t;return null===(t=this.thumbnailItem)||void 0===t?void 0:t.id},i.postlink=function(){t.prototype.postlink.call(this),this.addDestroyHook(this.pdfUI.addViewerEventListener(V.pageRotationChanged,(t=>{this.thumbnailItem&&this.thumbnailItem.pageIndex===t.getIndex()&&(this.loading(),this.isIntersectionVisible&&this.renderThumbnail())})),this.pdfUI.addViewerEventListener(y.afterDocumentRotation,(()=>{this.thumbnailItem&&(this.loading(),this.isIntersectionVisible&&this.renderThumbnail())})),(()=>{this.unobserveIntersectionVisibleChange()}),this.viewerService.onCacheUpdated((t=>{this.thumbnailItem&&-1!==t.indexOf(this.thumbnailItem.id)&&(this.loading(),this.isIntersectionVisible&&this.renderThumbnail())})),this.zoomService.onScaleChanged((()=>{this.updateSize(this.viewerService.getSize()),this.loading(),this.isIntersectionVisible&&this.renderThumbnail()}))),this.updateSize()},i.renderThumbnail=function(){const t=this.thumbnailItem;if(!t)return Promise.resolve(!1);const e=++this.renderSequence;return this.viewerService.loadThumbnail(t).then((n=>{var i;return e<this.renderSequence||!this.isDestroyed&&(this.thumbnailImage===n||(this.updateSize(this.viewerService.getSize()),null===(i=this.thumbnailImage)||void 0===i||i.remove(),this.thumbnailImage=n,!!n&&(this.updateSize(),this.element.classList.remove(Et),this.element.appendChild(n),this.trigger("update-thumbnail",t),!0)))}))},i.getThumbnailImage=function(){return this.thumbnailImage},i.updateSize=function({width:t,height:e}=this.thumbnailImage||this.viewerService.getSize()){this.element.style.cssText+=`\n            width: ${t}px;\n            height: ${e}px;\n        `},i.loading=function(){this.element.classList.add(Et)},n}(f);J.registerComponent(Ot);const Rt=(()=>{const t=document.createElement("li");return t.classList.add("fv__ui-thumbnail-item"),t.tabIndex=0,t})();let Dt=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).isIntersectionVisible=!1,e}e(n,t),n.getName=function(){return"thumbnail-item"},n.getMetadata=function(){return{options:{thumbnail_id:"string","ofs-height":{type:"number",field:"ofsHeight",defaultValue:20},"ofs-width":{type:"number",field:"ofsWidth",defaultValue:0}}}},n.inject=function(){return{listService:ct,zoomService:X,viewerService:bt}};var i=n.prototype;return i.createDOMElement=function(){return Rt.cloneNode()},i.setThumbnail_id=function(t){this.thumbnailId=t,this.setAttribute("thumbnail-id",t),this.dispatchChanges(),this.updateSelectionStatus()},i.getThumbnailId=function(){return this.thumbnailId},i.prelink=function(){t.prototype.prelink.call(this);const e=this.parent;e instanceof Tt&&this.addDestroyHook(e.observeIntersection(this.element,(t=>{this.isIntersectionVisible!==t&&(this.isIntersectionVisible=t,t&&this.trigger("visible"),this.dispatchChanges())})))},i.mounted=function(){t.prototype.mounted.call(this),this.addDestroyHook(this.listService.onSelectedItemChange((()=>{this.updateSelectionStatus()})),this.zoomService.onScaleChanged((()=>{this.updateSize()}))),this.attachEventToElement(this.element,"mousedown,touchstart",(t=>{this.thumbnailId&&(this.listService.isMultipleSelectionArea()||this.listService.isMultipleSelection()?this.select():this.listService.isSelected(this.thumbnailId)||this.select())})),this.attachEventToElement(this.element,"mouseup,touchend",(t=>{this.thumbnailId&&0===t.button&&this.listService.isSelected(this.thumbnailId)&&(this.listService.isMultipleSelectionArea()||this.listService.isMultipleSelection()||this.select())})),this.addDestroyHook(m(this.element,(t=>{this.onContextMenu(t)})))},i.updateSelectionStatus=function(){const t=this.listService.getSelectedItems();if(!t)return;if(Array.from(t).find((t=>t.id===this.thumbnailId))){this.isActive||this.listService.getSelectedWay()===Q.CLICK||document.activeElement!==document.body&&document.activeElement&&document.activeElement.contains(this.element)&&this.element.focus(),this.active()}else this.deactive()},i.updateSize=function(){const t=this.viewerService.getSize(),e=getComputedStyle(this.element),n=parseInt(e.borderLeftWidth)+parseInt(e.borderRightWidth),i=parseInt(e.borderTopWidth)+parseInt(e.borderBottomWidth),r=At(t.width,this.ofsWidth)+n,o=At(t.height,this.ofsHeight)+i;this.element.style.cssText+=`\n            width: ${r}px;\n            height: ${o}px;\n        `},i.doActive=function(){this.element.classList.add("fv__ui-thumbnail-item-active"),this.element.scrollIntoView({block:"nearest"})},i.doDeactive=function(){this.element.classList.remove("fv__ui-thumbnail-item-active")},i.select=function(){this.thumbnailId&&this.listService.selectItem(this.thumbnailId,Q.CLICK)},i.onContextMenu=function(t){const e=this.getContextMenu();e&&(e.showAt(t.clientX+1,t.clientY+1),t.preventDefault())},i.hideContextMenu=function(){const t=this.getContextMenu();t&&t.hide()},i.getContextMenu=function(){return this.getRoot().getComponentByName("fv--thumbnail-contextmenu")},i.dispatchChanges=function(){this.thumbnailId&&this.viewerService.dispatchIntersectionVisibleChange(this.thumbnailId,this.isIntersectionVisible)},n}(d);function At(t,e){return Math.floor(e)!==e?t*e:t+e}J.registerComponent(Dt);const _t=(()=>{const t=document.createElement("div");return t.classList.add("fv__ui-thumbnail-page-number"),t})();let jt=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"page-number"};var i=n.prototype;return i.createDOMElement=function(){return _t.cloneNode()},i.setPage_index=function(t){this.element.innerText=t+1+""},n}(d);J.registerComponent(jt);var kt=i(4967),Nt=i.n(kt);J.registerPreConfiguredComponent("complete-thumbnail-list",{template:Nt()()});let Mt=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.getName=function(){return"enlarge-thumbnail"},n.inject=function(){return{zoomService:X}},n.prototype.zoomIn=function(){this.zoomService.zoomIn()},n}(a.createSuperClass({template:'\n        <xbutton class="fv__ui-thumbnail-tool-btn" icon-class="fv__icon-thumbnail-tool-enlarge" @on.click="$component.zoomIn()" @tooltip tooltip-title="thumbnail:zoom.zoom-in">\n    '}));J.registerComponent(Mt);let zt=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.getName=function(){return"reduce-thumbnail"},n.inject=function(){return{zoomService:X}},n.prototype.zoomOut=function(){this.zoomService.zoomOut()},n}(a.createSuperClass({template:'\n        <xbutton class="fv__ui-thumbnail-tool-btn" icon-class="fv__icon-thumbnail-tool-reduce" @on.click="$component.zoomOut()"  @tooltip tooltip-title="thumbnail:zoom.zoom-out">\n    '}));J.registerComponent(zt);let Vt=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.getName=function(){return"zoom-status"},n.inject=function(){return{service:X}},n.prototype.init=function(e){t.prototype.init.call(this,e);const n=this.subName;this.addDestroyHook(this.service.onScaleChanged(((t,i,r)=>{switch(n){case"zoomin":r?e.disable():e.enable();break;case"zoomout":i?e.disable():e.enable()}})))},n}(l);J.getRegistry().registerDirective(Vt);var Ft=i(8834),$t=i.n(Ft);let Ut=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.getName=function(){return"toolbar"},n}(a.createSuperClass({template:$t()()}));function Bt(){return Bt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Bt.apply(this,arguments)}J.registerComponent(Ut);i(6409),i(7267);let Ht=function(){},Wt=function(){function t(){}t.inject=function(){return{pdfui:o,viewer:b}};var e=t.prototype;return e.rotatePage=function(t,e){const n=this.viewer.getCurrentPDFDoc();return n?(this.viewer.killFocus(null),n.getPageByIndex(t).then((n=>{if(!n)return!1;const i=n.getRotation(),r=(i+e+4)%4;return r==i||n.setRotation(r).then((()=>(this.pdfui.collaborate(M.PPO_ROTATE_PAGE,{pageIndex:t,angle:90*r}),!0)))}))):Promise.resolve(!1)},e.insertBlankPageAfter=function(t){const e=this.viewer.getCurrentPDFDoc();if(!e)return Promise.resolve(!1);const n=t+1;return e.getPageByIndex(t).then((t=>e.insertPage(n,t.getWidth(),t.getHeight()).then((()=>(this.pdfui.collaborate(M.PPO_INSERT_PAGE,{pageIndex:n,width:t.getWidth(),height:t.getHeight()}),!0)))))},e.deletePage=function(t){const e=this.viewer.getCurrentPDFDoc();return e?e.removePage(t).then((e=>(this.pdfui.collaborate(M.PPO_REMOVE_PAGE,{pageIndex:t}),e))):Promise.resolve(!1)},e.deletePages=function(t){const e=this.viewer.getCurrentPDFDoc();return e?e.removePages(t).then((e=>(this.pdfui.collaborate(M.PPO_REMOVE_PAGES,{pageRange:t}),e))):Promise.resolve(!1)},e.copyPages=function(t,e){const n=this.viewer.getCurrentPDFDoc();if(!n)return Promise.resolve(!1);const i=t.map((t=>[t]));return n.copyPages(i,e).then((()=>!0))},e.movePages=function(t,e){const n=this.viewer.getCurrentPDFDoc();if(!n)return Promise.resolve(!1);const i=t.map((t=>[t]));return n.movePagesToThenUpdatePageLabel(i,e).then((()=>!0))},e.mergeDoc=function(t,e){return this.viewer.loadPDFDocByFile(e,{errorHandler:(t,e,n,i)=>{if(3===n.code){const n=t.getFileName();let r=this.viewer.i18n.t("thumbnail:retry.title");r=r.replace("${filename}",n||"");const o=e.password;let s="",a="";return o&&(s="error",a=e.protected?"password-protect:warning.incorrect-owner-pwd":"retry.invalidPassword"),this.pdfui.promptPassword(o,r,"retry.Password","body",s,a).then((n=>{if(n)return e.password=n,i(e);{const e=new Error("Invalid password value: null");return e.error=-2,e.pdfDoc=t,Promise.reject(e)}}),(()=>{}))}if(2===n.code)return this.pdfui.alert({message:"alert.formatError",level:"error"});throw this.pdfui.alert({message:"thumbnail:insertFailed",level:"error"}),n}}).then((n=>{if(!n)return;const i=this.viewer.getCurrentPDFDoc();return!!i&&i.mergePDFDoc({doc:n,insertIndex:t,layerName:(e.name||"").replace(/\.pdf$/,"")}).catch(Ht)}))},t}(),Gt=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.inject=function(){return{ppoService:Wt,thumbnailListService:ct}};var i=n.prototype;return i.mounted=function(){t.prototype.mounted.call(this);const e=this.getPDFUI();this.addDestroyHook(e.addViewerEventListener(y.openFileSuccess,(()=>{this.updateStatus()})))},i.changePermission=function(){this.updateStatus()},n}(h),qt=function(){function t(){}t.inject=function(){return{viewer:b}};var e=t.prototype;return e.onModPermissionChange=function(t){const e=()=>{this.hasModPermission().then(t)};return e(),this.viewer.eventEmitter.on(y.openFileSuccess,e),this.viewer.eventEmitter.on(y.willCloseDocument,e),this.viewer.eventEmitter.on(y.pageRemoved,e),()=>{this.viewer.eventEmitter.off(y.openFileSuccess,e),this.viewer.eventEmitter.off(y.willCloseDocument,e),this.viewer.eventEmitter.off(y.pageRemoved,e)}},e.hasRotatePermission=function(){return this.hasPermission(!1)},e.hasInsertPermission=function(){return this.hasPermission(!1)},e.hasDeletePermission=function(){return this.hasPermission(!0)},e.hasModPermission=function(){return this.hasPermission(!1)},e.hasPermission=function(t){const e=this.viewer.getPDFDocRender();if(!e)return Promise.resolve(!1);const n=e.getUserPermission().getValue(),i=F.Assemble;return t&&1==e.doc.getPageCount()?Promise.resolve(!1):e.doc.isXFA().then((t=>!t&&0!=(n&i)))},t}(),Kt=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"DeletePageController"},n.inject=function(){return Bt(Gt.inject(),{permissionService:qt})};var i=n.prototype;return i.handle=function(){const t=this.getPDFUI(),e=this.thumbnailListService.getCurrentThumbnailList(),n=Array.from(this.thumbnailListService.getSelectedItems());return n.length===e.length?t.alert("thumbnail:removePageAlert"):t.confirm(n.length>1?"thumbnail:removePageConfirm":"thumbnail:deletePageConfirm").then((()=>t.loading().then((e=>t.getCurrentPDFDoc().then((t=>{if(!t)return;const e=n.map((t=>t.pageIndex)).sort().map((t=>[t]));return this.ppoService.deletePages(e)})).finally((()=>{e.close()}))))),(()=>{}))},i.updateStatus=function(){const t=this.component;this.permissionService.hasDeletePermission().then((e=>{e?t.unlock():t.lock()}))},n}(Gt);function Xt(t,e,n){if(e&&!Array.isArray(e)&&"number"==typeof e.length){var i=e.length;return function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}(e,void 0!==n&&n<i?n:i)}return t(e,n)}J.registerController(Kt);let Yt=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"InsertBlankPageController"},n.inject=function(){return Bt(Gt.inject(),{permissionService:qt})};var i=n.prototype;return i.handle=function(){const t=Array.from(this.thumbnailListService.getSelectedItems());if(0===t.length)return;const e=Math.max.apply(Math,Xt(et,t.map((t=>t.pageIndex))));return this.ppoService.insertBlankPageAfter(e)},i.updateStatus=function(){const t=this.component;this.permissionService.hasInsertPermission().then((e=>{e?t.unlock():t.lock()}))},n}(Gt);var Zt;J.registerController(Yt),function(t){t[t.LEFT=-1]="LEFT",t[t.RIGHT=1]="RIGHT"}(Zt||(Zt={}));let Jt=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"RotateLeftController"},n.inject=function(){return Bt(Gt.inject(),{permissionService:qt})};var i=n.prototype;return i.handle=function(){const t=this.thumbnailListService.getSelectedItems();if(0!==t.size)return Promise.all(Array.from(t).map((t=>this.ppoService.rotatePage(t.pageIndex,Zt.LEFT))))},i.updateStatus=function(){const t=this.component;this.permissionService.hasRotatePermission().then((e=>{e?t.unlock():t.lock()}))},n}(Gt);J.registerController(Jt);let Qt=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"RotateRightController"},n.inject=function(){return Bt(Gt.inject(),{permissionService:qt})};var i=n.prototype;return i.handle=function(){const t=this.thumbnailListService.getSelectedItems();if(0!==t.size)return Promise.all(Array.from(t).map((t=>this.ppoService.rotatePage(t.pageIndex,Zt.RIGHT))))},i.updateStatus=function(){const t=this.component;this.permissionService.hasRotatePermission().then((e=>{e?t.unlock():t.lock()}))},n}(Gt);J.registerController(Qt);var te=i(1276),ee=i.n(te);J.registerPreConfiguredComponent("contextmenu",{template:ee()()}),J.registerPreConfiguredComponent("thumbnail-contextmenu",{template:ee()()});let ne=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.getName=function(){return"centered"},n.inject=function(){return{zoomService:X}},n.prototype.init=function(e){t.prototype.init.call(this,e);const n=e.element;let i=[];const r=()=>{i.forEach((t=>{t.style.cssText+="left: 0"}));const t=Array.from(n.querySelectorAll(".fv__ui-thumbnail-item"));if(0===t.length)return;if(0===n.clientWidth)return;const e=t[0].offsetTop,r=[];t.some((t=>t.offsetTop!==e||(r.push(t),!1)));const o=r.length,s=t.length%o;if(s>0){const e=t.slice(-s);e.forEach(((t,e)=>{const n=r[e].offsetLeft-t.offsetLeft;t.style.cssText+=`left: ${n}px`})),i=e}else i=[]};if(window.MutationObserver){const t=new MutationObserver((()=>{Promise.resolve().then(r)}));t.observe(n,{childList:!0}),this.addDestroyHook((()=>{t.disconnect()}))}else{["DOMNodeInserted","DOMNodeRemoved"].forEach((t=>{n.addEventListener(t,r),this.addDestroyHook((()=>{n.removeEventListener(t,r)}))}))}this.addDestroyHook(C(n,r),this.zoomService.onScaleChanged((()=>{Promise.resolve().then(r)})))},n}(l);J.getRegistry().registerDirective(ne);var ie,re=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))};!function(t){t.upper="upper",t.bottom="bottom",t.left="left",t.right="right"}(ie||(ie={}));const oe=document.createElement("div");oe.className="fv__ui-ppo-utils-helper-dom";const se=oe.cloneNode(!0);se.setAttribute("side",ie.upper);const ae=oe.cloneNode(!0);ae.setAttribute("side",ie.bottom);const ue=oe.cloneNode(!0);ue.setAttribute("side",ie.left);const ce=oe.cloneNode(!0);function le(t,e){let n,i,r,o,s,a,u=!1,c=0,l=0,h=!1;let f=()=>{};const d=e=>{f();let n=!1;requestAnimationFrame((function i(){n||(t.scrollTop+=10*e,requestAnimationFrame(i))})),f=()=>{n=!0}},p=(t,e)=>re(this,void 0,void 0,(function*(){o&&(o.style.cssText+=`\n            left: ${t-c}px;\n            top: ${e-l}px;\n        `)})),m=t=>{if(h&&"mousedown"===t.type)return;if(!e.usable())return;const n=t.target;if(!n||!e.isDragTarget(n))return;const i=e.transformTarget(n);if(i){if(r&&(r.classList.remove("fv__ui-ppo-utils-dragging"),i.removeAttribute("draggable")),r=i,window.TouchEvent&&t instanceof TouchEvent){o=i.cloneNode(!0),o.classList.add("fv__ui-ppo-utils-shadow"),o.classList.remove("fv__ui-thumbnail-item-active"),document.body.appendChild(o);const e=j(t),n=k(t),s=r.getBoundingClientRect();c=e-s.left,l=n-s.top,p(e,n)}r.classList.add("fv__ui-ppo-utils-dragging"),i.setAttribute("draggable","true"),e.listeners.dragstart(i,t)}},v=(t,o=t.target)=>{if(!r)return;if(!o||!e.isDragTarget(o))return;const s=e.transformTarget(o);if(!s)return;const a=de(o);if(a)return u=!1,n=a,i=s,void e.listeners.dragenter({dragFromElement:r,dragOverElement:s,side:a,sourceEvent:t});he(s,e.detectDirection())},g=t=>{const s=i,a=r,c=n;r&&r.classList.remove("fv__ui-ppo-utils-dragging"),i=void 0,n=void 0,r=void 0,o&&document.body.removeChild(o),o=void 0,u||s&&c&&a&&(s.removeAttribute("draggable"),e.listeners.dragend({side:c,dragFromElement:a,dragOverElement:s,sourceEvent:t}),fe())},b=n=>{const i=document.elementFromPoint(n.clientX,n.clientY);t.contains(i)||(u=!0,e.listeners.dragleave())},y=[];if(y.push(pe(document.body,"touchmove",(e=>{if(!o)return;const n=j(e),i=k(e);if(p(n,i),x.isTouchDevice){(()=>{s=document.createElement("div"),a=document.createElement("div"),s.classList.add("fv__ui-scroll-trigger-top"),a.classList.add("fv__ui-scroll-trigger-bottom");const e=t.getBoundingClientRect();a.style.cssText+=`\n            left: ${e.left}px;\n            top: ${e.bottom-10}px;\n            width: ${e.width}px;\n        `,s.style.cssText+=`\n            left: ${e.left}px;\n            top: ${e.top}px;\n            width: ${e.width}px;\n        `,t.append(s,a)})();const e=null==s?void 0:s.getBoundingClientRect(),n=null==a?void 0:a.getBoundingClientRect();e&&n&&(i<=e.bottom?d(-1):i>=n.top?d(1):f())}}),!0),pe(document.body,"mouseup",(()=>{r&&r.classList.remove("fv__ui-ppo-utils-dragging")}),!0)),x.isTouchDevice&&!x.isChromebook||y.push(pe(t,"mousedown",m,!0),pe(t,"dragenter",v,!0),pe(t,"dragleave",b),pe(document.body,"dragend",g,!0)),x.isTouchDevice){let n,i;y.push(pe(document.body,"mouseup",(()=>{h=!1}),!0),pe(t,"touchstart",(t=>{h=!0,i=setTimeout((()=>{m(t)}),500)}),!0),pe(t,"touchmove",(t=>{if(clearTimeout(i),!e.usable())return;const o=t.touches[0];if(!o)return;if(!r)return;t.preventDefault();const s=document.elementFromPoint(o.clientX,o.clientY);if(!s)return;let a;switch(s){case se:case ae:case ce:case ue:a=s;break;default:a=e.transformTarget(s)}n!==a&&a&&(n=a,v(t,a))}),{capture:!0,passive:!1}),pe(document.body,"touchend",(t=>{clearTimeout(i),f(),s&&s.remove(),a&&a.remove(),g(t)}),!0))}return S.isFirefox&&y.push(pe(t,"drop",(t=>{t.preventDefault(),t.stopPropagation()}))),()=>{y.forEach((t=>t()))}}function he(t,e){switch(e){case"vertical":ue.remove(),ce.remove(),t.appendChild(se),t.appendChild(ae);break;case"row":se.remove(),ae.remove(),t.appendChild(ue),t.appendChild(ce)}}function fe(){se.remove(),ae.remove(),ue.remove(),ce.remove()}function de(t){switch(t){case se:return ie.upper;case ae:return ie.bottom;case ce:return ie.right;case ue:return ie.left}}function pe(t,e,n,i){return t.addEventListener(e,n,i),()=>{t.removeEventListener(e,n,i)}}ce.setAttribute("side",ie.right);let me=function(){function t(t={offset:8,offsetHeightRatio:.06,width:2,container:document.body,side:ie.left}){this.defaultOptions=t,this.element=document.createElement("div"),this.element.classList.add("fv__ui-thumbnail-indicator-line")}var e=t.prototype;return e.show=function(t,e={}){const{offset:n=8,offsetHeightRatio:i=.06,width:r=2/(window.devicePixelRatio||1),container:o=document.body,side:s=ie.left}=Bt({},this.defaultOptions,e);if(s===ie.left||s===ie.right){const e=t.offsetTop,o=t.offsetHeight;if(this.element.style.cssText+=`\n                top: ${e-o*i*.5}px;\n                width: ${r}px;\n                height: ${o*(1+i)}px;\n            `,s===ie.left){const e=t.offsetLeft;this.element.style.cssText+=`\n                    left: ${e-n}px;\n                `}else{const e=t.offsetLeft+t.offsetWidth;this.element.style.cssText+=`\n                    left: ${e+n}px;\n                `}}else this.element.style.cssText+=`\n                width: ${t.offsetWidth}px;\n                height: ${r}px;\n                left: ${t.offsetLeft}px;\n            `,s===ie.upper?this.element.style.cssText+=`\n                    top: ${t.offsetTop-n}px;\n                `:this.element.style.cssText+=`\n                    top: ${t.offsetTop+t.offsetHeight+n}px;\n                `;o.appendChild(this.element)},e.hide=function(){this.element.parentElement&&this.element.parentElement.removeChild(this.element)},t}();function ve(t,e,n){if(e&&!Array.isArray(e)&&"number"==typeof e.length){var i=e.length;return function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}(e,void 0!==n&&n<i?n:i)}return t(e,n)}let ge=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"rearrange-pages"},n.inject=function(){return{listService:ct,ppoService:Wt,ppoPermission:qt}};var i=n.prototype;return i.isDisplayInARow=function(){const t=this.component,e=t.childAt(0),n=t.childAt(1);return!(!e||!n)&&e.element.offsetTop!==n.element.offsetTop},i.componentMounted=function(){const t=this.component.element,e=new me({container:t,width:2});let n=!1;this.addDestroyHook(this.ppoPermission.onModPermissionChange((t=>{n=t})),this.listService.onSelectedItemChange((e=>{t.querySelectorAll("[thumbnail-id][draggable]").forEach((t=>{t.removeAttribute("draggable")})),e.size>0&&t.querySelectorAll(Array.from(e).map((t=>`[thumbnail-id=${t.id}]`)).join(",")).forEach((t=>{t.setAttribute("draggable","true")}))})));const i=le(t,{usable:()=>n,isDragTarget:t=>{if(!(t instanceof Element))return!1;return!!t.closest(".fv__ui-thumbnail-item")},detectDirection:()=>this.isDisplayInARow()?"vertical":"row",transformTarget:t=>t instanceof Element?t.closest(".fv__ui-thumbnail-item"):null,listeners:{dragstart:(t,e)=>{},dragenter:t=>{const{dragOverElement:n}=t;e.hide();const i=t.dragOverElement.getAttribute("thumbnail-id");if(!i)return;const r=this.listService.getThumbnailItemById(i);if(!r)return;this.component.childAt(r.pageIndex).hideContextMenu();const o=this.getDestPageIndex(i,t.side);if(o<0)return;const s=this.getSelectedPageIndexes();this.shouldOperationBeIgnored(s,o)||e.show(n,{side:t.side})},dragend:t=>{e.hide();const n=t.dragOverElement.getAttribute("thumbnail-id");n&&this.movePage(n,t)},dragleave:()=>{e.hide()}}});this.addDestroyHook(i)},i.isCopyPagesOperation=function(){return!1},i.shouldOperationBeIgnored=function(t,e){if(this.isCopyPagesOperation())return!1;t.sort();const n=Math.max.apply(Math,[e].concat(ve(et,t)))+1,i=Array(n).fill(0).map(((t,e)=>e)),r=i.slice(0);return t.slice(0).sort(((t,e)=>t>e?-1:1)).forEach((t=>{t<e&&e--,r.splice(t,1)})),r.splice.apply(r,[e,0].concat(ve(et,t))),!r.some(((t,e)=>i[e]!==t))},i.getDestPageIndex=function(t,e){const n=this.listService.getThumbnailItemById(t);if(!n)return-1;switch(e){case ie.left:case ie.upper:return n.pageIndex;case ie.right:case ie.bottom:return n.pageIndex+1}},i.getSelectedPageIndexes=function(){return Array.from(this.listService.getSelectedItems()).map((t=>t.pageIndex)).sort()},i.movePage=function(t,e){const n=e.side,i=this.getDestPageIndex(t,n);if(i<0)return;const r=this.getSelectedPageIndexes();if(this.isCopyPagesOperation())this.ppoService.copyPages(r,i);else{if(this.shouldOperationBeIgnored(r,i))return;this.ppoService.movePages(r,i)}},n}(l);var be;J.getRegistry().registerDirective(ge),function(t){t[t.MOVE=0]="MOVE",t[t.RESIZE=1]="RESIZE",t[t.NONE=2]="NONE"}(be||(be={}));const ye={width:12,height:12},xe="fv__ui-thumbnail-visible-rect-control-resizing",Se="fv__ui-thumbnail-visible-rect-control-moving",{max:Ie,min:we}=Math;let Pe=function(t){function n(e){var n;return(n=t.call(this)||this).element=document.createElement("div"),n.currentRatio=1,n.isVisible=!0,n.getThumbnailSize=e.getThumbnailSize,n.onPositionUpdated=e.onPositionUpdated,n.onRectUpdated=e.onRectUpdated,n.onStartOperate=e.onStartOperate,n.onEndOperate=e.onEndOperate,n.init(),n}e(n,t);var i=n.prototype;return i.init=function(){this.element.classList.add("fv__ui-thumbnail-visible-rect-control");let t=be.NONE;const e=e=>{t!==be.NONE&&(e.preventDefault(),e.stopPropagation())};let n,i,r,o;const s=new z.Manager(this.element);s.add(new z.Pan({direction:z.DIRECTION_ALL})),s.on("panstart",(e=>{r=n={left:this.element.offsetLeft,top:this.element.offsetTop},o=i={width:this.element.offsetWidth,height:this.element.offsetHeight},this.onStartOperate(t)})),s.on("panmove",(e=>{if(t===be.MOVE){const t={left:e.deltaX,top:e.deltaY};r=this.handleMove(n,t,i)}else if(t===be.RESIZE){const t={width:e.deltaX,height:e.deltaY};o=this.handleResize(i,t)}})),s.on("panend",(e=>{t===be.MOVE?this.triggerPositionUpdate(r):t===be.RESIZE&&this.triggerSizeUpdate(r,o),this.onEndOperate(t)})),this.addDestroyHook((()=>{s.destroy()}),this.addEventListener("mousemove",(e=>{t=this.resolveOperationType(e.offsetX,e.offsetY),this.updateOperatingStyle(t)})),this.addEventListener("dragstart",e),this.addEventListener("pointerdown",e))},i.triggerPositionUpdate=function(t){this.onPositionUpdated({left:t.left/this.currentRatio,top:t.top/this.currentRatio})},i.triggerSizeUpdate=function(t,e){this.onRectUpdated({left:t.left/this.currentRatio,top:t.top/this.currentRatio,width:e.width/this.currentRatio,height:e.height/this.currentRatio})},i.handleResize=function(t,e){const n=t.width+e.width,i=t.height+e.height,r=this.getThumbnailSize(),o=r.width-this.element.offsetLeft,s=r.height-this.element.offsetTop,a=Ie(ye.width,we(n,o)),u=Ie(ye.height,we(i,s));return this.element.style.cssText+=`\n            width: ${a}px;\n            height: ${u}px;\n        `,{width:a,height:u}},i.handleMove=function(t,e,n){const i=this.getThumbnailSize(),r=i.width-n.width,o=i.height-n.height,s=t.left+e.left,a=t.top+e.top,u=Ie(0,we(s,r)),c=Ie(0,we(a,o));return this.element.style.cssText+=`\n            left: ${u}px;\n            top: ${c}px;\n        `,{left:u,top:c}},i.resolveOperationType=function(t,e){const n=this.element.offsetWidth-6,i=this.element.offsetHeight-6;return t>=n&&e>=i?be.RESIZE:t<=6||t>=n||e<=6||e>=i?be.MOVE:be.NONE},i.updateOperatingStyle=function(t){switch(this.element.classList.remove(xe),this.element.classList.remove(Se),t){case be.RESIZE:this.element.classList.add(xe);break;case be.MOVE:this.element.classList.add(Se)}},i.addEventListener=function(t,e){return this.element.addEventListener(t,e),()=>{this.element.removeEventListener(t,e)}},i.show=function(){this.isVisible=!0,this.element.classList.remove("fv__ui-hide")},i.hide=function(){this.isVisible=!1,this.element.classList.add("fv__ui-hide")},i.update=function(t,e){const n=this.getThumbnailSize(),i=e.width,r=e.height,o=n.width/t.width;this.currentRatio=o,this.element.style.cssText+=`\n            left: ${e.left*o}px;\n            top: ${e.top*o}px;\n            width: ${i*o}px;\n            height: ${r*o}px;\n        `},n}(I),Ce=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"visible-rect-control"},n.inject=function(){return{listService:ct,viewer:b}};var i=n.prototype;return i.init=function(e){if(t.prototype.init.call(this,e),!(e instanceof Ot))throw new Error(`The directive @${this.attrName} must be used on <thumbnail:thumbnail-viewer> component!`);W.property(this,"control",(()=>{let t=!1;const n=new Pe({getThumbnailSize:()=>this.getThumbnailSize(),onPositionUpdated:t=>this.updatePagePosition(t),onRectUpdated:t=>this.updatePageRect(t),onStartOperate:()=>{t=!0},onEndOperate:()=>{t=!1}});e.element.appendChild(n.element);const i=this.viewer.getPDFViewerRender();return this.addDestroyHook(i.scrollWrap.addScrollEventListener((()=>{t||this.updateVisibleRect()}))),n})),this.addDestroyHook(e.on("update-thumbnail",(()=>{this.updateVisibleRect()})),e.pdfUI.addViewerEventListener(y.renderPageSuccess,(t=>{const e=this.getPageRender(),n=W.isPropertyIntialized(this,"control")?this.control:void 0;(e===t||(null==n?void 0:n.isVisible))&&this.updateVisibleRect()})))},i.getThumbnailSize=function(){const t=this.component.getThumbnailImage();return t?{width:t.width,height:t.height}:{width:0,height:0}},i.updatePagePosition=function(t){const e=this.getPageRender();if(!e)return;const n=e.getCurrentVisibleRect(),i=t.left-n.left,r=t.top-n.top;this.viewer.getPDFViewerRender().scrollWrap.scrollBy(i,r)},i.updatePageRect=function(t){if(!this.viewer.getPDFViewerRender())return;const e=this.getPageRender();if(!e)return;const n=e.getCurrentVisibleRect(),i=n.width/t.width,r=n.height/t.height,o=Math.min(i,r),s=e.scale,a=e.rotate,u=s*o;e.getPDFPage().then((n=>{const[i,r]=n.reverseDevicePoint([t.left,t.top],s,a);this.component.pdfUI.zoomTo(u,{pageIndex:e.index,x:i,y:r})}))},i.getPageRender=function(){const t=this.component.getThumbnailId();if(!t)return;const e=this.viewer.getPDFDocRender();if(!e)return;const n=this.listService.getThumbnailItemById(t);if(!n)return;const i=e.getPDFPageRender(n.pageIndex);return i||void 0},i.updateVisibleRect=function(){const t=this.viewer.getPDFDocRender();if(!t)return;const e=this.getPageRender();if(!e)return;if(t.getCurrentPageIndex()!==e.index){return void(W.isPropertyIntialized(this,"control")&&this.control.hide())}this.control.show();const n=e.getCurrentVisibleRect(),i={width:e.$ui.width(),height:e.$ui.height()};this.control.update(i,n)},n}(l);J.getRegistry().registerDirective(Ce);var Te=i(6512),Ee=i.n(Te);u.root().registerPreConfiguredComponent("thumbnail-sidebar-panel",{template:Ee()()});let Le=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).text="thumbnail:contextmenu.deletePage",e}return e(n,t),n.getName=function(){return"delete-page-contextmenu-item"},n.inject=function(){return{thumbnailListService:ct}},n.prototype.mounted=function(){t.prototype.mounted.call(this),this.addDestroyHook(this.parent.on("shown",(()=>{this.thumbnailListService.getSelectedItems().size>1?this.text="thumbnail:contextmenu.delete":this.text="thumbnail:contextmenu.deletePage",this.digest(!0)})))},n}(a.createSuperClass({template:'\n        <contextmenu-item feature="delete" @controller="thumbnail:DeletePageController" @setter.text="$component.text"></contextmenu-item>\n    '}));J.registerComponent(Le);let Oe=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"drop-to-merge-doc"},n.inject=function(){return{ppoFeaturesService:Wt,listService:ct,ppoPermissionService:qt,viewer:b}};var i=n.prototype;return i.init=function(e){t.prototype.init.call(this,e),e.setAttribute("draggable","true")},i.componentMounted=function(){if(x.isMobile)return;const t=this.component.element,e=new me({container:t});!function(t,e){let n,i;const r=pe(t,"dragover",(t=>{var r;if(!(t.preventDefault(),S.isSafari||(null===(r=t.dataTransfer)||void 0===r?void 0:r.items.length)))return;const o=t.target;if(!o)return;if(!e.isDragTarget(o))return;const s=e.transformTarget(o);if(!s)return;const a=de(o);if(a)return n=a,i=s,void e.listeners.dragover({dragOverElement:s,side:a,sourceEvent:t});he(s,e.detectDirection())}),!0),o=pe(t,"dragleave",(r=>{const o=document.elementFromPoint(r.clientX,r.clientY);i&&n&&!t.contains(o)&&e.listeners.dragleave()})),s=pe(t,"drop",(t=>{var r;t.preventDefault();const o=null===(r=t.dataTransfer)||void 0===r?void 0:r.files,s=n,a=i;n=void 0,i=void 0,o&&s&&a?(e.listeners.drop({fileList:o,side:s,dragOverElement:a}),fe()):e.listeners.abort()}))}(t,{usable:()=>!0,isDragTarget:t=>{if(!(t instanceof Element))return!1;return!!t.closest(".fv__ui-thumbnail-item")},transformTarget:t=>t instanceof Element?t.closest(".fv__ui-thumbnail-item"):null,detectDirection:()=>this.isDisplayInARow()?"vertical":"row",listeners:{dragover:t=>{e.show(t.dragOverElement,{side:t.side})},drop:t=>{e.hide();const n=t.fileList[0];if(!n)return;const i=this.getDropOverPageIndex(t.dragOverElement,t.side);-1!==i&&this.mergeFile(n,i)},dragleave:()=>{e.hide()},abort:()=>{e.hide()}}})},i.getDropOverPageIndex=function(t,e){const n=t.getAttribute("thumbnail-id");if(n){const t=this.listService.getThumbnailItemById(n);if(t)switch(e){case ie.left:case ie.upper:return t.pageIndex;case ie.right:case ie.bottom:return t.pageIndex+1}}const i=this.viewer.getCurrentPDFDoc();return i?i.getPageCount():-1},i.mergeFile=function(t,e){const n=this.component.getPDFUI(),i=()=>{n.alert({message:"alert.formatError",level:"error"})};this.viewer.getCurrentPDFDoc()&&_.isPDFFile(t).then((r=>{r?n.loading().then((n=>{try{return this.ppoFeaturesService.mergeDoc(e,t).finally((()=>{n.close()}))}catch(t){throw n.close(),t}})):i()}),(t=>{i()}))},i.isDisplayInARow=function(){const t=this.component,e=t.childAt(0),n=t.childAt(1);return!(!e||!n)&&e.element.offsetTop!==n.element.offsetTop},i.checkPermission=function(){return this.ppoPermissionService.hasModPermission().then((t=>{this.component.ableModDoc=t}))},n}(l);J.getRegistry().registerDirective(Oe);let Re=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).permissionChecker={rotate:()=>e.permissionService.hasRotatePermission(),delete:()=>e.permissionService.hasDeletePermission(),insert:()=>e.permissionService.hasInsertPermission(),mod:()=>e.permissionService.hasModPermission()},e}return e(n,t),n.getName=function(){return"permission"},n.inject=function(){return{permissionService:qt}},n.prototype.init=function(e){t.prototype.init.call(this,e);const n=Object.keys(this.permissionChecker);this.addDestroyHook(e.on("shown",(()=>{n.forEach((t=>{(0,this.permissionChecker[t])().then((n=>{e.querySelectorAll(`[feature=${t}]`).forEach((t=>{n?t.unlock():t.lock()}))}))}))})))},n}(l);J.getRegistry().registerDirective(Re);let De=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"thumbnail"},n.getLoader=function(){return q()};var i=n.prototype;return i.init=function(t){this.pdfUI=t},i.zoomTo=function(t){return"number"==typeof t&&this.pdfUI.getServiceInstance(X).zoomTo(t)},i.getZoomScale=function(){return this.pdfUI.getServiceInstance(X).getScaleRatio()},i.setAvailableScaleValues=function(t,e){return!(!Array.isArray(t)||-1===t.indexOf(e))&&this.pdfUI.getServiceInstance(X).setAvailableScaleValues(t,e)},i.onSelectThumbnail=function(t){let e;return this.pdfUI.getServiceInstance(ct).onSelectedItemChange((n=>{const i=Array.from(n).map((t=>t.pageIndex));e?(i.length!==e.length||i.some((t=>-1===e.indexOf(t))))&&t(i,e):t(i,[]),e=i}))},n}(s);var Ae=De}(),r=r.default}()}));