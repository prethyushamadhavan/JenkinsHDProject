!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],e):"object"==typeof exports?exports.RedactionAddon=e(require("UIExtension")):t.RedactionAddon=e(t.UIExtension)}(self,(function(t){return function(){var e={7420:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<layer name="redaction-page-popup" class="fv__redaction-page-popup center"  append-to="body" class="center" modal backdrop >\n<layer-header title="redaction:buttons.redact_page" @draggable="{type:\'parent\'}"></layer-header>\n<div class="fv__range-body">\n<div class="fv__range-title">redaction:dialog.pageRange</div>\n<div class="fv__range-types">\n<div class="fv__redaction-container">\n<label>\n<input name="redaction-page-type" class="redaction-page-radio" type="radio" checked value="1" />\n<span data-i18n="redaction:dialog.redaction_page.mark_current_page"></span>\n</label>\n</div>\n<div class="fv__redaction-container">\n<label>\n<input name="redaction-page-type" class="redaction-page-radio" type="radio" value="2" />\n<span data-i18n="redaction:dialog.redaction_page.mark_specific_page"></span>\n<div class="fv__redaction-range">\n<range:input\nname="redactPages"\nlayer-name="redaction-page-popup"\ntype="common"\nrange="1"\npage-count="1"></range:input>\n</div>\n</label>\n</div> \n</div> \n</div> \n<div class="fv__redaction-container footer" style="text-align:right">\n<button type="button" class="fv__redaction-btn fv__ui-dialog-ok-button" name="fv__ui-dialog-ok-button" data-i18n="redaction:buttons.ok"></button>\n<button type="button" class="fv__redaction-cancel fv__ui-dialog-cancel-button" name="fv__ui-dialog-cancel-button" data-i18n="redaction:buttons.cancel"></button>\n</div>\n</layer>','<layer name="redaction-page-popup" class="fv__redaction-page-popup center"  append-to="body" class="center" modal backdrop >\n<layer-header title="redaction:buttons.redact_page" @draggable="{type:\'parent\'}"></layer-header>\n<div class="fv__range-body">\n<div class="fv__range-title">redaction:dialog.pageRange</div>\n<div class="fv__range-types">\n<div class="fv__redaction-container">\n<label>\n<input name="redaction-page-type" class="redaction-page-radio" type="radio" checked value="1" />\n<span data-i18n="redaction:dialog.redaction_page.mark_current_page"></span>\n</label>\n</div>\n<div class="fv__redaction-container">\n<label>\n<input name="redaction-page-type" class="redaction-page-radio" type="radio" value="2" />\n<span data-i18n="redaction:dialog.redaction_page.mark_specific_page"></span>\n<div class="fv__redaction-range">\n<range:input\nname="redactPages"\nlayer-name="redaction-page-popup"\ntype="common"\nrange="1"\npage-count="1"></range:input>\n</div>\n</label>\n</div> \n</div> \n</div> \n<div class="fv__redaction-container footer" style="text-align:right">\n<button type="button" class="fv__redaction-btn fv__ui-dialog-ok-button" name="fv__ui-dialog-ok-button" data-i18n="redaction:buttons.ok"></button>\n<button type="button" class="fv__redaction-cancel fv__ui-dialog-cancel-button" name="fv__ui-dialog-cancel-button" data-i18n="redaction:buttons.cancel"></button>\n</div>\n</layer>'}},6520:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<dropdown @tooltip name="create-redaction-controllers" tooltip-title="redaction:tooltips.redaction" icon-class="fv__icon-toolbar-redaction" popup-class="fv__ui-redaction-redaction-list" class="fv__ui-redaction-dropdown" text="redaction:buttons.title" separate="false">\n<dropdown-button class="fv__ui-redaction-item" name="create-text-redaction" @controller="redaction:RedactionTextAndImageController" icon-class="fv__icon-toolbar-text-redaction" tabindex="0">\nredaction:buttons.redact_text\n</dropdown-button>\n<dropdown-button class="fv__ui-redaction-item" name="create-area-redaction" @controller="redaction:RedactionController" icon-class="fv__icon-toolbar-area-redaction" tabindex="0">\nredaction:buttons.redact_area\n</dropdown-button>\n<dropdown-button class="fv__ui-redaction-item" name="create-page-redaction" @controller="redaction:RedactionPageController" icon-class="fv__icon-toolbar-page-redaction" tabindex="0">\nredaction:buttons.redact_page\n</dropdown-button>\n</dropdown>','<dropdown @tooltip name="create-redaction-controllers" tooltip-title="redaction:tooltips.redaction" icon-class="fv__icon-toolbar-redaction" popup-class="fv__ui-redaction-redaction-list" class="fv__ui-redaction-dropdown" text="redaction:buttons.title" separate="false">\n<dropdown-button class="fv__ui-redaction-item" name="create-text-redaction" @controller="redaction:RedactionTextAndImageController" icon-class="fv__icon-toolbar-text-redaction" tabindex="0">\nredaction:buttons.redact_text\n</dropdown-button>\n<dropdown-button class="fv__ui-redaction-item" name="create-area-redaction" @controller="redaction:RedactionController" icon-class="fv__icon-toolbar-area-redaction" tabindex="0">\nredaction:buttons.redact_area\n</dropdown-button>\n<dropdown-button class="fv__ui-redaction-item" name="create-page-redaction" @controller="redaction:RedactionPageController" icon-class="fv__icon-toolbar-page-redaction" tabindex="0">\nredaction:buttons.redact_page\n</dropdown-button>\n</dropdown>'}},347:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<ribbon-button icon-class="fv__icon-toolbar-redaction" @tooltip name="create-redaction-controllers" @var.self="$component"  tooltip-title="redaction:tooltips.redaction" text="redaction:buttons.title" not-immediately="true">\n<dropdown popup-class="fv__ui-redaction-redaction-list" class="fv__ui-redaction-dropdown" name="create-redactions-ribbon-inner-dropdown" separate="false">\n<redaction:create-text-image-redaction-button></redaction:create-text-image-redaction-button>\n<redaction:create-area-redaction-button></redaction:create-area-redaction-button>\n<redaction:create-page-redaction-button @require-modules="range"></redaction:create-page-redaction-button>\n</dropdown>\n</ribbon-button>','<ribbon-button icon-class="fv__icon-toolbar-redaction" @tooltip name="create-redaction-controllers" @var.self="$component"  tooltip-title="redaction:tooltips.redaction" text="redaction:buttons.title" not-immediately="true">\n<dropdown popup-class="fv__ui-redaction-redaction-list" class="fv__ui-redaction-dropdown" name="create-redactions-ribbon-inner-dropdown" separate="false">\n<redaction:create-text-image-redaction-button></redaction:create-text-image-redaction-button>\n<redaction:create-area-redaction-button></redaction:create-area-redaction-button>\n<redaction:create-page-redaction-button @require-modules="range"></redaction:create-page-redaction-button>\n</dropdown>\n</ribbon-button>'}},7354:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<xbutton class="fv__ui-redaction-item"\nname="create-area-redaction"\n@tooltip\ntooltip-title="redaction:buttons.redact_area"\n@controller="redaction:RedactionController"\nicon-class="fx-icon-sm fv__icon-toolbar-area-redaction">\nredaction:buttons.redact_area\n</xbutton>','<xbutton class="fv__ui-redaction-item"\nname="create-area-redaction"\n@tooltip\ntooltip-title="redaction:buttons.redact_area"\n@controller="redaction:RedactionController"\nicon-class="fx-icon-sm fv__icon-toolbar-area-redaction">\nredaction:buttons.redact_area\n</xbutton>'}},4925:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<xbutton class="fv__ui-redaction-item"\nname="create-page-redaction"\n@tooltip\ntooltip-title="redaction:buttons.redact_page"\n@controller="redaction:RedactionPageController"\nicon-class="fx-icon-sm fv__icon-toolbar-page-redaction">\nredaction:buttons.redact_page\n</xbutton>','<xbutton class="fv__ui-redaction-item"\nname="create-page-redaction"\n@tooltip\ntooltip-title="redaction:buttons.redact_page"\n@controller="redaction:RedactionPageController"\nicon-class="fx-icon-sm fv__icon-toolbar-page-redaction">\nredaction:buttons.redact_page\n</xbutton>'}},79:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<xbutton class="fv__ui-redaction-item"\nname="create-text-image-redaction"\n@tooltip\ntooltip-title="redaction:buttons.redact_text_image"\n@controller="redaction:RedactionTextAndImageController"\nicon-class="fx-icon-sm fv__icon-toolbar-text-image-redaction">\nredaction:buttons.redact_text_image\n</xbutton>','<xbutton class="fv__ui-redaction-item"\nname="create-text-image-redaction"\n@tooltip\ntooltip-title="redaction:buttons.redact_text_image"\n@controller="redaction:RedactionTextAndImageController"\nicon-class="fx-icon-sm fv__icon-toolbar-text-image-redaction">\nredaction:buttons.redact_text_image\n</xbutton>'}},408:function(t){t.exports=null},5585:function(t,e,n){"use strict";
/*! art-template@runtime | https://github.com/aui/art-template */var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},o=Object.create(r),i=/["&'<>]/;function a(t){return"string"!=typeof t&&(t=null==t?"":"function"==typeof t?a(t.call(t)):JSON.stringify(t)),t}o.$escape=function(t){return function(t){var e=""+t,n=i.exec(e);if(!n)return t;var r="",o=void 0,a=void 0,c=void 0;for(o=n.index,a=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:c="&#34;";break;case 38:c="&#38;";break;case 39:c="&#39;";break;case 60:c="&#60;";break;case 62:c="&#62;";break;default:continue}a!==o&&(r+=e.substring(a,o)),a=o+1,r+=c}return a!==o?r+e.substring(a,o):r}(a(t))},o.$each=function(t,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++)e(t[n],n);else for(var o in t)e(t[o],o)},t.exports=o},5779:function(t,e,n){"use strict";t.exports=n(5585)},4616:function(e){"use strict";e.exports=t},509:function(t,e,n){"use strict";var r=n(9985),o=n(3691),i=TypeError;t.exports=function(t){if(r(t))return t;throw new i(o(t)+" is not a function")}},2655:function(t,e,n){"use strict";var r=n(9429),o=n(3691),i=TypeError;t.exports=function(t){if(r(t))return t;throw new i(o(t)+" is not a constructor")}},3550:function(t,e,n){"use strict";var r=n(9985),o=String,i=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw new i("Can't set "+o(t)+" as a prototype")}},7370:function(t,e,n){"use strict";var r=n(4201),o=n(5391),i=n(2560).f,a=r("unscopables"),c=Array.prototype;void 0===c[a]&&i(c,a,{configurable:!0,value:o(null)}),t.exports=function(t){c[a][t]=!0}},767:function(t,e,n){"use strict";var r=n(3622),o=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw new o("Incorrect invocation")}},5027:function(t,e,n){"use strict";var r=n(8999),o=String,i=TypeError;t.exports=function(t){if(r(t))return t;throw new i(o(t)+" is not an object")}},4328:function(t,e,n){"use strict";var r=n(5290),o=n(7578),i=n(6310),a=function(t){return function(e,n,a){var c,s=r(e),u=i(s),l=o(a,u);if(t&&n!=n){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((t||l in s)&&s[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},6834:function(t,e,n){"use strict";var r=n(3689);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},9015:function(t,e,n){"use strict";var r=n(7578),o=n(6310),i=n(6522),a=Array,c=Math.max;t.exports=function(t,e,n){for(var s=o(t),u=r(e,s),l=r(void 0===n?s:n,s),p=a(c(l-u,0)),d=0;u<l;u++,d++)i(p,d,t[u]);return p.length=d,p}},6004:function(t,e,n){"use strict";var r=n(8844);t.exports=r([].slice)},382:function(t,e,n){"use strict";var r=n(9015),o=Math.floor,i=function(t,e){var n=t.length,s=o(n/2);return n<8?a(t,e):c(t,i(r(t,0,s),e),i(r(t,s),e),e)},a=function(t,e){for(var n,r,o=t.length,i=1;i<o;){for(r=i,n=t[i];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==i++&&(t[r]=n)}return t},c=function(t,e,n,r){for(var o=e.length,i=n.length,a=0,c=0;a<o||c<i;)t[a+c]=a<o&&c<i?r(e[a],n[c])<=0?e[a++]:n[c++]:a<o?e[a++]:n[c++];return t};t.exports=i},6431:function(t,e,n){"use strict";var r=n(4201)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){try{if(!e&&!o)return!1}catch(t){return!1}var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},6648:function(t,e,n){"use strict";var r=n(8844),o=r({}.toString),i=r("".slice);t.exports=function(t){return i(o(t),8,-1)}},926:function(t,e,n){"use strict";var r=n(3043),o=n(9985),i=n(6648),a=n(4201)("toStringTag"),c=Object,s="Arguments"===i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=c(t),a))?n:s?i(e):"Object"===(r=i(e))&&o(e.callee)?"Arguments":r}},8758:function(t,e,n){"use strict";var r=n(6812),o=n(9152),i=n(2474),a=n(2560);t.exports=function(t,e,n){for(var c=o(e),s=a.f,u=i.f,l=0;l<c.length;l++){var p=c[l];r(t,p)||n&&r(n,p)||s(t,p,u(e,p))}}},1748:function(t,e,n){"use strict";var r=n(3689);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},7807:function(t){"use strict";t.exports=function(t,e){return{value:t,done:e}}},5773:function(t,e,n){"use strict";var r=n(7697),o=n(2560),i=n(5684);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},5684:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6522:function(t,e,n){"use strict";var r=n(8360),o=n(2560),i=n(5684);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},2148:function(t,e,n){"use strict";var r=n(8702),o=n(2560);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),o.f(t,e,n)}},1880:function(t,e,n){"use strict";var r=n(9985),o=n(2560),i=n(8702),a=n(5014);t.exports=function(t,e,n,c){c||(c={});var s=c.enumerable,u=void 0!==c.name?c.name:e;if(r(n)&&i(n,u,c),c.global)s?t[e]=n:a(e,n);else{try{c.unsafe?t[e]&&(s=!0):delete t[e]}catch(t){}s?t[e]=n:o.f(t,e,{value:n,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return t}},5014:function(t,e,n){"use strict";var r=n(9037),o=Object.defineProperty;t.exports=function(t,e){try{o(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},8494:function(t,e,n){"use strict";var r=n(3691),o=TypeError;t.exports=function(t,e){if(!delete t[e])throw new o("Cannot delete property "+r(e)+" of "+r(t))}},7697:function(t,e,n){"use strict";var r=n(3689);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2659:function(t){"use strict";var e="object"==typeof document&&document.all,n=void 0===e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},6420:function(t,e,n){"use strict";var r=n(9037),o=n(8999),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},6338:function(t){"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3265:function(t,e,n){"use strict";var r=n(6420)("span").classList,o=r&&r.constructor&&r.constructor.prototype;t.exports=o===Object.prototype?void 0:o},7365:function(t,e,n){"use strict";var r=n(71).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},2532:function(t,e,n){"use strict";var r=n(8563),o=n(806);t.exports=!r&&!o&&"object"==typeof window&&"object"==typeof document},8563:function(t){"use strict";t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},7298:function(t,e,n){"use strict";var r=n(71);t.exports=/MSIE|Trident/.test(r)},3221:function(t,e,n){"use strict";var r=n(71);t.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},4764:function(t,e,n){"use strict";var r=n(71);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},806:function(t,e,n){"use strict";var r=n(9037),o=n(6648);t.exports="process"===o(r.process)},7486:function(t,e,n){"use strict";var r=n(71);t.exports=/web0s(?!.*chrome)/i.test(r)},71:function(t){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:function(t,e,n){"use strict";var r,o,i=n(9037),a=n(71),c=i.process,s=i.Deno,u=c&&c.versions||s&&s.version,l=u&&u.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),t.exports=o},7922:function(t,e,n){"use strict";var r=n(71).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},2739:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:function(t,e,n){"use strict";var r=n(9037),o=n(2474).f,i=n(5773),a=n(1880),c=n(5014),s=n(8758),u=n(5266);t.exports=function(t,e){var n,l,p,d,f,h=t.target,v=t.global,g=t.stat;if(n=v?r:g?r[h]||c(h,{}):(r[h]||{}).prototype)for(l in e){if(d=e[l],p=t.dontCallGetSet?(f=o(n,l))&&f.value:n[l],!u(v?l:h+(g?".":"#")+l,t.forced)&&void 0!==p){if(typeof d==typeof p)continue;s(d,p)}(t.sham||p&&p.sham)&&i(d,"sham",!0),a(n,l,d,t)}}},3689:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},1735:function(t,e,n){"use strict";var r=n(7215),o=Function.prototype,i=o.apply,a=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},4071:function(t,e,n){"use strict";var r=n(6576),o=n(509),i=n(7215),a=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?a(t,e):function(){return t.apply(e,arguments)}}},7215:function(t,e,n){"use strict";var r=n(3689);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},2615:function(t,e,n){"use strict";var r=n(7215),o=Function.prototype.call;t.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},1236:function(t,e,n){"use strict";var r=n(7697),o=n(6812),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,c=o(i,"name"),s=c&&"something"===function(){}.name,u=c&&(!r||r&&a(i,"name").configurable);t.exports={EXISTS:c,PROPER:s,CONFIGURABLE:u}},2743:function(t,e,n){"use strict";var r=n(8844),o=n(509);t.exports=function(t,e,n){try{return r(o(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},6576:function(t,e,n){"use strict";var r=n(6648),o=n(8844);t.exports=function(t){if("Function"===r(t))return o(t)}},8844:function(t,e,n){"use strict";var r=n(7215),o=Function.prototype,i=o.call,a=r&&o.bind.bind(i,i);t.exports=r?a:function(t){return function(){return i.apply(t,arguments)}}},6058:function(t,e,n){"use strict";var r=n(9037),o=n(9985);t.exports=function(t,e){return arguments.length<2?(n=r[t],o(n)?n:void 0):r[t]&&r[t][e];var n}},1664:function(t,e,n){"use strict";var r=n(926),o=n(4849),i=n(981),a=n(9478),c=n(4201)("iterator");t.exports=function(t){if(!i(t))return o(t,c)||o(t,"@@iterator")||a[r(t)]}},5185:function(t,e,n){"use strict";var r=n(2615),o=n(509),i=n(5027),a=n(3691),c=n(1664),s=TypeError;t.exports=function(t,e){var n=arguments.length<2?c(t):e;if(o(n))return i(r(n,t));throw new s(a(t)+" is not iterable")}},4849:function(t,e,n){"use strict";var r=n(509),o=n(981);t.exports=function(t,e){var n=t[e];return o(n)?void 0:r(n)}},9037:function(t,e,n){"use strict";var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},6812:function(t,e,n){"use strict";var r=n(8844),o=n(690),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},7248:function(t){"use strict";t.exports={}},920:function(t){"use strict";t.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}},2688:function(t,e,n){"use strict";var r=n(6058);t.exports=r("document","documentElement")},8506:function(t,e,n){"use strict";var r=n(7697),o=n(3689),i=n(6420);t.exports=!r&&!o((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},4413:function(t,e,n){"use strict";var r=n(8844),o=n(3689),i=n(6648),a=Object,c=r("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"===i(t)?c(t,""):a(t)}:a},6738:function(t,e,n){"use strict";var r=n(8844),o=n(9985),i=n(4091),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},618:function(t,e,n){"use strict";var r,o,i,a=n(9834),c=n(9037),s=n(8999),u=n(5773),l=n(6812),p=n(4091),d=n(2713),f=n(7248),h="Object already initialized",v=c.TypeError,g=c.WeakMap;if(a||p.state){var m=p.state||(p.state=new g);m.get=m.get,m.has=m.has,m.set=m.set,r=function(t,e){if(m.has(t))throw new v(h);return e.facade=t,m.set(t,e),e},o=function(t){return m.get(t)||{}},i=function(t){return m.has(t)}}else{var b=d("state");f[b]=!0,r=function(t,e){if(l(t,b))throw new v(h);return e.facade=t,u(t,b,e),e},o=function(t){return l(t,b)?t[b]:{}},i=function(t){return l(t,b)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!s(e)||(n=o(e)).type!==t)throw new v("Incompatible receiver, "+t+" required");return n}}}},3292:function(t,e,n){"use strict";var r=n(4201),o=n(9478),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},9985:function(t,e,n){"use strict";var r=n(2659),o=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===o}:function(t){return"function"==typeof t}},9429:function(t,e,n){"use strict";var r=n(8844),o=n(3689),i=n(9985),a=n(926),c=n(6058),s=n(6738),u=function(){},l=[],p=c("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=r(d.exec),h=!d.test(u),v=function(t){if(!i(t))return!1;try{return p(u,l,t),!0}catch(t){return!1}},g=function(t){if(!i(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!f(d,s(t))}catch(t){return!0}};g.sham=!0,t.exports=!p||o((function(){var t;return v(v.call)||!v(Object)||!v((function(){t=!0}))||t}))?g:v},5266:function(t,e,n){"use strict";var r=n(3689),o=n(9985),i=/#|\.prototype\./,a=function(t,e){var n=s[c(t)];return n===l||n!==u&&(o(e)?r(e):!!e)},c=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},981:function(t){"use strict";t.exports=function(t){return null==t}},8999:function(t,e,n){"use strict";var r=n(9985),o=n(2659),i=o.all;t.exports=o.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===i}:function(t){return"object"==typeof t?null!==t:r(t)}},3931:function(t){"use strict";t.exports=!1},734:function(t,e,n){"use strict";var r=n(6058),o=n(9985),i=n(3622),a=n(9525),c=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return o(e)&&i(e.prototype,c(t))}},8734:function(t,e,n){"use strict";var r=n(4071),o=n(2615),i=n(5027),a=n(3691),c=n(3292),s=n(6310),u=n(3622),l=n(5185),p=n(1664),d=n(2125),f=TypeError,h=function(t,e){this.stopped=t,this.result=e},v=h.prototype;t.exports=function(t,e,n){var g,m,b,y,x,_,w,P=n&&n.that,C=!(!n||!n.AS_ENTRIES),S=!(!n||!n.IS_RECORD),E=!(!n||!n.IS_ITERATOR),R=!(!n||!n.INTERRUPTED),D=r(e,P),O=function(t){return g&&d(g,"normal",t),new h(!0,t)},k=function(t){return C?(i(t),R?D(t[0],t[1],O):D(t[0],t[1])):R?D(t,O):D(t)};if(S)g=t.iterator;else if(E)g=t;else{if(!(m=p(t)))throw new f(a(t)+" is not iterable");if(c(m)){for(b=0,y=s(t);y>b;b++)if((x=k(t[b]))&&u(v,x))return x;return new h(!1)}g=l(t,m)}for(_=S?t.next:g.next;!(w=o(_,g)).done;){try{x=k(w.value)}catch(t){d(g,"throw",t)}if("object"==typeof x&&x&&u(v,x))return x}return new h(!1)}},2125:function(t,e,n){"use strict";var r=n(2615),o=n(5027),i=n(4849);t.exports=function(t,e,n){var a,c;o(t);try{if(!(a=i(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){c=!0,a=t}if("throw"===e)throw n;if(c)throw a;return o(a),n}},974:function(t,e,n){"use strict";var r=n(2013).IteratorPrototype,o=n(5391),i=n(5684),a=n(5997),c=n(9478),s=function(){return this};t.exports=function(t,e,n,u){var l=e+" Iterator";return t.prototype=o(r,{next:i(+!u,n)}),a(t,l,!1,!0),c[l]=s,t}},1934:function(t,e,n){"use strict";var r=n(9989),o=n(2615),i=n(3931),a=n(1236),c=n(9985),s=n(974),u=n(1868),l=n(9385),p=n(5997),d=n(5773),f=n(1880),h=n(4201),v=n(9478),g=n(2013),m=a.PROPER,b=a.CONFIGURABLE,y=g.IteratorPrototype,x=g.BUGGY_SAFARI_ITERATORS,_=h("iterator"),w="keys",P="values",C="entries",S=function(){return this};t.exports=function(t,e,n,a,h,g,E){s(n,e,a);var R,D,O,k=function(t){if(t===h&&F)return F;if(!x&&t&&t in I)return I[t];switch(t){case w:case P:case C:return function(){return new n(this,t)}}return function(){return new n(this)}},A=e+" Iterator",j=!1,I=t.prototype,T=I[_]||I["@@iterator"]||h&&I[h],F=!x&&T||k(h),L="Array"===e&&I.entries||T;if(L&&(R=u(L.call(new t)))!==Object.prototype&&R.next&&(i||u(R)===y||(l?l(R,y):c(R[_])||f(R,_,S)),p(R,A,!0,!0),i&&(v[A]=S)),m&&h===P&&T&&T.name!==P&&(!i&&b?d(I,"name",P):(j=!0,F=function(){return o(T,this)})),h)if(D={values:k(P),keys:g?F:k(w),entries:k(C)},E)for(O in D)(x||j||!(O in I))&&f(I,O,D[O]);else r({target:e,proto:!0,forced:x||j},D);return i&&!E||I[_]===F||f(I,_,F,{name:h}),v[e]=F,D}},2013:function(t,e,n){"use strict";var r,o,i,a=n(3689),c=n(9985),s=n(8999),u=n(5391),l=n(1868),p=n(1880),d=n(4201),f=n(3931),h=d("iterator"),v=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(r=o):v=!0),!s(r)||a((function(){var t={};return r[h].call(t)!==t}))?r={}:f&&(r=u(r)),c(r[h])||p(r,h,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},9478:function(t){"use strict";t.exports={}},6310:function(t,e,n){"use strict";var r=n(3126);t.exports=function(t){return r(t.length)}},8702:function(t,e,n){"use strict";var r=n(8844),o=n(3689),i=n(9985),a=n(6812),c=n(7697),s=n(1236).CONFIGURABLE,u=n(6738),l=n(618),p=l.enforce,d=l.get,f=String,h=Object.defineProperty,v=r("".slice),g=r("".replace),m=r([].join),b=c&&!o((function(){return 8!==h((function(){}),"length",{value:8}).length})),y=String(String).split("String"),x=t.exports=function(t,e,n){"Symbol("===v(f(e),0,7)&&(e="["+g(f(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!a(t,"name")||s&&t.name!==e)&&(c?h(t,"name",{value:e,configurable:!0}):t.name=e),b&&n&&a(n,"arity")&&t.length!==n.arity&&h(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?c&&h(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=p(t);return a(r,"source")||(r.source=m(y,"string"==typeof e?e:"")),t};Function.prototype.toString=x((function(){return i(this)&&d(this).source||u(this)}),"toString")},8828:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},231:function(t,e,n){"use strict";var r,o,i,a,c,s=n(9037),u=n(4071),l=n(2474).f,p=n(9886).set,d=n(4410),f=n(4764),h=n(3221),v=n(7486),g=n(806),m=s.MutationObserver||s.WebKitMutationObserver,b=s.document,y=s.process,x=s.Promise,_=l(s,"queueMicrotask"),w=_&&_.value;if(!w){var P=new d,C=function(){var t,e;for(g&&(t=y.domain)&&t.exit();e=P.get();)try{e()}catch(t){throw P.head&&r(),t}t&&t.enter()};f||g||v||!m||!b?!h&&x&&x.resolve?((a=x.resolve(void 0)).constructor=x,c=u(a.then,a),r=function(){c(C)}):g?r=function(){y.nextTick(C)}:(p=u(p,s),r=function(){p(C)}):(o=!0,i=b.createTextNode(""),new m(C).observe(i,{characterData:!0}),r=function(){i.data=o=!o}),w=function(t){P.head||r(),P.add(t)}}t.exports=w},8742:function(t,e,n){"use strict";var r=n(509),o=TypeError,i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw new o("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},5391:function(t,e,n){"use strict";var r,o=n(5027),i=n(8920),a=n(2739),c=n(7248),s=n(2688),u=n(6420),l=n(2713),p="prototype",d="script",f=l("IE_PROTO"),h=function(){},v=function(t){return"<"+d+">"+t+"</"+d+">"},g=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;m="undefined"!=typeof document?document.domain&&r?g(r):(e=u("iframe"),n="java"+d+":",e.style.display="none",s.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(v("document.F=Object")),t.close(),t.F):g(r);for(var o=a.length;o--;)delete m[p][a[o]];return m()};c[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h[p]=o(t),n=new h,h[p]=null,n[f]=t):n=m(),void 0===e?n:i.f(n,e)}},8920:function(t,e,n){"use strict";var r=n(7697),o=n(5648),i=n(2560),a=n(5027),c=n(5290),s=n(300);e.f=r&&!o?Object.defineProperties:function(t,e){a(t);for(var n,r=c(e),o=s(e),u=o.length,l=0;u>l;)i.f(t,n=o[l++],r[n]);return t}},2560:function(t,e,n){"use strict";var r=n(7697),o=n(8506),i=n(5648),a=n(5027),c=n(8360),s=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,p="enumerable",d="configurable",f="writable";e.f=r?i?function(t,e,n){if(a(t),e=c(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&f in n&&!n[f]){var r=l(t,e);r&&r[f]&&(t[e]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:p in n?n[p]:r[p],writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(a(t),e=c(e),a(n),o)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new s("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},2474:function(t,e,n){"use strict";var r=n(7697),o=n(2615),i=n(9556),a=n(5684),c=n(5290),s=n(8360),u=n(6812),l=n(8506),p=Object.getOwnPropertyDescriptor;e.f=r?p:function(t,e){if(t=c(t),e=s(e),l)try{return p(t,e)}catch(t){}if(u(t,e))return a(!o(i.f,t,e),t[e])}},2741:function(t,e,n){"use strict";var r=n(4948),o=n(2739).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},7518:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},1868:function(t,e,n){"use strict";var r=n(6812),o=n(9985),i=n(690),a=n(2713),c=n(1748),s=a("IE_PROTO"),u=Object,l=u.prototype;t.exports=c?u.getPrototypeOf:function(t){var e=i(t);if(r(e,s))return e[s];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof u?l:null}},3622:function(t,e,n){"use strict";var r=n(8844);t.exports=r({}.isPrototypeOf)},4948:function(t,e,n){"use strict";var r=n(8844),o=n(6812),i=n(5290),a=n(4328).indexOf,c=n(7248),s=r([].push);t.exports=function(t,e){var n,r=i(t),u=0,l=[];for(n in r)!o(c,n)&&o(r,n)&&s(l,n);for(;e.length>u;)o(r,n=e[u++])&&(~a(l,n)||s(l,n));return l}},300:function(t,e,n){"use strict";var r=n(4948),o=n(2739);t.exports=Object.keys||function(t){return r(t,o)}},9556:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},9385:function(t,e,n){"use strict";var r=n(2743),o=n(5027),i=n(3550);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return o(n),i(r),e?t(n,r):n.__proto__=r,n}}():void 0)},5899:function(t,e,n){"use strict";var r=n(2615),o=n(9985),i=n(8999),a=TypeError;t.exports=function(t,e){var n,c;if("string"===e&&o(n=t.toString)&&!i(c=r(n,t)))return c;if(o(n=t.valueOf)&&!i(c=r(n,t)))return c;if("string"!==e&&o(n=t.toString)&&!i(c=r(n,t)))return c;throw new a("Can't convert object to primitive value")}},9152:function(t,e,n){"use strict";var r=n(6058),o=n(8844),i=n(2741),a=n(7518),c=n(5027),s=o([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(c(t)),n=a.f;return n?s(e,n(t)):e}},9302:function(t){"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},7073:function(t,e,n){"use strict";var r=n(9037),o=n(7919),i=n(9985),a=n(5266),c=n(6738),s=n(4201),u=n(2532),l=n(8563),p=n(3931),d=n(3615),f=o&&o.prototype,h=s("species"),v=!1,g=i(r.PromiseRejectionEvent),m=a("Promise",(function(){var t=c(o),e=t!==String(o);if(!e&&66===d)return!0;if(p&&(!f.catch||!f.finally))return!0;if(!d||d<51||!/native code/.test(t)){var n=new o((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[h]=r,!(v=n.then((function(){}))instanceof r))return!0}return!e&&(u||l)&&!g}));t.exports={CONSTRUCTOR:m,REJECTION_EVENT:g,SUBCLASSING:v}},7919:function(t,e,n){"use strict";var r=n(9037);t.exports=r.Promise},2945:function(t,e,n){"use strict";var r=n(5027),o=n(8999),i=n(8742);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},562:function(t,e,n){"use strict";var r=n(7919),o=n(6431),i=n(7073).CONSTRUCTOR;t.exports=i||!o((function(t){r.all(t).then(void 0,(function(){}))}))},4410:function(t){"use strict";var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},6308:function(t,e,n){"use strict";var r,o,i=n(2615),a=n(8844),c=n(4327),s=n(9633),u=n(7901),l=n(3430),p=n(5391),d=n(618).get,f=n(2100),h=n(6422),v=l("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,m=g,b=a("".charAt),y=a("".indexOf),x=a("".replace),_=a("".slice),w=(o=/b*/g,i(g,r=/a/,"a"),i(g,o,"a"),0!==r.lastIndex||0!==o.lastIndex),P=u.BROKEN_CARET,C=void 0!==/()??/.exec("")[1];(w||C||P||f||h)&&(m=function(t){var e,n,r,o,a,u,l,f=this,h=d(f),S=c(t),E=h.raw;if(E)return E.lastIndex=f.lastIndex,e=i(m,E,S),f.lastIndex=E.lastIndex,e;var R=h.groups,D=P&&f.sticky,O=i(s,f),k=f.source,A=0,j=S;if(D&&(O=x(O,"y",""),-1===y(O,"g")&&(O+="g"),j=_(S,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==b(S,f.lastIndex-1))&&(k="(?: "+k+")",j=" "+j,A++),n=new RegExp("^(?:"+k+")",O)),C&&(n=new RegExp("^"+k+"$(?!\\s)",O)),w&&(r=f.lastIndex),o=i(g,D?n:f,j),D?o?(o.input=_(o.input,A),o[0]=_(o[0],A),o.index=f.lastIndex,f.lastIndex+=o[0].length):f.lastIndex=0:w&&o&&(f.lastIndex=f.global?o.index+o[0].length:r),C&&o&&o.length>1&&i(v,o[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&R)for(o.groups=u=p(null),a=0;a<R.length;a++)u[(l=R[a])[0]]=o[l[1]];return o}),t.exports=m},9633:function(t,e,n){"use strict";var r=n(5027);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},7901:function(t,e,n){"use strict";var r=n(3689),o=n(9037).RegExp,i=r((function(){var t=o("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),a=i||r((function(){return!o("a","y").sticky})),c=i||r((function(){var t=o("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:c,MISSED_STICKY:a,UNSUPPORTED_Y:i}},2100:function(t,e,n){"use strict";var r=n(3689),o=n(9037).RegExp;t.exports=r((function(){var t=o(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},6422:function(t,e,n){"use strict";var r=n(3689),o=n(9037).RegExp;t.exports=r((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4684:function(t,e,n){"use strict";var r=n(981),o=TypeError;t.exports=function(t){if(r(t))throw new o("Can't call method on "+t);return t}},4241:function(t,e,n){"use strict";var r=n(6058),o=n(2148),i=n(4201),a=n(7697),c=i("species");t.exports=function(t){var e=r(t);a&&e&&!e[c]&&o(e,c,{configurable:!0,get:function(){return this}})}},5997:function(t,e,n){"use strict";var r=n(2560).f,o=n(6812),i=n(4201)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!o(t,i)&&r(t,i,{configurable:!0,value:e})}},2713:function(t,e,n){"use strict";var r=n(3430),o=n(4630),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},4091:function(t,e,n){"use strict";var r=n(9037),o=n(5014),i="__core-js_shared__",a=r[i]||o(i,{});t.exports=a},3430:function(t,e,n){"use strict";var r=n(3931),o=n(4091);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.2",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"})},6373:function(t,e,n){"use strict";var r=n(5027),o=n(2655),i=n(981),a=n(4201)("species");t.exports=function(t,e){var n,c=r(t).constructor;return void 0===c||i(n=r(c)[a])?e:o(n)}},146:function(t,e,n){"use strict";var r=n(3615),o=n(3689),i=n(9037).String;t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol("symbol detection");return!i(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},9886:function(t,e,n){"use strict";var r,o,i,a,c=n(9037),s=n(1735),u=n(4071),l=n(9985),p=n(6812),d=n(3689),f=n(2688),h=n(6004),v=n(6420),g=n(1500),m=n(4764),b=n(806),y=c.setImmediate,x=c.clearImmediate,_=c.process,w=c.Dispatch,P=c.Function,C=c.MessageChannel,S=c.String,E=0,R={},D="onreadystatechange";d((function(){r=c.location}));var O=function(t){if(p(R,t)){var e=R[t];delete R[t],e()}},k=function(t){return function(){O(t)}},A=function(t){O(t.data)},j=function(t){c.postMessage(S(t),r.protocol+"//"+r.host)};y&&x||(y=function(t){g(arguments.length,1);var e=l(t)?t:P(t),n=h(arguments,1);return R[++E]=function(){s(e,void 0,n)},o(E),E},x=function(t){delete R[t]},b?o=function(t){_.nextTick(k(t))}:w&&w.now?o=function(t){w.now(k(t))}:C&&!m?(a=(i=new C).port2,i.port1.onmessage=A,o=u(a.postMessage,a)):c.addEventListener&&l(c.postMessage)&&!c.importScripts&&r&&"file:"!==r.protocol&&!d(j)?(o=j,c.addEventListener("message",A,!1)):o=D in v("script")?function(t){f.appendChild(v("script"))[D]=function(){f.removeChild(this),O(t)}}:function(t){setTimeout(k(t),0)}),t.exports={set:y,clear:x}},7578:function(t,e,n){"use strict";var r=n(8700),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},5290:function(t,e,n){"use strict";var r=n(4413),o=n(4684);t.exports=function(t){return r(o(t))}},8700:function(t,e,n){"use strict";var r=n(8828);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},3126:function(t,e,n){"use strict";var r=n(8700),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},690:function(t,e,n){"use strict";var r=n(4684),o=Object;t.exports=function(t){return o(r(t))}},8732:function(t,e,n){"use strict";var r=n(2615),o=n(8999),i=n(734),a=n(4849),c=n(5899),s=n(4201),u=TypeError,l=s("toPrimitive");t.exports=function(t,e){if(!o(t)||i(t))return t;var n,s=a(t,l);if(s){if(void 0===e&&(e="default"),n=r(s,t,e),!o(n)||i(n))return n;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(t,e)}},8360:function(t,e,n){"use strict";var r=n(8732),o=n(734);t.exports=function(t){var e=r(t,"string");return o(e)?e:e+""}},3043:function(t,e,n){"use strict";var r={};r[n(4201)("toStringTag")]="z",t.exports="[object z]"===String(r)},4327:function(t,e,n){"use strict";var r=n(926),o=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return o(t)}},3691:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},4630:function(t,e,n){"use strict";var r=n(8844),o=0,i=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},9525:function(t,e,n){"use strict";var r=n(146);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:function(t,e,n){"use strict";var r=n(7697),o=n(3689);t.exports=r&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1500:function(t){"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},9834:function(t,e,n){"use strict";var r=n(9037),o=n(9985),i=r.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},4201:function(t,e,n){"use strict";var r=n(9037),o=n(3430),i=n(6812),a=n(4630),c=n(146),s=n(9525),u=r.Symbol,l=o("wks"),p=s?u.for||u:u&&u.withoutSetter||a;t.exports=function(t){return i(l,t)||(l[t]=c&&i(u,t)?u[t]:p("Symbol."+t)),l[t]}},752:function(t,e,n){"use strict";var r=n(5290),o=n(7370),i=n(9478),a=n(618),c=n(2560).f,s=n(1934),u=n(7807),l=n(3931),p=n(7697),d="Array Iterator",f=a.set,h=a.getterFor(d);t.exports=s(Array,"Array",(function(t,e){f(this,{type:d,target:r(t),index:0,kind:e})}),(function(){var t=h(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,u(void 0,!0);switch(t.kind){case"keys":return u(n,!1);case"values":return u(e[n],!1)}return u([n,e[n]],!1)}),"values");var v=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!l&&p&&"values"!==v.name)try{c(v,"name",{value:"values"})}catch(t){}},5137:function(t,e,n){"use strict";var r=n(9989),o=n(8844),i=n(509),a=n(690),c=n(6310),s=n(8494),u=n(4327),l=n(3689),p=n(382),d=n(6834),f=n(7365),h=n(7298),v=n(3615),g=n(7922),m=[],b=o(m.sort),y=o(m.push),x=l((function(){m.sort(void 0)})),_=l((function(){m.sort(null)})),w=d("sort"),P=!l((function(){if(v)return v<70;if(!(f&&f>3)){if(h)return!0;if(g)return g<603;var t,e,n,r,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)m.push({k:e+r,v:n})}for(m.sort((function(t,e){return e.v-t.v})),r=0;r<m.length;r++)e=m[r].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));r({target:"Array",proto:!0,forced:x||!_||!w||!P},{sort:function(t){void 0!==t&&i(t);var e=a(this);if(P)return void 0===t?b(e):b(e,t);var n,r,o=[],l=c(e);for(r=0;r<l;r++)r in e&&y(o,e[r]);for(p(o,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:u(e)>u(n)?1:-1}}(t)),n=c(o),r=0;r<n;)e[r]=o[r++];for(;r<l;)s(e,r++);return e}})},1692:function(t,e,n){"use strict";var r=n(9989),o=n(2615),i=n(509),a=n(8742),c=n(9302),s=n(8734);r({target:"Promise",stat:!0,forced:n(562)},{all:function(t){var e=this,n=a.f(e),r=n.resolve,u=n.reject,l=c((function(){var n=i(e.resolve),a=[],c=0,l=1;s(t,(function(t){var i=c++,s=!1;l++,o(n,e,t).then((function(t){s||(s=!0,a[i]=t,--l||r(a))}),u)})),--l||r(a)}));return l.error&&u(l.value),n.promise}})},5089:function(t,e,n){"use strict";var r=n(9989),o=n(3931),i=n(7073).CONSTRUCTOR,a=n(7919),c=n(6058),s=n(9985),u=n(1880),l=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(t){return this.then(void 0,t)}}),!o&&s(a)){var p=c("Promise").prototype.catch;l.catch!==p&&u(l,"catch",p,{unsafe:!0})}},6697:function(t,e,n){"use strict";var r,o,i,a=n(9989),c=n(3931),s=n(806),u=n(9037),l=n(2615),p=n(1880),d=n(9385),f=n(5997),h=n(4241),v=n(509),g=n(9985),m=n(8999),b=n(767),y=n(6373),x=n(9886).set,_=n(231),w=n(920),P=n(9302),C=n(4410),S=n(618),E=n(7919),R=n(7073),D=n(8742),O="Promise",k=R.CONSTRUCTOR,A=R.REJECTION_EVENT,j=R.SUBCLASSING,I=S.getterFor(O),T=S.set,F=E&&E.prototype,L=E,V=F,M=u.TypeError,N=u.document,U=u.process,H=D.f,B=H,G=!!(N&&N.createEvent&&u.dispatchEvent),q="unhandledrejection",$=function(t){var e;return!(!m(t)||!g(e=t.then))&&e},z=function(t,e){var n,r,o,i=e.value,a=1===e.state,c=a?t.ok:t.fail,s=t.resolve,u=t.reject,p=t.domain;try{c?(a||(2===e.rejection&&J(e),e.rejection=1),!0===c?n=i:(p&&p.enter(),n=c(i),p&&(p.exit(),o=!0)),n===t.promise?u(new M("Promise-chain cycle")):(r=$(n))?l(r,n,s,u):s(n)):u(i)}catch(t){p&&!o&&p.exit(),u(t)}},W=function(t,e){t.notified||(t.notified=!0,_((function(){for(var n,r=t.reactions;n=r.get();)z(n,t);t.notified=!1,e&&!t.rejection&&Y(t)})))},K=function(t,e,n){var r,o;G?((r=N.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},!A&&(o=u["on"+t])?o(r):t===q&&w("Unhandled promise rejection",n)},Y=function(t){l(x,u,(function(){var e,n=t.facade,r=t.value;if(X(t)&&(e=P((function(){s?U.emit("unhandledRejection",r,n):K(q,n,r)})),t.rejection=s||X(t)?2:1,e.error))throw e.value}))},X=function(t){return 1!==t.rejection&&!t.parent},J=function(t){l(x,u,(function(){var e=t.facade;s?U.emit("rejectionHandled",e):K("rejectionhandled",e,t.value)}))},Q=function(t,e,n){return function(r){t(e,r,n)}},Z=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,W(t,!0))},tt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new M("Promise can't be resolved itself");var r=$(e);r?_((function(){var n={done:!1};try{l(r,e,Q(tt,n,t),Q(Z,n,t))}catch(e){Z(n,e,t)}})):(t.value=e,t.state=1,W(t,!1))}catch(e){Z({done:!1},e,t)}}};if(k&&(V=(L=function(t){b(this,V),v(t),l(r,this);var e=I(this);try{t(Q(tt,e),Q(Z,e))}catch(t){Z(e,t)}}).prototype,(r=function(t){T(this,{type:O,done:!1,notified:!1,parent:!1,reactions:new C,rejection:!1,state:0,value:void 0})}).prototype=p(V,"then",(function(t,e){var n=I(this),r=H(y(this,L));return n.parent=!0,r.ok=!g(t)||t,r.fail=g(e)&&e,r.domain=s?U.domain:void 0,0===n.state?n.reactions.add(r):_((function(){z(r,n)})),r.promise})),o=function(){var t=new r,e=I(t);this.promise=t,this.resolve=Q(tt,e),this.reject=Q(Z,e)},D.f=H=function(t){return t===L||undefined===t?new o(t):B(t)},!c&&g(E)&&F!==Object.prototype)){i=F.then,j||p(F,"then",(function(t,e){var n=this;return new L((function(t,e){l(i,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete F.constructor}catch(t){}d&&d(F,V)}a({global:!0,constructor:!0,wrap:!0,forced:k},{Promise:L}),f(L,O,!1,!0),h(O)},3964:function(t,e,n){"use strict";n(6697),n(1692),n(5089),n(8829),n(2092),n(7905)},8829:function(t,e,n){"use strict";var r=n(9989),o=n(2615),i=n(509),a=n(8742),c=n(9302),s=n(8734);r({target:"Promise",stat:!0,forced:n(562)},{race:function(t){var e=this,n=a.f(e),r=n.reject,u=c((function(){var a=i(e.resolve);s(t,(function(t){o(a,e,t).then(n.resolve,r)}))}));return u.error&&r(u.value),n.promise}})},2092:function(t,e,n){"use strict";var r=n(9989),o=n(2615),i=n(8742);r({target:"Promise",stat:!0,forced:n(7073).CONSTRUCTOR},{reject:function(t){var e=i.f(this);return o(e.reject,void 0,t),e.promise}})},7905:function(t,e,n){"use strict";var r=n(9989),o=n(6058),i=n(3931),a=n(7919),c=n(7073).CONSTRUCTOR,s=n(2945),u=o("Promise"),l=i&&!c;r({target:"Promise",stat:!0,forced:i||c},{resolve:function(t){return s(l&&this===u?a:this,t)}})},4043:function(t,e,n){"use strict";var r=n(9989),o=n(6308);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},6265:function(t,e,n){"use strict";var r=n(9037),o=n(6338),i=n(3265),a=n(752),c=n(5773),s=n(4201),u=s("iterator"),l=s("toStringTag"),p=a.values,d=function(t,e){if(t){if(t[u]!==p)try{c(t,u,p)}catch(e){t[u]=p}if(t[l]||c(t,l,e),o[e])for(var n in a)if(t[n]!==a[n])try{c(t,n,a[n])}catch(e){t[n]=a[n]}}};for(var f in o)d(r[f]&&r[f].prototype,f);d(i,"DOMTokenList")}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var o={};return function(){"use strict";function t(){return t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t.apply(this,arguments)}function e(t,n){return e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},e(t,n)}function n(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,e(t,n)}r.d(o,{default:function(){return rt}});var i=r(4616),a=(r(3964),"apply-redaction"),c="apply-all-redaction",s="annotation-removed",u="add-redaction-area";r(752),r(6265);const l=i.PDFViewCtrl,p=i.getDevicePagePoint,{Hammer:d}=i.vendors;let f=function(t){function e(e){var n;return(n=t.call(this,e,"square")||this).pdfViewer=e,n.cursorStyle="fv__cursor-cross",n.destroyHooks=[],n}n(e,t),e.getStateName=function(){return"create-redaction-state"};var r=e.prototype;return r.correctPosition=function(t){const e=this.pageRender.getShowWidth(),n=this.pageRender.getShowHeight();return{x:Math.max(0,Math.min(e,t.x)),y:Math.max(0,Math.min(n,t.y))}},r.start=function(t,{left:e,top:n}){this.shapeControl||(this.shapeControl=new l.ShapeControl({resizable:!1,enableDiagonally:!0}),this.shapeControl.active(t.$handler,t.$handler,{left:e,top:n,width:0,height:0}))},r.adjust=function(t,{x:e,y:n},{x:r,y:o}){let i,a,c=Math.abs(e-r),s=Math.abs(n-o);i=Math.min(e,r),a=Math.min(n,o),c=Math.max(c,1),s=Math.max(s,1);let u={left:i,top:a,width:c,height:s},l={left:i,top:a,right:i+c,bottom:a+s};t._applyAnnotBoundary(u),t.shape.boundary=l,t.shape.shape=u,t._updatePreviewer()},r.pageHandler=function(t){this.pageRender=t;const e=t.$handler.get(0);t.$handler.addClass(this.cursorStyle);const n=this.hammer=new d.Manager(e);t.$handler;n.add(new d.Pan({direction:d.DIRECTION_ALL})),n.on("panstart",(n=>{this.startPoint=p(e,n),t.getPDFPage().then((e=>{const[n,r]=e.reverseDevicePoint([this.startPoint.x,this.startPoint.y],this.pageRender.scale,this.pageRender.getRotation());this.start(t,{left:n,top:r})}))})),n.on("panmove",(t=>{const e=this.correctPosition({x:this.startPoint.x+t.deltaX,y:this.startPoint.y+t.deltaY});return this.currentPoint=e,this.adjust(this.shapeControl,this.startPoint,this.currentPoint)})),n.on("panend",(e=>{const n=this.correctPosition({x:this.startPoint.x+e.deltaX,y:this.startPoint.y+e.deltaY});this.currentPoint=n,this.adjust(this.shapeControl,this.startPoint,this.currentPoint),this.pdfViewer.eventEmitter.emit(u,t,this.shapeControl.shape.boundary),this.shapeControl.destroy(),this.shapeControl=null})),n.on("pancancel",(t=>{this.shapeControl.destroy(),this.shapeControl=null}))},r.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.destroyHooks.forEach((t=>t()))},e}(l.IStateHandler);const h=i.PDFViewCtrl.ViewerEvents,v=i.PDFViewCtrl.Consts.PDFDocPermission;var g=function(e){function r(t){return e.call(this,t,f)||this}n(r,e),r.getName=function(){return"RedactionController"};var o=r.prototype;return o.changePermission=function(t){this.getPDFUI().getPDFDocRender().then((t=>t.getUserPermission().getValue())).then((t=>{t&v.AnnotForm?this.component.unlock&&this.component.unlock():this.component.lock&&this.component.lock()}))},o.mounted=function(){let e=this.getPDFUI();this.addDestroyHook(e.addViewerEventListener(u,((n,r)=>{n.getPDFPage().then((o=>{const i=o.reverseDeviceRect(r,n.scale,n.getRotation());return o.markRedactAnnot([i]).then((e=>{e[0].setSubject(n.pdfViewer.i18n.t("viewer_:annotSubjects.Redact"));const r=n.pdfViewer.getAnnotDefaultProperty("redact");let o=16711680;return r.defaultAppearance&&void 0!==r.defaultAppearance.textColor&&(o=r.defaultAppearance.textColor),e[0].setRedactAppearance(t({textColor:o},r)).then((t=>e))})).catch((t=>{if(-6===t.error)return e.alert("dialog.error.noRedactionLicense"),Promise.reject(t);console.error(t)}))})).then((t=>{const r=t[0];let o=n.annotsRender.getAnnotRender(r.getId()).component;return e.eventEmitter.emit("markRedactAnnotSuccess",o.annot),n.annotsRender.activeAnnot(r.getId()),o})).then((t=>{n.pdfViewer.config.showCommentList&&t.showReplyDialog()})).catch((()=>{}))})),e.addViewerEventListener(h.openFileSuccess,(t=>this.changePermission(t))),e.addViewerEventListener(h.permissionChanged,(t=>this.changePermission(t))))},o.stateOut=function(){e.prototype.stateOut.call(this);let t=this.component.parent.element.classList;this.getPDFUI().getStateHandlerManager().then((function(e){"create-redaction-text-image-state"!==e.getCurrentStates().getStateName()&&t.remove("selected")}))},o.handle=function(){e.prototype.handle.call(this),this.component.parent.element.classList.add("selected"),this.getPDFUI().getStateHandlerManager().then((t=>{t.switchTo("create-redaction-state")}))},r}(i.StatefulController);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t){var e=function(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===m(e)?e:String(e)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b(r.key),r)}}function x(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}let _=i.PDFViewCtrl.PDF.constant.Graphics_ObjectType,w=i.PDFViewCtrl.stateHandler.StateHandlerUtils.getDevicePagePoint;const{Hammer:P}=i.vendors;let C=function(e){function r(t){var n;return(n=e.call(this,t)||this).cursorStyle="fv__cursor-highlight",n}n(r,e),r.getStateName=function(){return"create-redaction-text-image-state"};var o=r.prototype;return o.pageHandler=function(t){e.prototype.pageHandler.call(this,t);let n=t.$handler[0];const r=this.hammer;r.add(new P.Tap({event:"doubletap",taps:2})),r.add(new P.Tap({event:"singletap"})),r.get("doubletap").recognizeWith("singletap"),r.get("singletap").requireFailure("doubletap"),r.on("doubletap",(t=>{this.hideSelectMark(),this.doubleClickSelectHandle(t,n)}))},o.doubleClickSelectHandle=function(t,e){let n=w(e,t),r=[n.x,n.y],o=this.pageRender;o.getPDFPage().then((t=>[t,t.reverseDevicePoint(r,o.getScale(),o.getRotation())])).then((([t,[e,n]])=>{t.getGraphicsObjectAtPoint([e,n],0,_.All).then((t=>{if(!t)return;let e=t.getType();if(e!==_.Image&&e!==_.Text)return;let n=Promise.resolve([t.getRect()]);return e===_.Text&&(n=o.getDoubleClickTextRectAtPoint(r)),Promise.all([o.getPDFPage(),n]).then((([t,e])=>{this.addAnnotWithRectArray(t,e)}))}))}))},o.addAnnotWithRectArray=function(t,e){return e.length<1?Promise.resolve():this.addAnnot(t,e).then((t=>{const e=t[0],n=this.pageRender.annotsRender.getAnnotRender(e.getId()).component;return this.afterAddAnnot(n),this.pageRender.annotsRender.activeAnnot(e.getId()),n})).then((t=>{this.pdfViewer.config.showCommentList&&t.showReplyDialog()})).catch((t=>{}))},o.addAnnot=function(e,n){return e.markRedactAnnot(n).then((e=>{const n=e[0];n.setSubject(this.pdfViewer.i18n.t("viewer_:annotSubjects.Redact"));const r=this.pdfViewer.getAnnotDefaultProperty("redact");let o=16711680;return r.defaultAppearance&&void 0!==r.defaultAppearance.textColor&&(o=r.defaultAppearance.textColor),n.setRedactAppearance(t({textColor:o},r)),e})).catch((t=>{if(-6===t.error)return this.pdfViewer.viewerUI.alert("dialog.error.noRedactionLicense"),Promise.reject(t)}))},o.afterAddAnnot=function(t){this.pdfViewer.eventEmitter.emit("markRedactAnnotSuccess",t.annot)},r}(i.TextMarkupStateHandler);var S=function(t){function e(e){return t.call(this,e,C)||this}n(e,t),e.getName=function(){return"RedactionTextAndImageController"};var r=e.prototype;return r.stateOut=function(){t.prototype.stateOut.call(this);let e=this.component.parent.element.classList;this.getPDFUI().getStateHandlerManager().then((function(t){"create-redaction-state"!==t.getCurrentStates().getStateName()&&e.remove("selected")}))},r.handle=function(){t.prototype.handle.call(this),this.component.parent.element.classList.add("selected"),this.getPDFUI().getStateHandlerManager().then((t=>{t.switchTo("create-redaction-text-image-state")}))},x(e,null,[{key:"permission",get:function(){return i.PDFViewCtrl.Consts.PDFDocPermission.AnnotForm}}]),e}(i.StatefulController);r(4043),r(5137);const E=i.vendors.jQuery,R="password-input-tip",D=()=>{E("."+R).remove()},O=(t,e,n=!1)=>{if(D(),!t)return;let r=E(`<span class="${R}"><span>`);const o=E('<i class="password-input-tip-text" role="alert" aria-live="assertive" ><i>');if(o.text(t),r.empty().append(o),n)E(e).before(r),r.css({left:0,top:"calc(100% + 8px)"}).addClass("relative");else{const t=e.getBoundingClientRect();r.css({left:t.left-13+"px"}).appendTo("body"),r.css({top:t.top+35+"px"})}},k=i.PDFViewCtrl.Deps.jQuery;let A=function(t){function e(e){var n;return(n=t.call(this,e)||this).unBindEventHooks=[],n}n(e,t),e.getName=function(){return"RedactionPagesController"};var r=e.prototype;return r.getElement=function(){return this.component.element},r.updateText=function(t,e){this.docPageCount=e,k(this.getElement()).find("[name=pageCount]").text(e),this.getComponentByName("redactPages").updatePageCount(e)},r.bindEvent=function(t,e,n){let r=this.getElement().querySelectorAll(t);0!=r.length&&r.forEach((t=>{t.addEventListener(e,n),this.unBindEventHooks.push((()=>{t.removeEventListener(e,n)}))}))},r.mounted=function(){this.bindEvent(".redaction-page-radio","change",(t=>{if(t.target.checked){this.hideError();let e=this.getElement().querySelector(".range-input__input");if("1"==t.target.value)e.setAttribute("disabled","");else{e.removeAttribute("disabled");let t=this.pdfUI.pdfViewer.getPDFDocRender(),n=t.doc,r=t.getCurrentPageIndex()+1;this.getComponentByName("redactPages").reset({doc:n,pageCount:this.docPageCount,currentIndexOrPages:""+r})}}})),this.bindEvent(".fv__redaction-cancel","click",(t=>{this.hide()})),this.bindEvent(".fv__redaction-btn","click",(t=>{this.submit()})),this.bindEvent(".range-input__input","keydown",(t=>{this.hideError()}))},r.setSubmitCallback=function(t){this.submitCallback=t},r.submit=function(){this.docPageCount;let t=!1;this.getElement().querySelectorAll(".redaction-page-radio").forEach((e=>{e.checked&&"1"==e.value&&(t=!0)}));let e=[];if(t){let t=this.pdfUI.pdfViewer.getPDFDocRender();e.push(t.getCurrentPageIndex())}else e=this.computePages();this.submitCallback(e)},r.reset=function(){this.hideError(),this.getElement().querySelector(".redaction-page-radio").click();let t=this.getElement().querySelector(".range-input__input");t.value="",t.disabled=1},r.showError=function(t){const e=this.getElement().querySelector(".range-input__input");e.classList.add("fv__redaction-error"),O(e.getAttribute("placeholder"),e)},r.hideError=function(){this.getElement().querySelector(".range-input__input").classList.remove("fv__redaction-error"),D()},r.hide=function(){this.component.hide(),O()},r.destroy=function(){this.unBindEventHooks.forEach((t=>t())),t.prototype.destroy.call(this)},r.computePages=function(){let t=[];const e=(this.getComponentByName("redactPages").getRange()+"").split(",");for(let n=0;n<e.length;n++){let r=e[n];if(!r)continue;if(r.indexOf("-")<1){const e=parseInt(r);e>0&&t.push(e-1);continue}const o=r.split("-");let i=0,a=0;for(let t=0;t<o.length;t++){const e=o[t];if(!e)continue;const n=parseInt(e);0===i?(i=n,a=n):n<i?i=n:n>a&&(a=n)}if(i>0)for(let e=i;e<=a;e++)t.push(e-1)}return t.length>0&&(t=t.sort()),t},e}(i.Controller);var j=r(7420),I=r.n(j);i.PDFViewCtrl._internal.shared.Lazy;const{Events:T}=i.PDFViewCtrl;var F=function(e){function r(t){return e.call(this,t)||this}n(r,e),r.getName=function(){return"RedactionPageController"};var o=r.prototype;return o.changePermission=function(t){this.getPDFUI().getPDFDocRender().then((t=>t.getUserPermission().getValue())).then((t=>{t&i.PDFViewCtrl.Consts.PDFDocPermission.AnnotForm?this.component.unlock&&this.component.unlock():this.component.lock&&this.component.lock()}))},o.handle=function(){let t;this.uiInited?t=Promise.resolve(this.popop=this.getComponentByName("redaction-page-popup")).then((t=>{this.resetDialog()})):(t=this.getPDFUI().getComponentByName("template-container").then((t=>{t.append(I()(),[{target:"redaction-page-popup",config:{callback:A}}]),this.popop=t.getComponentByName("redaction-page-popup"),this.resetDialog()})),this.uiInited=!0),t.then((t=>{this.popop.show(),this.popop.controller.reset()}))},o.mounted=function(){let t=this.getPDFUI();const e=()=>{this.popop&&t.getCurrentPDFDoc().then((e=>{let n=e.getPageCount(),r=t.i18n.t("redaction:dialog.readaction_page_max")+n;this.popop.controller.updateText(r,n)}))},n=t=>{this.pdfDoc=t,this.resetDialog(),this.changePermission(t)};this.addDestroyHook(t.addViewerEventListener("change-language-success",(e=>{if(!this.popop)return;let n=this.pdfDoc?this.pdfDoc.getPageCount():0,r=t.i18n.t("redaction:dialog.readaction_page_max")+n;this.popop.controller.updateText(r,n)})),t.addViewerEventListener(T.pageRemoved,e),t.addViewerEventListener(T.pagesRemoved,e),t.addViewerEventListener(T.pageAdded,e),t.addViewerEventListener(T.insertPages,e),t.addViewerEventListener(T.openFileSuccess,n),t.addViewerEventListener(T.willCloseDocument,(()=>{this.pdfDoc=null})),t.addViewerEventListener(T.permissionChanged,(t=>this.changePermission(t)))),t.getCurrentPDFDoc().then((t=>t&&n(t)))},o.resetDialog=function(){if(!this.popop)return;const e=this.pdfDoc;let n=this.getPDFUI(),r=e.getPageCount();function o(e){n.getPDFViewer().then((n=>{const r=n.getAnnotDefaultProperty("redact");let o=[],i=16711680;r.defaultAppearance&&void 0!==r.defaultAppearance.textColor&&(i=r.defaultAppearance.textColor),e.map((e=>{let n=e[0];o.push(n),n.setRedactAppearance(t({textColor:i},r))})),n.eventEmitter.emit("makeRedactByPagesSuccess",o)}))}this.popop.controller.setSubmitCallback((t=>{n.activateElement(),0==t.length?n.getPDFViewer().then((e=>{t=[e.getPDFDocRender().getCurrentPageIndex()],this.pdfDoc.makeRedactByPages(t).then((t=>{o(t),this.popop.hide()})).catch((t=>{-6===t.error&&n.alert("dialog.error.noRedactionLicense")}))})):this.pdfDoc.makeRedactByPages(t).then((t=>{o(t),this.popop.hide()})).catch((t=>{-6===t.error&&n.alert("dialog.error.noRedactionLicense")}))}));let i=n.i18n.t("redaction:dialog.readaction_page_max")+r;this.popop.controller.updateText(i,r)},r}(i.Controller);var L={print:4,modify:8,extract:16,annotForm:32,fillForm:256,extractAccess:512,assemble:1024,printHigh:2048};const{Events:V}=i.PDFViewCtrl;function M(t){return"redact"==t.info.type&&!1===t.info.isDeleted}var N=function(t){function e(e){return t.call(this,e)||this}n(e,t);var r=e.prototype;return r.handle=function(){if(this.component.disabled)return;let t=this.getPDFUI();return t.getPDFViewer().then((e=>{this.checkApplicablePermission(e).then((n=>{n?t.confirm({message:"redaction:dialog.apply_alert",level:"warning",hideOnConfirm:!1}).then((n=>{let r=e.getCurrentPDFDoc();r.applyRedaction().then((()=>{n.hide(),t.eventEmitter.emit(i.UIEvents.undoRedoStoreChange,null,"clearAll")}),(e=>{if(n.hide(),-6!==e.error)throw e;t.alert({message:"dialog.error.noRedactionLicense",level:"warning"})})),r.redacted=!0}),(()=>{})):t.alert({message:"dialog.error.noRedactionApplyPermission",level:"warning"})}))}))},r.mounted=function(){let t=this.getPDFUI();t.addDestroyHook(t.addViewerEventListener(c,((t,e)=>{this.component.lock()})),t.addViewerEventListener(a,((t,e)=>{this.isRedactExist()})),t.addViewerEventListener(V.openFileSuccess,(t=>{this.component.lock()})),t.addViewerEventListener(V.renderPageSuccess,(t=>{this.component.isLocked&&t.getPDFPage().then((t=>t.getAnnots())).then((t=>{t.some((t=>M(t)))&&this.component.unlock()}))})),t.addViewerEventListener(V.annotationAdd,(e=>{this.component.isLocked&&t.getPDFDocRender().then((t=>{if(8&t.getUserPermission().getValue()){e.some((t=>M(t)))&&this.component.unlock()}}))})),t.addViewerEventListener(s,(e=>{t.getCurrentPDFDoc().then((t=>{t&&t.checkPermission(L.modify)&&t.checkPermission(L.annotForm)&&this.isRedactExist()}))}))),t.getCurrentPDFDoc().then((t=>{t&&t.checkPermission(L.modify)&&t.checkPermission(L.annotForm)&&t.pageCache.some((t=>t.annots.some((t=>"redact"==t.getType()))))?this.component.unlock():this.component.lock()}))},r.isRedactExist=function(){this.getPDFUI().getPDFViewer().then((t=>t.currentPDFDoc.getAnnots())).then((t=>{let e=!1;for(let n=0;n<t.length;n++){let r=t[n];for(let t=0;t<r.length;t++){if(M(r[t])){e=!0;break}}if(e)break}e?this.component.unlock():this.component.lock()}))},r.checkApplicablePermission=function(t){return Promise.resolve(!0)},x(e,null,[{key:"permission",get:function(){return i.PDFViewCtrl.Consts.PDFDocPermission.ModifyDocument}}]),e}(i.Controller);const U=i.UIEvents;var H=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.handle=function(){if(PDFViewCtrl.DeviceInfo.isMobile||PDFViewCtrl.DeviceInfo.isTablet){this.getComponentByName("sidebar").expand(),this.getComponentByName("sidebar-search").active(),this.getComponentByName("fv-search-sidebar-panel").activeRedactionMode(),this.getPDFUI().eventEmitter.emit(U.redeModeShowSidebar)}else this.pdfUI.callAddonAPI("SearchAddon","openPanel",["redaction","exact"])},e}(i.Controller),B=r(6520),G=r.n(B),q=r(347),$=r.n(q),z=r(4925),W=r.n(z),K=r(7354),Y=r.n(K),X=r(79),J=r.n(X),Q=r(408),Z=r.n(Q);const{replaceRibbonButton2XButton:tt}=i.shared,et=G()(),nt=$()();let rt=function(e){function r(){return e.apply(this,arguments)||this}return n(r,e),r.getName=function(){return"redaction"},r.getLoader=function(){return Z()},r.initOnLoad=function(){const e=i.modular.module("redaction",[]),r=e.getRegistry();this.module=e,r.registerController(g),r.registerController(S),r.registerController(F);const o={template:et,config:[{target:"create-redaction-controllers",callback:function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.changePermission=function(t){this.getPDFUI().getPDFDocRender().then((t=>t&&t.getUserPermission().getValue())).then((e=>{!(!t||t.isDestroyed)&&!t.isPortfolio()&&e&i.PDFViewCtrl.Consts.PDFDocPermission.AnnotForm?this.component.unlock&&this.component.unlock():this.component.lock&&this.component.lock()}))},e}(i.Controller)}]};e.registerPreConfiguredComponent("create-redactions-dropdown",o),e.registerPreConfiguredComponent("create-redactions-ribbon-dropdown",t({},o,{template:nt}));const a={template:'<ribbon-button text="redaction:buttons.apply" name="redaction-apply"  icon-class="fv__icon-toolbar-apply-redaction"  @tooltip>redaction:buttons.apply</ribbon-button>',config:[{target:"redaction-apply",tooltip:{title:"redaction:tooltips.apply"},callback:N}]};e.registerPreConfiguredComponent("apply-redactions-ribbon-button",a),e.registerPreConfiguredComponent("apply-redactions-button",t({},a,{template:tt(a.template)}));const c={template:'<ribbon-button text="redaction:buttons.redact_search" name="redaction-search" icon-class="fv__icon-toolbar-search-redaction" @tooltip>redaction:buttons.redact_search</ribbon-button>',config:[{target:"redaction-search",tooltip:{title:"redaction:buttons.redact_search"},callback:H}]};e.registerPreConfiguredComponent("redaction-search-ribbon-button",c),e.registerPreConfiguredComponent("redaction-search-button",t({},c,{template:tt(c.template)})),e.registerPreConfiguredComponent("create-page-redaction-button",{template:W()()}),e.registerPreConfiguredComponent("create-area-redaction-button",{template:Y()()}),e.registerPreConfiguredComponent("create-text-image-redaction-button",{template:J()()})},r.prototype.fragments=function(){return[]},r}(i.UIXAddon)}(),o=o.default}()}));